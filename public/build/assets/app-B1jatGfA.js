var xl=Object.defineProperty;var Sl=(t,n,e)=>n in t?xl(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var ze=(t,n,e)=>(Sl(t,typeof n!="symbol"?n+"":n,e),e);function Gr(t,n){return function(){return t.apply(n,arguments)}}const{toString:El}=Object.prototype,{getPrototypeOf:Zi}=Object,Tn=(t=>n=>{const e=El.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Se=t=>(t=t.toLowerCase(),n=>Tn(n)===t),Ln=t=>n=>typeof n===t,{isArray:gt}=Array,Mt=Ln("undefined");function Al(t){return t!==null&&!Mt(t)&&t.constructor!==null&&!Mt(t.constructor)&&we(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Qr=Se("ArrayBuffer");function Dl(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Qr(t.buffer),n}const Tl=Ln("string"),we=Ln("function"),Xr=Ln("number"),kn=t=>t!==null&&typeof t=="object",Ll=t=>t===!0||t===!1,un=t=>{if(Tn(t)!=="object")return!1;const n=Zi(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},kl=Se("Date"),Ml=Se("File"),Il=Se("Blob"),Fl=Se("FileList"),Pl=t=>kn(t)&&we(t.pipe),Nl=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||we(t.append)&&((n=Tn(t))==="formdata"||n==="object"&&we(t.toString)&&t.toString()==="[object FormData]"))},Rl=Se("URLSearchParams"),[$l,Hl,jl,Bl]=["ReadableStream","Request","Response","Headers"].map(Se),ql=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rt(t,n,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),gt(t))for(i=0,s=t.length;i<s;i++)n.call(null,t[i],i,t);else{const o=e?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let a;for(i=0;i<r;i++)a=o[i],n.call(null,t[a],a,t)}}function Zr(t,n){n=n.toLowerCase();const e=Object.keys(t);let i=e.length,s;for(;i-- >0;)if(s=e[i],n===s.toLowerCase())return s;return null}const eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,to=t=>!Mt(t)&&t!==eo;function Si(){const{caseless:t}=to(this)&&this||{},n={},e=(i,s)=>{const o=t&&Zr(n,s)||s;un(n[o])&&un(i)?n[o]=Si(n[o],i):un(i)?n[o]=Si({},i):gt(i)?n[o]=i.slice():n[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Rt(arguments[i],e);return n}const Vl=(t,n,e,{allOwnKeys:i}={})=>(Rt(n,(s,o)=>{e&&we(s)?t[o]=Gr(s,e):t[o]=s},{allOwnKeys:i}),t),Ul=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zl=(t,n,e,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},Kl=(t,n,e,i)=>{let s,o,r;const a={};if(n=n||{},t==null)return n;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)r=s[o],(!i||i(r,t,n))&&!a[r]&&(n[r]=t[r],a[r]=!0);t=e!==!1&&Zi(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},Yl=(t,n,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=n.length;const i=t.indexOf(n,e);return i!==-1&&i===e},Wl=t=>{if(!t)return null;if(gt(t))return t;let n=t.length;if(!Xr(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},Jl=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Zi(Uint8Array)),Gl=(t,n)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;n.call(t,o[0],o[1])}},Ql=(t,n)=>{let e;const i=[];for(;(e=t.exec(n))!==null;)i.push(e);return i},Xl=Se("HTMLFormElement"),Zl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,s){return i.toUpperCase()+s}),$s=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),ec=Se("RegExp"),no=(t,n)=>{const e=Object.getOwnPropertyDescriptors(t),i={};Rt(e,(s,o)=>{let r;(r=n(s,o,t))!==!1&&(i[o]=r||s)}),Object.defineProperties(t,i)},tc=t=>{no(t,(n,e)=>{if(we(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=t[e];if(we(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},nc=(t,n)=>{const e={},i=s=>{s.forEach(o=>{e[o]=!0})};return gt(t)?i(t):i(String(t).split(n)),e},ic=()=>{},sc=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,Qn="abcdefghijklmnopqrstuvwxyz",Hs="0123456789",io={DIGIT:Hs,ALPHA:Qn,ALPHA_DIGIT:Qn+Qn.toUpperCase()+Hs},rc=(t=16,n=io.ALPHA_DIGIT)=>{let e="";const{length:i}=n;for(;t--;)e+=n[Math.random()*i|0];return e};function oc(t){return!!(t&&we(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ac=t=>{const n=new Array(10),e=(i,s)=>{if(kn(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[s]=i;const o=gt(i)?[]:{};return Rt(i,(r,a)=>{const c=e(r,s+1);!Mt(c)&&(o[a]=c)}),n[s]=void 0,o}}return i};return e(t,0)},lc=Se("AsyncFunction"),cc=t=>t&&(kn(t)||we(t))&&we(t.then)&&we(t.catch),S={isArray:gt,isArrayBuffer:Qr,isBuffer:Al,isFormData:Nl,isArrayBufferView:Dl,isString:Tl,isNumber:Xr,isBoolean:Ll,isObject:kn,isPlainObject:un,isReadableStream:$l,isRequest:Hl,isResponse:jl,isHeaders:Bl,isUndefined:Mt,isDate:kl,isFile:Ml,isBlob:Il,isRegExp:ec,isFunction:we,isStream:Pl,isURLSearchParams:Rl,isTypedArray:Jl,isFileList:Fl,forEach:Rt,merge:Si,extend:Vl,trim:ql,stripBOM:Ul,inherits:zl,toFlatObject:Kl,kindOf:Tn,kindOfTest:Se,endsWith:Yl,toArray:Wl,forEachEntry:Gl,matchAll:Ql,isHTMLForm:Xl,hasOwnProperty:$s,hasOwnProp:$s,reduceDescriptors:no,freezeMethods:tc,toObjectSet:nc,toCamelCase:Zl,noop:ic,toFiniteNumber:sc,findKey:Zr,global:eo,isContextDefined:to,ALPHABET:io,generateString:rc,isSpecCompliantForm:oc,toJSONObject:ac,isAsyncFn:lc,isThenable:cc};function H(t,n,e,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),i&&(this.request=i),s&&(this.response=s)}S.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const so=H.prototype,ro={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ro[t]={value:t}});Object.defineProperties(H,ro);Object.defineProperty(so,"isAxiosError",{value:!0});H.from=(t,n,e,i,s,o)=>{const r=Object.create(so);return S.toFlatObject(t,r,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),H.call(r,t.message,n,e,i,s),r.cause=t,r.name=t.name,o&&Object.assign(r,o),r};const uc=null;function Ei(t){return S.isPlainObject(t)||S.isArray(t)}function oo(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function js(t,n,e){return t?t.concat(n).map(function(s,o){return s=oo(s),!e&&o?"["+s+"]":s}).join(e?".":""):n}function dc(t){return S.isArray(t)&&!t.some(Ei)}const fc=S.toFlatObject(S,{},null,function(n){return/^is[A-Z]/.test(n)});function Mn(t,n,e){if(!S.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,e=S.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,l){return!S.isUndefined(l[_])});const i=e.metaTokens,s=e.visitor||f,o=e.dots,r=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(n);if(!S.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(S.isDate(b))return b.toISOString();if(!c&&S.isBlob(b))throw new H("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(b)||S.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function f(b,_,l){let d=b;if(b&&!l&&typeof b=="object"){if(S.endsWith(_,"{}"))_=i?_:_.slice(0,-2),b=JSON.stringify(b);else if(S.isArray(b)&&dc(b)||(S.isFileList(b)||S.endsWith(_,"[]"))&&(d=S.toArray(b)))return _=oo(_),d.forEach(function(g,O){!(S.isUndefined(g)||g===null)&&n.append(r===!0?js([_],O,o):r===null?_:_+"[]",u(g))}),!1}return Ei(b)?!0:(n.append(js(l,_,o),u(b)),!1)}const v=[],y=Object.assign(fc,{defaultVisitor:f,convertValue:u,isVisitable:Ei});function A(b,_){if(!S.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(b),S.forEach(b,function(d,h){(!(S.isUndefined(d)||d===null)&&s.call(n,d,S.isString(h)?h.trim():h,_,y))===!0&&A(d,_?_.concat(h):[h])}),v.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return A(t),n}function Bs(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function es(t,n){this._pairs=[],t&&Mn(t,this,n)}const ao=es.prototype;ao.append=function(n,e){this._pairs.push([n,e])};ao.toString=function(n){const e=n?function(i){return n.call(this,i,Bs)}:Bs;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function hc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lo(t,n,e){if(!n)return t;const i=e&&e.encode||hc,s=e&&e.serialize;let o;if(s?o=s(n,e):o=S.isURLSearchParams(n)?n.toString():new es(n,e).toString(i),o){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class qs{constructor(){this.handlers=[]}use(n,e,i){return this.handlers.push({fulfilled:n,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){S.forEach(this.handlers,function(i){i!==null&&n(i)})}}const co={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pc=typeof URLSearchParams<"u"?URLSearchParams:es,gc=typeof FormData<"u"?FormData:null,mc=typeof Blob<"u"?Blob:null,vc={isBrowser:!0,classes:{URLSearchParams:pc,FormData:gc,Blob:mc},protocols:["http","https","file","blob","url","data"]},ts=typeof window<"u"&&typeof document<"u",bc=(t=>ts&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),yc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wc=ts&&window.location.href||"http://localhost",_c=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ts,hasStandardBrowserEnv:bc,hasStandardBrowserWebWorkerEnv:yc,origin:wc},Symbol.toStringTag,{value:"Module"})),Ce={..._c,...vc};function Oc(t,n){return Mn(t,new Ce.classes.URLSearchParams,Object.assign({visitor:function(e,i,s,o){return Ce.isNode&&S.isBuffer(e)?(this.append(i,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}function Cc(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function xc(t){const n={},e=Object.keys(t);let i;const s=e.length;let o;for(i=0;i<s;i++)o=e[i],n[o]=t[o];return n}function uo(t){function n(e,i,s,o){let r=e[o++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),c=o>=e.length;return r=!r&&S.isArray(s)?s.length:r,c?(S.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i,!a):((!s[r]||!S.isObject(s[r]))&&(s[r]=[]),n(e,i,s[r],o)&&S.isArray(s[r])&&(s[r]=xc(s[r])),!a)}if(S.isFormData(t)&&S.isFunction(t.entries)){const e={};return S.forEachEntry(t,(i,s)=>{n(Cc(i),s,e,0)}),e}return null}function Sc(t,n,e){if(S.isString(t))try{return(n||JSON.parse)(t),S.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(t)}const $t={transitional:co,adapter:["xhr","http","fetch"],transformRequest:[function(n,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,o=S.isObject(n);if(o&&S.isHTMLForm(n)&&(n=new FormData(n)),S.isFormData(n))return s?JSON.stringify(uo(n)):n;if(S.isArrayBuffer(n)||S.isBuffer(n)||S.isStream(n)||S.isFile(n)||S.isBlob(n)||S.isReadableStream(n))return n;if(S.isArrayBufferView(n))return n.buffer;if(S.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Oc(n,this.formSerializer).toString();if((a=S.isFileList(n))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Mn(a?{"files[]":n}:n,c&&new c,this.formSerializer)}}return o||s?(e.setContentType("application/json",!1),Sc(n)):n}],transformResponse:[function(n){const e=this.transitional||$t.transitional,i=e&&e.forcedJSONParsing,s=this.responseType==="json";if(S.isResponse(n)||S.isReadableStream(n))return n;if(n&&S.isString(n)&&(i&&!this.responseType||s)){const r=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(a){if(r)throw a.name==="SyntaxError"?H.from(a,H.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ce.classes.FormData,Blob:Ce.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{$t.headers[t]={}});const Ec=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ac=t=>{const n={};let e,i,s;return t&&t.split(`
`).forEach(function(r){s=r.indexOf(":"),e=r.substring(0,s).trim().toLowerCase(),i=r.substring(s+1).trim(),!(!e||n[e]&&Ec[e])&&(e==="set-cookie"?n[e]?n[e].push(i):n[e]=[i]:n[e]=n[e]?n[e]+", "+i:i)}),n},Vs=Symbol("internals");function xt(t){return t&&String(t).trim().toLowerCase()}function dn(t){return t===!1||t==null?t:S.isArray(t)?t.map(dn):String(t)}function Dc(t){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(t);)n[i[1]]=i[2];return n}const Tc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xn(t,n,e,i,s){if(S.isFunction(i))return i.call(this,n,e);if(s&&(n=e),!!S.isString(n)){if(S.isString(i))return n.indexOf(i)!==-1;if(S.isRegExp(i))return i.test(n)}}function Lc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,i)=>e.toUpperCase()+i)}function kc(t,n){const e=S.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+e,{value:function(s,o,r){return this[i].call(this,n,s,o,r)},configurable:!0})})}class fe{constructor(n){n&&this.set(n)}set(n,e,i){const s=this;function o(a,c,u){const f=xt(c);if(!f)throw new Error("header name must be a non-empty string");const v=S.findKey(s,f);(!v||s[v]===void 0||u===!0||u===void 0&&s[v]!==!1)&&(s[v||c]=dn(a))}const r=(a,c)=>S.forEach(a,(u,f)=>o(u,f,c));if(S.isPlainObject(n)||n instanceof this.constructor)r(n,e);else if(S.isString(n)&&(n=n.trim())&&!Tc(n))r(Ac(n),e);else if(S.isHeaders(n))for(const[a,c]of n.entries())o(c,a,i);else n!=null&&o(e,n,i);return this}get(n,e){if(n=xt(n),n){const i=S.findKey(this,n);if(i){const s=this[i];if(!e)return s;if(e===!0)return Dc(s);if(S.isFunction(e))return e.call(this,s,i);if(S.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=xt(n),n){const i=S.findKey(this,n);return!!(i&&this[i]!==void 0&&(!e||Xn(this,this[i],i,e)))}return!1}delete(n,e){const i=this;let s=!1;function o(r){if(r=xt(r),r){const a=S.findKey(i,r);a&&(!e||Xn(i,i[a],a,e))&&(delete i[a],s=!0)}}return S.isArray(n)?n.forEach(o):o(n),s}clear(n){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const o=e[i];(!n||Xn(this,this[o],o,n,!0))&&(delete this[o],s=!0)}return s}normalize(n){const e=this,i={};return S.forEach(this,(s,o)=>{const r=S.findKey(i,o);if(r){e[r]=dn(s),delete e[o];return}const a=n?Lc(o):String(o).trim();a!==o&&delete e[o],e[a]=dn(s),i[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return S.forEach(this,(i,s)=>{i!=null&&i!==!1&&(e[s]=n&&S.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const i=new this(n);return e.forEach(s=>i.set(s)),i}static accessor(n){const i=(this[Vs]=this[Vs]={accessors:{}}).accessors,s=this.prototype;function o(r){const a=xt(r);i[a]||(kc(s,r),i[a]=!0)}return S.isArray(n)?n.forEach(o):o(n),this}}fe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(fe.prototype,({value:t},n)=>{let e=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(i){this[e]=i}}});S.freezeMethods(fe);function Zn(t,n){const e=this||$t,i=n||e,s=fe.from(i.headers);let o=i.data;return S.forEach(t,function(a){o=a.call(e,o,s.normalize(),n?n.status:void 0)}),s.normalize(),o}function fo(t){return!!(t&&t.__CANCEL__)}function mt(t,n,e){H.call(this,t??"canceled",H.ERR_CANCELED,n,e),this.name="CanceledError"}S.inherits(mt,H,{__CANCEL__:!0});function ho(t,n,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?t(e):n(new H("Request failed with status code "+e.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function Mc(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Ic(t,n){t=t||10;const e=new Array(t),i=new Array(t);let s=0,o=0,r;return n=n!==void 0?n:1e3,function(c){const u=Date.now(),f=i[o];r||(r=u),e[s]=c,i[s]=u;let v=o,y=0;for(;v!==s;)y+=e[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-r<n)return;const A=f&&u-f;return A?Math.round(y*1e3/A):void 0}}function Fc(t,n){let e=0;const i=1e3/n;let s=null;return function(){const r=this===!0,a=Date.now();if(r||a-e>i)return s&&(clearTimeout(s),s=null),e=a,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,e=Date.now(),t.apply(null,arguments)),i-(a-e)))}}const mn=(t,n,e=3)=>{let i=0;const s=Ic(50,250);return Fc(o=>{const r=o.loaded,a=o.lengthComputable?o.total:void 0,c=r-i,u=s(c),f=r<=a;i=r;const v={loaded:r,total:a,progress:a?r/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&f?(a-r)/u:void 0,event:o,lengthComputable:a!=null};v[n?"download":"upload"]=!0,t(v)},e)},Pc=Ce.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function s(o){let r=o;return n&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=s(window.location.href),function(r){const a=S.isString(r)?s(r):r;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),Nc=Ce.hasStandardBrowserEnv?{write(t,n,e,i,s,o){const r=[t+"="+encodeURIComponent(n)];S.isNumber(e)&&r.push("expires="+new Date(e).toGMTString()),S.isString(i)&&r.push("path="+i),S.isString(s)&&r.push("domain="+s),o===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Rc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $c(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function po(t,n){return t&&!Rc(n)?$c(t,n):n}const Us=t=>t instanceof fe?{...t}:t;function st(t,n){n=n||{};const e={};function i(u,f,v){return S.isPlainObject(u)&&S.isPlainObject(f)?S.merge.call({caseless:v},u,f):S.isPlainObject(f)?S.merge({},f):S.isArray(f)?f.slice():f}function s(u,f,v){if(S.isUndefined(f)){if(!S.isUndefined(u))return i(void 0,u,v)}else return i(u,f,v)}function o(u,f){if(!S.isUndefined(f))return i(void 0,f)}function r(u,f){if(S.isUndefined(f)){if(!S.isUndefined(u))return i(void 0,u)}else return i(void 0,f)}function a(u,f,v){if(v in n)return i(u,f);if(v in t)return i(void 0,u)}const c={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(u,f)=>s(Us(u),Us(f),!0)};return S.forEach(Object.keys(Object.assign({},t,n)),function(f){const v=c[f]||s,y=v(t[f],n[f],f);S.isUndefined(y)&&v!==a||(e[f]=y)}),e}const go=t=>{const n=st({},t);let{data:e,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:r,auth:a}=n;n.headers=r=fe.from(r),n.url=lo(po(n.baseURL,n.url),t.params,t.paramsSerializer),a&&r.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(S.isFormData(e)){if(Ce.hasStandardBrowserEnv||Ce.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((c=r.getContentType())!==!1){const[u,...f]=c?c.split(";").map(v=>v.trim()).filter(Boolean):[];r.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Ce.hasStandardBrowserEnv&&(i&&S.isFunction(i)&&(i=i(n)),i||i!==!1&&Pc(n.url))){const u=s&&o&&Nc.read(o);u&&r.set(s,u)}return n},Hc=typeof XMLHttpRequest<"u",jc=Hc&&function(t){return new Promise(function(e,i){const s=go(t);let o=s.data;const r=fe.from(s.headers).normalize();let{responseType:a}=s,c;function u(){s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let f=new XMLHttpRequest;f.open(s.method.toUpperCase(),s.url,!0),f.timeout=s.timeout;function v(){if(!f)return;const A=fe.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:A,config:t,request:f};ho(function(d){e(d),u()},function(d){i(d),u()},_),f=null}"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(v)},f.onabort=function(){f&&(i(new H("Request aborted",H.ECONNABORTED,s,f)),f=null)},f.onerror=function(){i(new H("Network Error",H.ERR_NETWORK,s,f)),f=null},f.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||co;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new H(b,_.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,s,f)),f=null},o===void 0&&r.setContentType(null),"setRequestHeader"in f&&S.forEach(r.toJSON(),function(b,_){f.setRequestHeader(_,b)}),S.isUndefined(s.withCredentials)||(f.withCredentials=!!s.withCredentials),a&&a!=="json"&&(f.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&f.addEventListener("progress",mn(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",mn(s.onUploadProgress)),(s.cancelToken||s.signal)&&(c=A=>{f&&(i(!A||A.type?new mt(null,t,f):A),f.abort(),f=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=Mc(s.url);if(y&&Ce.protocols.indexOf(y)===-1){i(new H("Unsupported protocol "+y+":",H.ERR_BAD_REQUEST,t));return}f.send(o||null)})},Bc=(t,n)=>{let e=new AbortController,i;const s=function(c){if(!i){i=!0,r();const u=c instanceof Error?c:this.reason;e.abort(u instanceof H?u:new mt(u instanceof Error?u.message:u))}};let o=n&&setTimeout(()=>{s(new H(`timeout ${n} of ms exceeded`,H.ETIMEDOUT))},n);const r=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",s):c.unsubscribe(s))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",s));const{signal:a}=e;return a.unsubscribe=r,[a,()=>{o&&clearTimeout(o),o=null}]},qc=function*(t,n){let e=t.byteLength;if(!n||e<n){yield t;return}let i=0,s;for(;i<e;)s=i+n,yield t.slice(i,s),i=s},Vc=async function*(t,n,e){for await(const i of t)yield*qc(ArrayBuffer.isView(i)?i:await e(String(i)),n)},zs=(t,n,e,i,s)=>{const o=Vc(t,n,s);let r=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await o.next();if(c){a.close(),i();return}let f=u.byteLength;e&&e(r+=f),a.enqueue(new Uint8Array(u))},cancel(a){return i(a),o.return()}},{highWaterMark:2})},Ks=(t,n)=>{const e=t!=null;return i=>setTimeout(()=>n({lengthComputable:e,total:t,loaded:i}))},In=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mo=In&&typeof ReadableStream=="function",Ai=In&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Uc=mo&&(()=>{let t=!1;const n=new Request(Ce.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),Ys=64*1024,Di=mo&&!!(()=>{try{return S.isReadableStream(new Response("").body)}catch{}})(),vn={stream:Di&&(t=>t.body)};In&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!vn[n]&&(vn[n]=S.isFunction(t[n])?e=>e[n]():(e,i)=>{throw new H(`Response type '${n}' is not supported`,H.ERR_NOT_SUPPORT,i)})})})(new Response);const zc=async t=>{if(t==null)return 0;if(S.isBlob(t))return t.size;if(S.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(S.isArrayBufferView(t))return t.byteLength;if(S.isURLSearchParams(t)&&(t=t+""),S.isString(t))return(await Ai(t)).byteLength},Kc=async(t,n)=>{const e=S.toFiniteNumber(t.getContentLength());return e??zc(n)},Yc=In&&(async t=>{let{url:n,method:e,data:i,signal:s,cancelToken:o,timeout:r,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:f,withCredentials:v="same-origin",fetchOptions:y}=go(t);u=u?(u+"").toLowerCase():"text";let[A,b]=s||o||r?Bc([s,o],r):[],_,l;const d=()=>{!_&&setTimeout(()=>{A&&A.unsubscribe()}),_=!0};let h;try{if(c&&Uc&&e!=="get"&&e!=="head"&&(h=await Kc(f,i))!==0){let T=new Request(n,{method:"POST",body:i,duplex:"half"}),C;S.isFormData(i)&&(C=T.headers.get("content-type"))&&f.setContentType(C),T.body&&(i=zs(T.body,Ys,Ks(h,mn(c)),null,Ai))}S.isString(v)||(v=v?"cors":"omit"),l=new Request(n,{...y,signal:A,method:e.toUpperCase(),headers:f.normalize().toJSON(),body:i,duplex:"half",withCredentials:v});let g=await fetch(l);const O=Di&&(u==="stream"||u==="response");if(Di&&(a||O)){const T={};["status","statusText","headers"].forEach(D=>{T[D]=g[D]});const C=S.toFiniteNumber(g.headers.get("content-length"));g=new Response(zs(g.body,Ys,a&&Ks(C,mn(a,!0)),O&&d,Ai),T)}u=u||"text";let L=await vn[S.findKey(vn,u)||"text"](g,t);return!O&&d(),b&&b(),await new Promise((T,C)=>{ho(T,C,{data:L,headers:fe.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:l})})}catch(g){throw d(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new H("Network Error",H.ERR_NETWORK,t,l),{cause:g.cause||g}):H.from(g,g&&g.code,t,l)}}),Ti={http:uc,xhr:jc,fetch:Yc};S.forEach(Ti,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Ws=t=>`- ${t}`,Wc=t=>S.isFunction(t)||t===null||t===!1,vo={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:n}=t;let e,i;const s={};for(let o=0;o<n;o++){e=t[o];let r;if(i=e,!Wc(e)&&(i=Ti[(r=String(e)).toLowerCase()],i===void 0))throw new H(`Unknown adapter '${r}'`);if(i)break;s[r||"#"+o]=i}if(!i){const o=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=n?o.length>1?`since :
`+o.map(Ws).join(`
`):" "+Ws(o[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return i},adapters:Ti};function ei(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mt(null,t)}function Js(t){return ei(t),t.headers=fe.from(t.headers),t.data=Zn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),vo.getAdapter(t.adapter||$t.adapter)(t).then(function(i){return ei(t),i.data=Zn.call(t,t.transformResponse,i),i.headers=fe.from(i.headers),i},function(i){return fo(i)||(ei(t),i&&i.response&&(i.response.data=Zn.call(t,t.transformResponse,i.response),i.response.headers=fe.from(i.response.headers))),Promise.reject(i)})}const bo="1.7.2",ns={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{ns[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const Gs={};ns.transitional=function(n,e,i){function s(o,r){return"[Axios v"+bo+"] Transitional option '"+o+"'"+r+(i?". "+i:"")}return(o,r,a)=>{if(n===!1)throw new H(s(r," has been removed"+(e?" in "+e:"")),H.ERR_DEPRECATED);return e&&!Gs[r]&&(Gs[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(o,r,a):!0}};function Jc(t,n,e){if(typeof t!="object")throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],r=n[o];if(r){const a=t[o],c=a===void 0||r(a,o,t);if(c!==!0)throw new H("option "+o+" must be "+c,H.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new H("Unknown option "+o,H.ERR_BAD_OPTION)}}const Li={assertOptions:Jc,validators:ns},Re=Li.validators;class Ze{constructor(n){this.defaults=n,this.interceptors={request:new qs,response:new qs}}async request(n,e){try{return await this._request(n,e)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=st(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:o}=e;i!==void 0&&Li.assertOptions(i,{silentJSONParsing:Re.transitional(Re.boolean),forcedJSONParsing:Re.transitional(Re.boolean),clarifyTimeoutError:Re.transitional(Re.boolean)},!1),s!=null&&(S.isFunction(s)?e.paramsSerializer={serialize:s}:Li.assertOptions(s,{encode:Re.function,serialize:Re.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=o&&S.merge(o.common,o[e.method]);o&&S.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),e.headers=fe.concat(r,o);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let f,v=0,y;if(!c){const b=[Js.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,u),y=b.length,f=Promise.resolve(e);v<y;)f=f.then(b[v++],b[v++]);return f}y=a.length;let A=e;for(v=0;v<y;){const b=a[v++],_=a[v++];try{A=b(A)}catch(l){_.call(this,l);break}}try{f=Js.call(this,A)}catch(b){return Promise.reject(b)}for(v=0,y=u.length;v<y;)f=f.then(u[v++],u[v++]);return f}getUri(n){n=st(this.defaults,n);const e=po(n.baseURL,n.url);return lo(e,n.params,n.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(n){Ze.prototype[n]=function(e,i){return this.request(st(i||{},{method:n,url:e,data:(i||{}).data}))}});S.forEach(["post","put","patch"],function(n){function e(i){return function(o,r,a){return this.request(st(a||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}Ze.prototype[n]=e(),Ze.prototype[n+"Form"]=e(!0)});class is{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const r=new Promise(a=>{i.subscribe(a),o=a}).then(s);return r.cancel=function(){i.unsubscribe(o)},r},n(function(o,r,a){i.reason||(i.reason=new mt(o,r,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);e!==-1&&this._listeners.splice(e,1)}static source(){let n;return{token:new is(function(s){n=s}),cancel:n}}}function Gc(t){return function(e){return t.apply(null,e)}}function Qc(t){return S.isObject(t)&&t.isAxiosError===!0}const ki={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ki).forEach(([t,n])=>{ki[n]=t});function yo(t){const n=new Ze(t),e=Gr(Ze.prototype.request,n);return S.extend(e,Ze.prototype,n,{allOwnKeys:!0}),S.extend(e,n,null,{allOwnKeys:!0}),e.create=function(s){return yo(st(t,s))},e}const Z=yo($t);Z.Axios=Ze;Z.CanceledError=mt;Z.CancelToken=is;Z.isCancel=fo;Z.VERSION=bo;Z.toFormData=Mn;Z.AxiosError=H;Z.Cancel=Z.CanceledError;Z.all=function(n){return Promise.all(n)};Z.spread=Gc;Z.isAxiosError=Qc;Z.mergeConfig=st;Z.AxiosHeaders=fe;Z.formToJSON=t=>uo(S.isHTMLForm(t)?new FormData(t):t);Z.getAdapter=vo.getAdapter;Z.HttpStatusCode=ki;Z.default=Z;window.axios=Z;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Mi=!1,Ii=!1,et=[],Fi=-1;function Xc(t){Zc(t)}function Zc(t){et.includes(t)||et.push(t),tu()}function eu(t){let n=et.indexOf(t);n!==-1&&n>Fi&&et.splice(n,1)}function tu(){!Ii&&!Mi&&(Mi=!0,queueMicrotask(nu))}function nu(){Mi=!1,Ii=!0;for(let t=0;t<et.length;t++)et[t](),Fi=t;et.length=0,Fi=-1,Ii=!1}var vt,ot,bt,wo,Pi=!0;function iu(t){Pi=!1,t(),Pi=!0}function su(t){vt=t.reactive,bt=t.release,ot=n=>t.effect(n,{scheduler:e=>{Pi?Xc(e):e()}}),wo=t.raw}function Qs(t){ot=t}function ru(t){let n=()=>{};return[i=>{let s=ot(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(o=>o())}),t._x_effects.add(s),n=()=>{s!==void 0&&(t._x_effects.delete(s),bt(s))},s},()=>{n()}]}function _o(t,n){let e=!0,i,s=ot(()=>{let o=t();JSON.stringify(o),e?i=o:queueMicrotask(()=>{n(o,i),i=o}),e=!1});return()=>bt(s)}var Oo=[],Co=[],xo=[];function ou(t){xo.push(t)}function ss(t,n){typeof n=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(n)):(n=t,Co.push(n))}function So(t){Oo.push(t)}function Eo(t,n,e){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[n]||(t._x_attributeCleanups[n]=[]),t._x_attributeCleanups[n].push(e)}function Ao(t,n){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([e,i])=>{(n===void 0||n.includes(e))&&(i.forEach(s=>s()),delete t._x_attributeCleanups[e])})}function au(t){var n,e;for((n=t._x_effects)==null||n.forEach(eu);(e=t._x_cleanups)!=null&&e.length;)t._x_cleanups.pop()()}var rs=new MutationObserver(cs),os=!1;function as(){rs.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),os=!0}function Do(){lu(),rs.disconnect(),os=!1}var St=[];function lu(){let t=rs.takeRecords();St.push(()=>t.length>0&&cs(t));let n=St.length;queueMicrotask(()=>{if(St.length===n)for(;St.length>0;)St.shift()()})}function G(t){if(!os)return t();Do();let n=t();return as(),n}var ls=!1,bn=[];function cu(){ls=!0}function uu(){ls=!1,cs(bn),bn=[]}function cs(t){if(ls){bn=bn.concat(t);return}let n=[],e=new Set,i=new Map,s=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&(t[o].type==="childList"&&(t[o].removedNodes.forEach(r=>{r.nodeType===1&&r._x_marker&&e.add(r)}),t[o].addedNodes.forEach(r=>{if(r.nodeType===1){if(e.has(r)){e.delete(r);return}r._x_marker||n.push(r)}})),t[o].type==="attributes")){let r=t[o].target,a=t[o].attributeName,c=t[o].oldValue,u=()=>{i.has(r)||i.set(r,[]),i.get(r).push({name:a,value:r.getAttribute(a)})},f=()=>{s.has(r)||s.set(r,[]),s.get(r).push(a)};r.hasAttribute(a)&&c===null?u():r.hasAttribute(a)?(f(),u()):f()}s.forEach((o,r)=>{Ao(r,o)}),i.forEach((o,r)=>{Oo.forEach(a=>a(r,o))});for(let o of e)n.some(r=>r.contains(o))||Co.forEach(r=>r(o));for(let o of n)o.isConnected&&xo.forEach(r=>r(o));n=null,e=null,i=null,s=null}function To(t){return jt(ht(t))}function Ht(t,n,e){return t._x_dataStack=[n,...ht(e||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==n)}}function ht(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?ht(t.host):t.parentNode?ht(t.parentNode):[]}function jt(t){return new Proxy({objects:t},du)}var du={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(n=>Object.keys(n))))},has({objects:t},n){return n==Symbol.unscopables?!1:t.some(e=>Object.prototype.hasOwnProperty.call(e,n)||Reflect.has(e,n))},get({objects:t},n,e){return n=="toJSON"?fu:Reflect.get(t.find(i=>Reflect.has(i,n))||{},n,e)},set({objects:t},n,e,i){const s=t.find(r=>Object.prototype.hasOwnProperty.call(r,n))||t[t.length-1],o=Object.getOwnPropertyDescriptor(s,n);return o!=null&&o.set&&(o!=null&&o.get)?o.set.call(i,e)||!0:Reflect.set(s,n,e)}};function fu(){return Reflect.ownKeys(this).reduce((n,e)=>(n[e]=Reflect.get(this,e),n),{})}function Lo(t){let n=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,e=(i,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([o,{value:r,enumerable:a}])=>{if(a===!1||r===void 0||typeof r=="object"&&r!==null&&r.__v_skip)return;let c=s===""?o:`${s}.${o}`;typeof r=="object"&&r!==null&&r._x_interceptor?i[o]=r.initialize(t,c,o):n(r)&&r!==i&&!(r instanceof Element)&&e(r,c)})};return e(t)}function ko(t,n=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(i,s,o){return t(this.initialValue,()=>hu(i,s),r=>Ni(i,s,r),s,o)}};return n(e),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let s=e.initialize.bind(e);e.initialize=(o,r,a)=>{let c=i.initialize(o,r,a);return e.initialValue=c,s(o,r,a)}}else e.initialValue=i;return e}}function hu(t,n){return n.split(".").reduce((e,i)=>e[i],t)}function Ni(t,n,e){if(typeof n=="string"&&(n=n.split(".")),n.length===1)t[n[0]]=e;else{if(n.length===0)throw error;return t[n[0]]||(t[n[0]]={}),Ni(t[n[0]],n.slice(1),e)}}var Mo={};function Ee(t,n){Mo[t]=n}function Ri(t,n){let e=pu(n);return Object.entries(Mo).forEach(([i,s])=>{Object.defineProperty(t,`$${i}`,{get(){return s(n,e)},enumerable:!1})}),t}function pu(t){let[n,e]=$o(t),i={interceptor:ko,...n};return ss(t,e),i}function gu(t,n,e,...i){try{return e(...i)}catch(s){It(s,t,n)}}function It(t,n,e=void 0){t=Object.assign(t??{message:"No error message given."},{el:n,expression:e}),console.warn(`Alpine Expression Error: ${t.message}

${e?'Expression: "'+e+`"

`:""}`,n),setTimeout(()=>{throw t},0)}var fn=!0;function Io(t){let n=fn;fn=!1;let e=t();return fn=n,e}function tt(t,n,e={}){let i;return le(t,n)(s=>i=s,e),i}function le(...t){return Fo(...t)}var Fo=Po;function mu(t){Fo=t}function Po(t,n){let e={};Ri(e,t);let i=[e,...ht(t)],s=typeof n=="function"?vu(i,n):yu(i,n,t);return gu.bind(null,t,n,s)}function vu(t,n){return(e=()=>{},{scope:i={},params:s=[]}={})=>{let o=n.apply(jt([i,...t]),s);yn(e,o)}}var ti={};function bu(t,n){if(ti[t])return ti[t];let e=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,o=(()=>{try{let r=new e(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(r,"name",{value:`[Alpine] ${t}`}),r}catch(r){return It(r,n,t),Promise.resolve()}})();return ti[t]=o,o}function yu(t,n,e){let i=bu(n,e);return(s=()=>{},{scope:o={},params:r=[]}={})=>{i.result=void 0,i.finished=!1;let a=jt([o,...t]);if(typeof i=="function"){let c=i(i,a).catch(u=>It(u,e,n));i.finished?(yn(s,i.result,a,r,e),i.result=void 0):c.then(u=>{yn(s,u,a,r,e)}).catch(u=>It(u,e,n)).finally(()=>i.result=void 0)}}}function yn(t,n,e,i,s){if(fn&&typeof n=="function"){let o=n.apply(e,i);o instanceof Promise?o.then(r=>yn(t,r,e,i)).catch(r=>It(r,s,n)):t(o)}else typeof n=="object"&&n instanceof Promise?n.then(o=>t(o)):t(n)}var us="x-";function yt(t=""){return us+t}function wu(t){us=t}var wn={};function ee(t,n){return wn[t]=n,{before(e){if(!wn[e]){console.warn(String.raw`Cannot find directive \`${e}\`. \`${t}\` will use the default order of execution`);return}const i=Xe.indexOf(e);Xe.splice(i>=0?i:Xe.indexOf("DEFAULT"),0,t)}}}function _u(t){return Object.keys(wn).includes(t)}function ds(t,n,e){if(n=Array.from(n),t._x_virtualDirectives){let o=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),r=No(o);o=o.map(a=>r.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),n=n.concat(o)}let i={};return n.map(Bo((o,r)=>i[o]=r)).filter(Vo).map(xu(i,e)).sort(Su).map(o=>Cu(t,o))}function No(t){return Array.from(t).map(Bo()).filter(n=>!Vo(n))}var $i=!1,Dt=new Map,Ro=Symbol();function Ou(t){$i=!0;let n=Symbol();Ro=n,Dt.set(n,[]);let e=()=>{for(;Dt.get(n).length;)Dt.get(n).shift()();Dt.delete(n)},i=()=>{$i=!1,e()};t(e),i()}function $o(t){let n=[],e=a=>n.push(a),[i,s]=ru(t);return n.push(s),[{Alpine:Bt,effect:i,cleanup:e,evaluateLater:le.bind(le,t),evaluate:tt.bind(tt,t)},()=>n.forEach(a=>a())]}function Cu(t,n){let e=()=>{},i=wn[n.type]||e,[s,o]=$o(t);Eo(t,n.original,o);let r=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,n,s),i=i.bind(i,t,n,s),$i?Dt.get(Ro).push(i):i())};return r.runCleanups=o,r}var Ho=(t,n)=>({name:e,value:i})=>(e.startsWith(t)&&(e=e.replace(t,n)),{name:e,value:i}),jo=t=>t;function Bo(t=()=>{}){return({name:n,value:e})=>{let{name:i,value:s}=qo.reduce((o,r)=>r(o),{name:n,value:e});return i!==n&&t(i,n),{name:i,value:s}}}var qo=[];function fs(t){qo.push(t)}function Vo({name:t}){return Uo().test(t)}var Uo=()=>new RegExp(`^${us}([^:^.]+)\\b`);function xu(t,n){return({name:e,value:i})=>{let s=e.match(Uo()),o=e.match(/:([a-zA-Z0-9\-_:]+)/),r=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=n||t[e]||e;return{type:s?s[1]:null,value:o?o[1]:null,modifiers:r.map(c=>c.replace(".","")),expression:i,original:a}}}var Hi="DEFAULT",Xe=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Hi,"teleport"];function Su(t,n){let e=Xe.indexOf(t.type)===-1?Hi:t.type,i=Xe.indexOf(n.type)===-1?Hi:n.type;return Xe.indexOf(e)-Xe.indexOf(i)}function Tt(t,n,e={}){t.dispatchEvent(new CustomEvent(n,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function rt(t,n){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(s=>rt(s,n));return}let e=!1;if(n(t,()=>e=!0),e)return;let i=t.firstElementChild;for(;i;)rt(i,n),i=i.nextElementSibling}function ye(t,...n){console.warn(`Alpine Warning: ${t}`,...n)}var Xs=!1;function Eu(){Xs&&ye("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Xs=!0,document.body||ye("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Tt(document,"alpine:init"),Tt(document,"alpine:initializing"),as(),ou(n=>Pe(n,rt)),ss(n=>_t(n)),So((n,e)=>{ds(n,e).forEach(i=>i())});let t=n=>!Fn(n.parentElement,!0);Array.from(document.querySelectorAll(Yo().join(","))).filter(t).forEach(n=>{Pe(n)}),Tt(document,"alpine:initialized"),setTimeout(()=>{Lu()})}var hs=[],zo=[];function Ko(){return hs.map(t=>t())}function Yo(){return hs.concat(zo).map(t=>t())}function Wo(t){hs.push(t)}function Jo(t){zo.push(t)}function Fn(t,n=!1){return wt(t,e=>{if((n?Yo():Ko()).some(s=>e.matches(s)))return!0})}function wt(t,n){if(t){if(n(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return wt(t.parentElement,n)}}function Au(t){return Ko().some(n=>t.matches(n))}var Go=[];function Du(t){Go.push(t)}var Tu=1;function Pe(t,n=rt,e=()=>{}){wt(t,i=>i._x_ignore)||Ou(()=>{n(t,(i,s)=>{i._x_marker||(e(i,s),Go.forEach(o=>o(i,s)),ds(i,i.attributes).forEach(o=>o()),i._x_ignore||(i._x_marker=Tu++),i._x_ignore&&s())})})}function _t(t,n=rt){n(t,e=>{au(e),Ao(e),delete e._x_marker})}function Lu(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,e,i])=>{_u(e)||i.some(s=>{if(document.querySelector(s))return ye(`found "${s}", but missing ${n} plugin`),!0})})}var ji=[],ps=!1;function gs(t=()=>{}){return queueMicrotask(()=>{ps||setTimeout(()=>{Bi()})}),new Promise(n=>{ji.push(()=>{t(),n()})})}function Bi(){for(ps=!1;ji.length;)ji.shift()()}function ku(){ps=!0}function ms(t,n){return Array.isArray(n)?Zs(t,n.join(" ")):typeof n=="object"&&n!==null?Mu(t,n):typeof n=="function"?ms(t,n()):Zs(t,n)}function Zs(t,n){let e=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),i=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return n=n===!0?n="":n||"",i(e(n))}function Mu(t,n){let e=a=>a.split(" ").filter(Boolean),i=Object.entries(n).flatMap(([a,c])=>c?e(a):!1).filter(Boolean),s=Object.entries(n).flatMap(([a,c])=>c?!1:e(a)).filter(Boolean),o=[],r=[];return s.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),r.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),o.push(a))}),()=>{r.forEach(a=>t.classList.add(a)),o.forEach(a=>t.classList.remove(a))}}function Pn(t,n){return typeof n=="object"&&n!==null?Iu(t,n):Fu(t,n)}function Iu(t,n){let e={};return Object.entries(n).forEach(([i,s])=>{e[i]=t.style[i],i.startsWith("--")||(i=Pu(i)),t.style.setProperty(i,s)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Pn(t,e)}}function Fu(t,n){let e=t.getAttribute("style",n);return t.setAttribute("style",n),()=>{t.setAttribute("style",e||"")}}function Pu(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qi(t,n=()=>{}){let e=!1;return function(){e?n.apply(this,arguments):(e=!0,t.apply(this,arguments))}}ee("transition",(t,{value:n,modifiers:e,expression:i},{evaluate:s})=>{typeof i=="function"&&(i=s(i)),i!==!1&&(!i||typeof i=="boolean"?Ru(t,e,n):Nu(t,i,n))});function Nu(t,n,e){Qo(t,ms,""),{enter:s=>{t._x_transition.enter.during=s},"enter-start":s=>{t._x_transition.enter.start=s},"enter-end":s=>{t._x_transition.enter.end=s},leave:s=>{t._x_transition.leave.during=s},"leave-start":s=>{t._x_transition.leave.start=s},"leave-end":s=>{t._x_transition.leave.end=s}}[e](n)}function Ru(t,n,e){Qo(t,Pn);let i=!n.includes("in")&&!n.includes("out")&&!e,s=i||n.includes("in")||["enter"].includes(e),o=i||n.includes("out")||["leave"].includes(e);n.includes("in")&&!i&&(n=n.filter((d,h)=>h<n.indexOf("out"))),n.includes("out")&&!i&&(n=n.filter((d,h)=>h>n.indexOf("out")));let r=!n.includes("opacity")&&!n.includes("scale"),a=r||n.includes("opacity"),c=r||n.includes("scale"),u=a?0:1,f=c?Et(n,"scale",95)/100:1,v=Et(n,"delay",0)/1e3,y=Et(n,"origin","center"),A="opacity, transform",b=Et(n,"duration",150)/1e3,_=Et(n,"duration",75)/1e3,l="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(t._x_transition.enter.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:A,transitionDuration:`${b}s`,transitionTimingFunction:l},t._x_transition.enter.start={opacity:u,transform:`scale(${f})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(t._x_transition.leave.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:A,transitionDuration:`${_}s`,transitionTimingFunction:l},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:u,transform:`scale(${f})`})}function Qo(t,n,e={}){t._x_transition||(t._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(i=()=>{},s=()=>{}){Vi(t,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,s)},out(i=()=>{},s=()=>{}){Vi(t,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,n,e,i){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>s(e);if(n){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(e):o():t._x_transition?t._x_transition.in(e):o();return}t._x_hidePromise=t._x_transition?new Promise((r,a)=>{t._x_transition.out(()=>{},()=>r(i)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let r=Xo(t);r?(r._x_hideChildren||(r._x_hideChildren=[]),r._x_hideChildren.push(t)):s(()=>{let a=c=>{let u=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([f])=>f==null?void 0:f());return delete c._x_hidePromise,delete c._x_hideChildren,u};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function Xo(t){let n=t.parentNode;if(n)return n._x_hidePromise?n:Xo(n)}function Vi(t,n,{during:e,start:i,end:s}={},o=()=>{},r=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(i).length===0&&Object.keys(s).length===0){o(),r();return}let a,c,u;$u(t,{start(){a=n(t,i)},during(){c=n(t,e)},before:o,end(){a(),u=n(t,s)},after:r,cleanup(){c(),u()}})}function $u(t,n){let e,i,s,o=qi(()=>{G(()=>{e=!0,i||n.before(),s||(n.end(),Bi()),n.after(),t.isConnected&&n.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(r){this.beforeCancels.push(r)},cancel:qi(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},G(()=>{n.start(),n.during()}),ku(),requestAnimationFrame(()=>{if(e)return;let r=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;r===0&&(r=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),G(()=>{n.before()}),i=!0,requestAnimationFrame(()=>{e||(G(()=>{n.end()}),Bi(),setTimeout(t._x_transitioning.finish,r+a),s=!0)})})}function Et(t,n,e){if(t.indexOf(n)===-1)return e;const i=t[t.indexOf(n)+1];if(!i||n==="scale"&&isNaN(i))return e;if(n==="duration"||n==="delay"){let s=i.match(/([0-9]+)ms/);if(s)return s[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(n)+2])?[i,t[t.indexOf(n)+2]].join(" "):i}var Be=!1;function Ve(t,n=()=>{}){return(...e)=>Be?n(...e):t(...e)}function Hu(t){return(...n)=>Be&&t(...n)}var Zo=[];function Nn(t){Zo.push(t)}function ju(t,n){Zo.forEach(e=>e(t,n)),Be=!0,ea(()=>{Pe(n,(e,i)=>{i(e,()=>{})})}),Be=!1}var Ui=!1;function Bu(t,n){n._x_dataStack||(n._x_dataStack=t._x_dataStack),Be=!0,Ui=!0,ea(()=>{qu(n)}),Be=!1,Ui=!1}function qu(t){let n=!1;Pe(t,(i,s)=>{rt(i,(o,r)=>{if(n&&Au(o))return r();n=!0,s(o,r)})})}function ea(t){let n=ot;Qs((e,i)=>{let s=n(e);return bt(s),()=>{}}),t(),Qs(n)}function ta(t,n,e,i=[]){switch(t._x_bindings||(t._x_bindings=vt({})),t._x_bindings[n]=e,n=i.includes("camel")?Gu(n):n,n){case"value":Vu(t,e);break;case"style":zu(t,e);break;case"class":Uu(t,e);break;case"selected":case"checked":Ku(t,n,e);break;default:na(t,n,e);break}}function Vu(t,n){if(ra(t))t.attributes.value===void 0&&(t.value=n),window.fromModel&&(typeof n=="boolean"?t.checked=hn(t.value)===n:t.checked=er(t.value,n));else if(vs(t))Number.isInteger(n)?t.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?t.value=String(n):Array.isArray(n)?t.checked=n.some(e=>er(e,t.value)):t.checked=!!n;else if(t.tagName==="SELECT")Ju(t,n);else{if(t.value===n)return;t.value=n===void 0?"":n}}function Uu(t,n){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=ms(t,n)}function zu(t,n){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Pn(t,n)}function Ku(t,n,e){na(t,n,e),Wu(t,n,e)}function na(t,n,e){[null,void 0,!1].includes(e)&&Xu(n)?t.removeAttribute(n):(ia(n)&&(e=n),Yu(t,n,e))}function Yu(t,n,e){t.getAttribute(n)!=e&&t.setAttribute(n,e)}function Wu(t,n,e){t[n]!==e&&(t[n]=e)}function Ju(t,n){const e=[].concat(n).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=e.includes(i.value)})}function Gu(t){return t.toLowerCase().replace(/-(\w)/g,(n,e)=>e.toUpperCase())}function er(t,n){return t==n}function hn(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var Qu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function ia(t){return Qu.has(t)}function Xu(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Zu(t,n,e){return t._x_bindings&&t._x_bindings[n]!==void 0?t._x_bindings[n]:sa(t,n,e)}function ed(t,n,e,i=!0){if(t._x_bindings&&t._x_bindings[n]!==void 0)return t._x_bindings[n];if(t._x_inlineBindings&&t._x_inlineBindings[n]!==void 0){let s=t._x_inlineBindings[n];return s.extract=i,Io(()=>tt(t,s.expression))}return sa(t,n,e)}function sa(t,n,e){let i=t.getAttribute(n);return i===null?typeof e=="function"?e():e:i===""?!0:ia(n)?!![n,"true"].includes(i):i}function vs(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function ra(t){return t.type==="radio"||t.localName==="ui-radio"}function oa(t,n){var e;return function(){var i=this,s=arguments,o=function(){e=null,t.apply(i,s)};clearTimeout(e),e=setTimeout(o,n)}}function aa(t,n){let e;return function(){let i=this,s=arguments;e||(t.apply(i,s),e=!0,setTimeout(()=>e=!1,n))}}function la({get:t,set:n},{get:e,set:i}){let s=!0,o,r=ot(()=>{let a=t(),c=e();if(s)i(ni(a)),s=!1;else{let u=JSON.stringify(a),f=JSON.stringify(c);u!==o?i(ni(a)):u!==f&&n(ni(c))}o=JSON.stringify(t()),JSON.stringify(e())});return()=>{bt(r)}}function ni(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function td(t){(Array.isArray(t)?t:[t]).forEach(e=>e(Bt))}var Ge={},tr=!1;function nd(t,n){if(tr||(Ge=vt(Ge),tr=!0),n===void 0)return Ge[t];Ge[t]=n,Lo(Ge[t]),typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&Ge[t].init()}function id(){return Ge}var ca={};function sd(t,n){let e=typeof n!="function"?()=>n:n;return t instanceof Element?ua(t,e()):(ca[t]=e,()=>{})}function rd(t){return Object.entries(ca).forEach(([n,e])=>{Object.defineProperty(t,n,{get(){return(...i)=>e(...i)}})}),t}function ua(t,n,e){let i=[];for(;i.length;)i.pop()();let s=Object.entries(n).map(([r,a])=>({name:r,value:a})),o=No(s);return s=s.map(r=>o.find(a=>a.name===r.name)?{name:`x-bind:${r.name}`,value:`"${r.value}"`}:r),ds(t,s,e).map(r=>{i.push(r.runCleanups),r()}),()=>{for(;i.length;)i.pop()()}}var da={};function od(t,n){da[t]=n}function ad(t,n){return Object.entries(da).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...s)=>i.bind(n)(...s)},enumerable:!1})}),t}var ld={get reactive(){return vt},get release(){return bt},get effect(){return ot},get raw(){return wo},version:"3.14.9",flushAndStopDeferringMutations:uu,dontAutoEvaluateFunctions:Io,disableEffectScheduling:iu,startObservingMutations:as,stopObservingMutations:Do,setReactivityEngine:su,onAttributeRemoved:Eo,onAttributesAdded:So,closestDataStack:ht,skipDuringClone:Ve,onlyDuringClone:Hu,addRootSelector:Wo,addInitSelector:Jo,interceptClone:Nn,addScopeToNode:Ht,deferMutations:cu,mapAttributes:fs,evaluateLater:le,interceptInit:Du,setEvaluator:mu,mergeProxies:jt,extractProp:ed,findClosest:wt,onElRemoved:ss,closestRoot:Fn,destroyTree:_t,interceptor:ko,transition:Vi,setStyles:Pn,mutateDom:G,directive:ee,entangle:la,throttle:aa,debounce:oa,evaluate:tt,initTree:Pe,nextTick:gs,prefixed:yt,prefix:wu,plugin:td,magic:Ee,store:nd,start:Eu,clone:Bu,cloneNode:ju,bound:Zu,$data:To,watch:_o,walk:rt,data:od,bind:sd},Bt=ld;function cd(t,n){const e=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)e[i[s]]=!0;return s=>!!e[s]}var ud=Object.freeze({}),dd=Object.prototype.hasOwnProperty,Rn=(t,n)=>dd.call(t,n),nt=Array.isArray,Lt=t=>fa(t)==="[object Map]",fd=t=>typeof t=="string",bs=t=>typeof t=="symbol",$n=t=>t!==null&&typeof t=="object",hd=Object.prototype.toString,fa=t=>hd.call(t),ha=t=>fa(t).slice(8,-1),ys=t=>fd(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,pd=t=>{const n=Object.create(null);return e=>n[e]||(n[e]=t(e))},gd=pd(t=>t.charAt(0).toUpperCase()+t.slice(1)),pa=(t,n)=>t!==n&&(t===t||n===n),zi=new WeakMap,At=[],Me,it=Symbol("iterate"),Ki=Symbol("Map key iterate");function md(t){return t&&t._isEffect===!0}function vd(t,n=ud){md(t)&&(t=t.raw);const e=wd(t,n);return n.lazy||e(),e}function bd(t){t.active&&(ga(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var yd=0;function wd(t,n){const e=function(){if(!e.active)return t();if(!At.includes(e)){ga(e);try{return Od(),At.push(e),Me=e,t()}finally{At.pop(),ma(),Me=At[At.length-1]}}};return e.id=yd++,e.allowRecurse=!!n.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=t,e.deps=[],e.options=n,e}function ga(t){const{deps:n}=t;if(n.length){for(let e=0;e<n.length;e++)n[e].delete(t);n.length=0}}var pt=!0,ws=[];function _d(){ws.push(pt),pt=!1}function Od(){ws.push(pt),pt=!0}function ma(){const t=ws.pop();pt=t===void 0?!0:t}function xe(t,n,e){if(!pt||Me===void 0)return;let i=zi.get(t);i||zi.set(t,i=new Map);let s=i.get(e);s||i.set(e,s=new Set),s.has(Me)||(s.add(Me),Me.deps.push(s),Me.options.onTrack&&Me.options.onTrack({effect:Me,target:t,type:n,key:e}))}function qe(t,n,e,i,s,o){const r=zi.get(t);if(!r)return;const a=new Set,c=f=>{f&&f.forEach(v=>{(v!==Me||v.allowRecurse)&&a.add(v)})};if(n==="clear")r.forEach(c);else if(e==="length"&&nt(t))r.forEach((f,v)=>{(v==="length"||v>=i)&&c(f)});else switch(e!==void 0&&c(r.get(e)),n){case"add":nt(t)?ys(e)&&c(r.get("length")):(c(r.get(it)),Lt(t)&&c(r.get(Ki)));break;case"delete":nt(t)||(c(r.get(it)),Lt(t)&&c(r.get(Ki)));break;case"set":Lt(t)&&c(r.get(it));break}const u=f=>{f.options.onTrigger&&f.options.onTrigger({effect:f,target:t,key:e,type:n,newValue:i,oldValue:s,oldTarget:o}),f.options.scheduler?f.options.scheduler(f):f()};a.forEach(u)}var Cd=cd("__proto__,__v_isRef,__isVue"),va=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(bs)),xd=ba(),Sd=ba(!0),nr=Ed();function Ed(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...e){const i=U(this);for(let o=0,r=this.length;o<r;o++)xe(i,"get",o+"");const s=i[n](...e);return s===-1||s===!1?i[n](...e.map(U)):s}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...e){_d();const i=U(this)[n].apply(this,e);return ma(),i}}),t}function ba(t=!1,n=!1){return function(i,s,o){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_raw"&&o===(t?n?jd:Oa:n?Hd:_a).get(i))return i;const r=nt(i);if(!t&&r&&Rn(nr,s))return Reflect.get(nr,s,o);const a=Reflect.get(i,s,o);return(bs(s)?va.has(s):Cd(s))||(t||xe(i,"get",s),n)?a:Yi(a)?!r||!ys(s)?a.value:a:$n(a)?t?Ca(a):xs(a):a}}var Ad=Dd();function Dd(t=!1){return function(e,i,s,o){let r=e[i];if(!t&&(s=U(s),r=U(r),!nt(e)&&Yi(r)&&!Yi(s)))return r.value=s,!0;const a=nt(e)&&ys(i)?Number(i)<e.length:Rn(e,i),c=Reflect.set(e,i,s,o);return e===U(o)&&(a?pa(s,r)&&qe(e,"set",i,s,r):qe(e,"add",i,s)),c}}function Td(t,n){const e=Rn(t,n),i=t[n],s=Reflect.deleteProperty(t,n);return s&&e&&qe(t,"delete",n,void 0,i),s}function Ld(t,n){const e=Reflect.has(t,n);return(!bs(n)||!va.has(n))&&xe(t,"has",n),e}function kd(t){return xe(t,"iterate",nt(t)?"length":it),Reflect.ownKeys(t)}var Md={get:xd,set:Ad,deleteProperty:Td,has:Ld,ownKeys:kd},Id={get:Sd,set(t,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0},deleteProperty(t,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}},_s=t=>$n(t)?xs(t):t,Os=t=>$n(t)?Ca(t):t,Cs=t=>t,Hn=t=>Reflect.getPrototypeOf(t);function Wt(t,n,e=!1,i=!1){t=t.__v_raw;const s=U(t),o=U(n);n!==o&&!e&&xe(s,"get",n),!e&&xe(s,"get",o);const{has:r}=Hn(s),a=i?Cs:e?Os:_s;if(r.call(s,n))return a(t.get(n));if(r.call(s,o))return a(t.get(o));t!==s&&t.get(n)}function Jt(t,n=!1){const e=this.__v_raw,i=U(e),s=U(t);return t!==s&&!n&&xe(i,"has",t),!n&&xe(i,"has",s),t===s?e.has(t):e.has(t)||e.has(s)}function Gt(t,n=!1){return t=t.__v_raw,!n&&xe(U(t),"iterate",it),Reflect.get(t,"size",t)}function ir(t){t=U(t);const n=U(this);return Hn(n).has.call(n,t)||(n.add(t),qe(n,"add",t,t)),this}function sr(t,n){n=U(n);const e=U(this),{has:i,get:s}=Hn(e);let o=i.call(e,t);o?wa(e,i,t):(t=U(t),o=i.call(e,t));const r=s.call(e,t);return e.set(t,n),o?pa(n,r)&&qe(e,"set",t,n,r):qe(e,"add",t,n),this}function rr(t){const n=U(this),{has:e,get:i}=Hn(n);let s=e.call(n,t);s?wa(n,e,t):(t=U(t),s=e.call(n,t));const o=i?i.call(n,t):void 0,r=n.delete(t);return s&&qe(n,"delete",t,void 0,o),r}function or(){const t=U(this),n=t.size!==0,e=Lt(t)?new Map(t):new Set(t),i=t.clear();return n&&qe(t,"clear",void 0,void 0,e),i}function Qt(t,n){return function(i,s){const o=this,r=o.__v_raw,a=U(r),c=n?Cs:t?Os:_s;return!t&&xe(a,"iterate",it),r.forEach((u,f)=>i.call(s,c(u),c(f),o))}}function Xt(t,n,e){return function(...i){const s=this.__v_raw,o=U(s),r=Lt(o),a=t==="entries"||t===Symbol.iterator&&r,c=t==="keys"&&r,u=s[t](...i),f=e?Cs:n?Os:_s;return!n&&xe(o,"iterate",c?Ki:it),{next(){const{value:v,done:y}=u.next();return y?{value:v,done:y}:{value:a?[f(v[0]),f(v[1])]:f(v),done:y}},[Symbol.iterator](){return this}}}}function $e(t){return function(...n){{const e=n[0]?`on key "${n[0]}" `:"";console.warn(`${gd(t)} operation ${e}failed: target is readonly.`,U(this))}return t==="delete"?!1:this}}function Fd(){const t={get(o){return Wt(this,o)},get size(){return Gt(this)},has:Jt,add:ir,set:sr,delete:rr,clear:or,forEach:Qt(!1,!1)},n={get(o){return Wt(this,o,!1,!0)},get size(){return Gt(this)},has:Jt,add:ir,set:sr,delete:rr,clear:or,forEach:Qt(!1,!0)},e={get(o){return Wt(this,o,!0)},get size(){return Gt(this,!0)},has(o){return Jt.call(this,o,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Qt(!0,!1)},i={get(o){return Wt(this,o,!0,!0)},get size(){return Gt(this,!0)},has(o){return Jt.call(this,o,!0)},add:$e("add"),set:$e("set"),delete:$e("delete"),clear:$e("clear"),forEach:Qt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Xt(o,!1,!1),e[o]=Xt(o,!0,!1),n[o]=Xt(o,!1,!0),i[o]=Xt(o,!0,!0)}),[t,e,n,i]}var[Pd,Nd,cm,um]=Fd();function ya(t,n){const e=t?Nd:Pd;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Rn(e,s)&&s in i?e:i,s,o)}var Rd={get:ya(!1)},$d={get:ya(!0)};function wa(t,n,e){const i=U(e);if(i!==e&&n.call(t,i)){const s=ha(t);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var _a=new WeakMap,Hd=new WeakMap,Oa=new WeakMap,jd=new WeakMap;function Bd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qd(t){return t.__v_skip||!Object.isExtensible(t)?0:Bd(ha(t))}function xs(t){return t&&t.__v_isReadonly?t:xa(t,!1,Md,Rd,_a)}function Ca(t){return xa(t,!0,Id,$d,Oa)}function xa(t,n,e,i,s){if(!$n(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(n&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const r=qd(t);if(r===0)return t;const a=new Proxy(t,r===2?i:e);return s.set(t,a),a}function U(t){return t&&U(t.__v_raw)||t}function Yi(t){return!!(t&&t.__v_isRef===!0)}Ee("nextTick",()=>gs);Ee("dispatch",t=>Tt.bind(Tt,t));Ee("watch",(t,{evaluateLater:n,cleanup:e})=>(i,s)=>{let o=n(i),a=_o(()=>{let c;return o(u=>c=u),c},s);e(a)});Ee("store",id);Ee("data",t=>To(t));Ee("root",t=>Fn(t));Ee("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=jt(Vd(t))),t._x_refs_proxy));function Vd(t){let n=[];return wt(t,e=>{e._x_refs&&n.push(e._x_refs)}),n}var ii={};function Sa(t){return ii[t]||(ii[t]=0),++ii[t]}function Ud(t,n){return wt(t,e=>{if(e._x_ids&&e._x_ids[n])return!0})}function zd(t,n){t._x_ids||(t._x_ids={}),t._x_ids[n]||(t._x_ids[n]=Sa(n))}Ee("id",(t,{cleanup:n})=>(e,i=null)=>{let s=`${e}${i?`-${i}`:""}`;return Kd(t,s,n,()=>{let o=Ud(t,e),r=o?o._x_ids[e]:Sa(e);return i?`${e}-${r}-${i}`:`${e}-${r}`})});Nn((t,n)=>{t._x_id&&(n._x_id=t._x_id)});function Kd(t,n,e,i){if(t._x_id||(t._x_id={}),t._x_id[n])return t._x_id[n];let s=i();return t._x_id[n]=s,e(()=>{delete t._x_id[n]}),s}Ee("el",t=>t);Ea("Focus","focus","focus");Ea("Persist","persist","persist");function Ea(t,n,e){Ee(n,i=>ye(`You can't use [$${n}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}ee("modelable",(t,{expression:n},{effect:e,evaluateLater:i,cleanup:s})=>{let o=i(n),r=()=>{let f;return o(v=>f=v),f},a=i(`${n} = __placeholder`),c=f=>a(()=>{},{scope:{__placeholder:f}}),u=r();c(u),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let f=t._x_model.get,v=t._x_model.set,y=la({get(){return f()},set(A){v(A)}},{get(){return r()},set(A){c(A)}});s(y)})});ee("teleport",(t,{modifiers:n,expression:e},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&ye("x-teleport can only be used on a <template> tag",t);let s=ar(e),o=t.content.cloneNode(!0).firstElementChild;t._x_teleport=o,o._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{o.addEventListener(a,c=>{c.stopPropagation(),t.dispatchEvent(new c.constructor(c.type,c))})}),Ht(o,{},t);let r=(a,c,u)=>{u.includes("prepend")?c.parentNode.insertBefore(a,c):u.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};G(()=>{r(o,s,n),Ve(()=>{Pe(o)})()}),t._x_teleportPutBack=()=>{let a=ar(e);G(()=>{r(t._x_teleport,a,n)})},i(()=>G(()=>{o.remove(),_t(o)}))});var Yd=document.createElement("div");function ar(t){let n=Ve(()=>document.querySelector(t),()=>Yd)();return n||ye(`Cannot find x-teleport element for selector: "${t}"`),n}var Aa=()=>{};Aa.inline=(t,{modifiers:n},{cleanup:e})=>{n.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,e(()=>{n.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};ee("ignore",Aa);ee("effect",Ve((t,{expression:n},{effect:e})=>{e(le(t,n))}));function Wi(t,n,e,i){let s=t,o=c=>i(c),r={},a=(c,u)=>f=>u(c,f);if(e.includes("dot")&&(n=Wd(n)),e.includes("camel")&&(n=Jd(n)),e.includes("passive")&&(r.passive=!0),e.includes("capture")&&(r.capture=!0),e.includes("window")&&(s=window),e.includes("document")&&(s=document),e.includes("debounce")){let c=e[e.indexOf("debounce")+1]||"invalid-wait",u=_n(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=oa(o,u)}if(e.includes("throttle")){let c=e[e.indexOf("throttle")+1]||"invalid-wait",u=_n(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=aa(o,u)}return e.includes("prevent")&&(o=a(o,(c,u)=>{u.preventDefault(),c(u)})),e.includes("stop")&&(o=a(o,(c,u)=>{u.stopPropagation(),c(u)})),e.includes("once")&&(o=a(o,(c,u)=>{c(u),s.removeEventListener(n,o,r)})),(e.includes("away")||e.includes("outside"))&&(s=document,o=a(o,(c,u)=>{t.contains(u.target)||u.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(u))})),e.includes("self")&&(o=a(o,(c,u)=>{u.target===t&&c(u)})),(Qd(n)||Da(n))&&(o=a(o,(c,u)=>{Xd(u,e)||c(u)})),s.addEventListener(n,o,r),()=>{s.removeEventListener(n,o,r)}}function Wd(t){return t.replace(/-/g,".")}function Jd(t){return t.toLowerCase().replace(/-(\w)/g,(n,e)=>e.toUpperCase())}function _n(t){return!Array.isArray(t)&&!isNaN(t)}function Gd(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Qd(t){return["keydown","keyup"].includes(t)}function Da(t){return["contextmenu","click","mouse"].some(n=>t.includes(n))}function Xd(t,n){let e=n.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(o));if(e.includes("debounce")){let o=e.indexOf("debounce");e.splice(o,_n((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let o=e.indexOf("throttle");e.splice(o,_n((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&lr(t.key).includes(e[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(o=>e.includes(o));return e=e.filter(o=>!s.includes(o)),!(s.length>0&&s.filter(r=>((r==="cmd"||r==="super")&&(r="meta"),t[`${r}Key`])).length===s.length&&(Da(t.type)||lr(t.key).includes(e[0])))}function lr(t){if(!t)return[];t=Gd(t);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[t]=t,Object.keys(n).map(e=>{if(n[e]===t)return e}).filter(e=>e)}ee("model",(t,{modifiers:n,expression:e},{effect:i,cleanup:s})=>{let o=t;n.includes("parent")&&(o=t.parentNode);let r=le(o,e),a;typeof e=="string"?a=le(o,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?a=le(o,`${e()} = __placeholder`):a=()=>{};let c=()=>{let y;return r(A=>y=A),cr(y)?y.get():y},u=y=>{let A;r(b=>A=b),cr(A)?A.set(y):a(()=>{},{scope:{__placeholder:y}})};typeof e=="string"&&t.type==="radio"&&G(()=>{t.hasAttribute("name")||t.setAttribute("name",e)});var f=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||n.includes("lazy")?"change":"input";let v=Be?()=>{}:Wi(t,f,n,y=>{u(si(t,n,y,c()))});if(n.includes("fill")&&([void 0,null,""].includes(c())||vs(t)&&Array.isArray(c())||t.tagName.toLowerCase()==="select"&&t.multiple)&&u(si(t,n,{target:t},c())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=v,s(()=>t._x_removeModelListeners.default()),t.form){let y=Wi(t.form,"reset",[],A=>{gs(()=>t._x_model&&t._x_model.set(si(t,n,{target:t},c())))});s(()=>y())}t._x_model={get(){return c()},set(y){u(y)}},t._x_forceModelUpdate=y=>{y===void 0&&typeof e=="string"&&e.match(/\./)&&(y=""),window.fromModel=!0,G(()=>ta(t,"value",y)),delete window.fromModel},i(()=>{let y=c();n.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(y)})});function si(t,n,e,i){return G(()=>{if(e instanceof CustomEvent&&e.detail!==void 0)return e.detail!==null&&e.detail!==void 0?e.detail:e.target.value;if(vs(t))if(Array.isArray(i)){let s=null;return n.includes("number")?s=ri(e.target.value):n.includes("boolean")?s=hn(e.target.value):s=e.target.value,e.target.checked?i.includes(s)?i:i.concat([s]):i.filter(o=>!Zd(o,s))}else return e.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return n.includes("number")?Array.from(e.target.selectedOptions).map(s=>{let o=s.value||s.text;return ri(o)}):n.includes("boolean")?Array.from(e.target.selectedOptions).map(s=>{let o=s.value||s.text;return hn(o)}):Array.from(e.target.selectedOptions).map(s=>s.value||s.text);{let s;return ra(t)?e.target.checked?s=e.target.value:s=i:s=e.target.value,n.includes("number")?ri(s):n.includes("boolean")?hn(s):n.includes("trim")?s.trim():s}}})}function ri(t){let n=t?parseFloat(t):null;return ef(n)?n:t}function Zd(t,n){return t==n}function ef(t){return!Array.isArray(t)&&!isNaN(t)}function cr(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}ee("cloak",t=>queueMicrotask(()=>G(()=>t.removeAttribute(yt("cloak")))));Jo(()=>`[${yt("init")}]`);ee("init",Ve((t,{expression:n},{evaluate:e})=>typeof n=="string"?!!n.trim()&&e(n,{},!1):e(n,{},!1)));ee("text",(t,{expression:n},{effect:e,evaluateLater:i})=>{let s=i(n);e(()=>{s(o=>{G(()=>{t.textContent=o})})})});ee("html",(t,{expression:n},{effect:e,evaluateLater:i})=>{let s=i(n);e(()=>{s(o=>{G(()=>{t.innerHTML=o,t._x_ignoreSelf=!0,Pe(t),delete t._x_ignoreSelf})})})});fs(Ho(":",jo(yt("bind:"))));var Ta=(t,{value:n,modifiers:e,expression:i,original:s},{effect:o,cleanup:r})=>{if(!n){let c={};rd(c),le(t,i)(f=>{ua(t,f,s)},{scope:c});return}if(n==="key")return tf(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[n]&&t._x_inlineBindings[n].extract)return;let a=le(t,i);o(()=>a(c=>{c===void 0&&typeof i=="string"&&i.match(/\./)&&(c=""),G(()=>ta(t,n,c,e))})),r(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Ta.inline=(t,{value:n,modifiers:e,expression:i})=>{n&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[n]={expression:i,extract:!1})};ee("bind",Ta);function tf(t,n){t._x_keyExpression=n}Wo(()=>`[${yt("data")}]`);ee("data",(t,{expression:n},{cleanup:e})=>{if(nf(t))return;n=n===""?"{}":n;let i={};Ri(i,t);let s={};ad(s,i);let o=tt(t,n,{scope:s});(o===void 0||o===!0)&&(o={}),Ri(o,t);let r=vt(o);Lo(r);let a=Ht(t,r);r.init&&tt(t,r.init),e(()=>{r.destroy&&tt(t,r.destroy),a()})});Nn((t,n)=>{t._x_dataStack&&(n._x_dataStack=t._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function nf(t){return Be?Ui?!0:t.hasAttribute("data-has-alpine-state"):!1}ee("show",(t,{modifiers:n,expression:e},{effect:i})=>{let s=le(t,e);t._x_doHide||(t._x_doHide=()=>{G(()=>{t.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{G(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let o=()=>{t._x_doHide(),t._x_isShown=!1},r=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(r),c=qi(v=>v?r():o(),v=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,v,r,o):v?a():o()}),u,f=!0;i(()=>s(v=>{!f&&v===u||(n.includes("immediate")&&(v?a():o()),c(v),u=v,f=!1)}))});ee("for",(t,{expression:n},{effect:e,cleanup:i})=>{let s=rf(n),o=le(t,s.items),r=le(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},e(()=>sf(t,s,o,r)),i(()=>{Object.values(t._x_lookup).forEach(a=>G(()=>{_t(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function sf(t,n,e,i){let s=r=>typeof r=="object"&&!Array.isArray(r),o=t;e(r=>{of(r)&&r>=0&&(r=Array.from(Array(r).keys(),l=>l+1)),r===void 0&&(r=[]);let a=t._x_lookup,c=t._x_prevKeys,u=[],f=[];if(s(r))r=Object.entries(r).map(([l,d])=>{let h=ur(n,d,l,r);i(g=>{f.includes(g)&&ye("Duplicate key on x-for",t),f.push(g)},{scope:{index:l,...h}}),u.push(h)});else for(let l=0;l<r.length;l++){let d=ur(n,r[l],l,r);i(h=>{f.includes(h)&&ye("Duplicate key on x-for",t),f.push(h)},{scope:{index:l,...d}}),u.push(d)}let v=[],y=[],A=[],b=[];for(let l=0;l<c.length;l++){let d=c[l];f.indexOf(d)===-1&&A.push(d)}c=c.filter(l=>!A.includes(l));let _="template";for(let l=0;l<f.length;l++){let d=f[l],h=c.indexOf(d);if(h===-1)c.splice(l,0,d),v.push([_,l]);else if(h!==l){let g=c.splice(l,1)[0],O=c.splice(h-1,1)[0];c.splice(l,0,O),c.splice(h,0,g),y.push([g,O])}else b.push(d);_=d}for(let l=0;l<A.length;l++){let d=A[l];d in a&&(G(()=>{_t(a[d]),a[d].remove()}),delete a[d])}for(let l=0;l<y.length;l++){let[d,h]=y[l],g=a[d],O=a[h],L=document.createElement("div");G(()=>{O||ye('x-for ":key" is undefined or invalid',o,h,a),O.after(L),g.after(O),O._x_currentIfEl&&O.after(O._x_currentIfEl),L.before(g),g._x_currentIfEl&&g.after(g._x_currentIfEl),L.remove()}),O._x_refreshXForScope(u[f.indexOf(h)])}for(let l=0;l<v.length;l++){let[d,h]=v[l],g=d==="template"?o:a[d];g._x_currentIfEl&&(g=g._x_currentIfEl);let O=u[h],L=f[h],T=document.importNode(o.content,!0).firstElementChild,C=vt(O);Ht(T,C,o),T._x_refreshXForScope=D=>{Object.entries(D).forEach(([E,I])=>{C[E]=I})},G(()=>{g.after(T),Ve(()=>Pe(T))()}),typeof L=="object"&&ye("x-for key cannot be an object, it must be a string or an integer",o),a[L]=T}for(let l=0;l<b.length;l++)a[b[l]]._x_refreshXForScope(u[f.indexOf(b[l])]);o._x_prevKeys=f})}function rf(t){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=t.match(i);if(!s)return;let o={};o.items=s[2].trim();let r=s[1].replace(e,"").trim(),a=r.match(n);return a?(o.item=r.replace(n,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=r,o}function ur(t,n,e,i){let s={};return/^\[.*\]$/.test(t.item)&&Array.isArray(n)?t.item.replace("[","").replace("]","").split(",").map(r=>r.trim()).forEach((r,a)=>{s[r]=n[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(n)&&typeof n=="object"?t.item.replace("{","").replace("}","").split(",").map(r=>r.trim()).forEach(r=>{s[r]=n[r]}):s[t.item]=n,t.index&&(s[t.index]=e),t.collection&&(s[t.collection]=i),s}function of(t){return!Array.isArray(t)&&!isNaN(t)}function La(){}La.inline=(t,{expression:n},{cleanup:e})=>{let i=Fn(t);i._x_refs||(i._x_refs={}),i._x_refs[n]=t,e(()=>delete i._x_refs[n])};ee("ref",La);ee("if",(t,{expression:n},{effect:e,cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&ye("x-if can only be used on a <template> tag",t);let s=le(t,n),o=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Ht(a,{},t),G(()=>{t.after(a),Ve(()=>Pe(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{G(()=>{_t(a),a.remove()}),delete t._x_currentIfEl},a},r=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};e(()=>s(a=>{a?o():r()})),i(()=>t._x_undoIf&&t._x_undoIf())});ee("id",(t,{expression:n},{evaluate:e})=>{e(n).forEach(s=>zd(t,s))});Nn((t,n)=>{t._x_ids&&(n._x_ids=t._x_ids)});fs(Ho("@",jo(yt("on:"))));ee("on",Ve((t,{value:n,modifiers:e,expression:i},{cleanup:s})=>{let o=i?le(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(n)||t._x_forwardEvents.push(n));let r=Wi(t,n,e,a=>{o(()=>{},{scope:{$event:a},params:[a]})});s(()=>r())}));jn("Collapse","collapse","collapse");jn("Intersect","intersect","intersect");jn("Focus","trap","focus");jn("Mask","mask","mask");function jn(t,n,e){ee(n,i=>ye(`You can't use [x-${n}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}Bt.setEvaluator(Po);Bt.setReactivityEngine({reactive:xs,effect:vd,release:bd,raw:U});var af=Bt,ka=af,lf=Object.defineProperty,cf=(t,n,e)=>n in t?lf(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,ut=(t,n,e)=>cf(t,typeof n!="symbol"?n+"":n,e);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(t,n){this.pending=this.pending.filter(e=>e.value!==t),this.pending.push({value:t,textContent:n})},has(t){return this.pending.some(n=>n.value===t)},get(t){return this.pending.find(n=>n.value===t)},notContains(t){return this.pending.length>0&&!this.has(t)},clear(){this.pending=[]},getTextContent(t){const n=this.pending.find(e=>e.value===t);return n?n.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",t=>{const n=t.__livewire.params[0];typeof this.selected[n.tableName]>"u"&&(this.selected[n.tableName]=[]),this.selected[n.tableName].push(n.value)}),window.addEventListener("pgBulkActions::clear",t=>{this.clear(t.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(t,n){if(typeof this.selected[n]>"u"&&(this.selected[n]=[]),!this.selected[n].includes(t)){this.selected[n].push(t);return}this.remove(t,n)},remove(t,n){const e=this.selected[n].indexOf(t);e>-1&&this.selected[n].splice(e,1)},get(t){return this.selected[t]??""},count(t){return typeof this.selected[t]>"u"?0:this.selected[t].length},clear(t){this.selected[t]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const uf=t=>({field:t.field??null,tableName:t.tableName??null,enabled:t.enabled??!1,id:t.id,trueValue:t.trueValue,falseValue:t.falseValue,toggle:t.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),df=(t,n,e)=>{const i=t[n];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((s,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})},ff=t=>({dataField:t.dataField,tableName:t.tableName,label:t.label??null,locale:t.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:t.onlyFuture??!1,noWeekEnds:t.noWeekEnds??!1,customConfig:t.customConfig??null,type:t.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

 Install flatpickr: npm install flatpickr

 Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const e=await df(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(e.default||e)}catch{}const n=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,n),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const n={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(n.minDate="today"),this.noWeekEnds&&(n.disable=[function(e){return e.getDay()===0||e.getDay()===6}]),n.onClose=(e,i,s)=>{e=e.map(o=>this.element.formatDate(o,"Y-m-d")),e.length>0&&this.selectedDates!==i&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:e,dateStr:i,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label,dateFormat:this.locale.dateFormat??"Y-m-d H:i"})},n}}),hf=t=>({theme:t.theme,id:t.id??null,dataField:t.dataField??null,content:t.content,fallback:t.fallback,inputClass:t.inputClass,saveOnMouseOut:t.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),n=>{n.click(),this.observe(()=>document.getElementById("editable-"+this.hash),e=>{setTimeout(()=>this.setFocusToEnd(e),100)})})}),this.$watch("editable",n=>{if(n){let e=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),i=>{setTimeout(()=>{this.setFocusToEnd(i),this.store().getTextContent(this.hash)&&(i.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const i=this.store().get(this.hash),s=document.getElementById("clickable-"+i);s&&s.click()}e=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=e,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),n=>{n.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(n){const e=document.createElement("div");return e.innerHTML=n,e.textContent},observe(n,e){new MutationObserver((i,s)=>{for(let o of i)if(o.type==="childList"){const r=n();if(r){e(r),s.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(n){if(!n)return;const e=window.getSelection(),i=document.createRange();i.selectNodeContents(n),i.collapse(!1),e.removeAllRanges(),e.addRange(i),n.focus()}});function pf(t){t.querySelectorAll("tbody tr td").forEach(n=>{n.classList.remove("hidden")}),t.querySelectorAll("thead tr th").forEach(n=>{n.classList.remove("hidden")})}function gf(t){let n=0;const e=t.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),i=Ji(t);return e.forEach(s=>{n+=Ji(s)}),i-n}function mf(t,n){const e=[].slice.call(t.querySelectorAll("table thead tr:nth-child(1) th")),i=Array.from(e).filter(c=>getComputedStyle(c).display!=="none"),s=[].slice.call(i).sort(function(c,u){const f=c.getAttribute("sort_order")??999,v=u.getAttribute("sort_order")??999;return f-v});let o=0,r=!0;const a=[];return s.forEach(c=>{const u=Ji(c);c.getAttribute("fixed")===null&&(r&&o<=n&&o+u<=n?o+=u:(a.push(i.indexOf(c)+1),r=!1))}),a}function vf(t,n){for(const e of n)t.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")}),t.querySelectorAll(`thead tr th:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")})}function bf(t,n){var e,i;if(t.querySelectorAll("table tbody[expand] tr td div").length){for(const s of t.querySelectorAll("table tbody[expand] tr td div"))s.innerHTML="";if(n.length)for(const s of n){const o=t.querySelectorAll("table tbody:not(tbody[expand])");for(const r of o){const a=(e=r.nextElementSibling)==null?void 0:e.querySelector("tr td div");if(!a)continue;let c=t.querySelector(`table thead tr th:nth-child(${s}) span[data-value]`).textContent;const u=(i=r.querySelector(`tr:last-child td:nth-child(${s})`))==null?void 0:i.innerHTML;c.length&&(c+=":"),a.querySelector(`div[data-expand-item-${s}]`)||(a.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${s}>
                    <span class="font-bold responsive-row-expand-item-name">${c}</span>
                    <span class="responsive-row-expand-item-value">${u}</span>
                </div>`)}}}}function Ji(t){return parseFloat(t.getBoundingClientRect().width.toFixed(2))}function yf(t){pf(t);const n=gf(t),e=mf(t,n);bf(t,e),vf(t,e)}const wf=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(t){this.expanded=this.expanded==t?null:t},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var t;const n=this.$el;yf(n),this.hasHiddenElements=(t=n.querySelector("table tbody[expand] tr td div"))==null?void 0:t.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(t=>{t.forEach(n=>{if(n.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),_f=(t,n,e)=>{Livewire.dispatch(`${t}-${n.tableName}`,{label:n.label,field:n.dataField,values:e})},Ma=(t,n)=>{_f("pg:multiSelect",t,n)};function oi(t,n){t.split(/\s+/).forEach(e=>{n(e)})}class Of{constructor(){this._events={}}on(n,e){oi(n,i=>{const s=this._events[i]||[];s.push(e),this._events[i]=s})}off(n,e){var i=arguments.length;if(i===0){this._events={};return}oi(n,s=>{if(i===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[s]=o)})}trigger(n,...e){var i=this;oi(n,s=>{const o=i._events[s];o!==void 0&&o.forEach(r=>{r.apply(i,e)})})}}function Cf(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){t.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,i;const s=this,o=[];if(Array.isArray(n))n.forEach(r=>{typeof r=="string"?o.push(r):(s.plugins.settings[r.name]=r.options,o.push(r.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(s.plugins.settings[e]=n[e],o.push(e));for(;i=o.shift();)s.require(i)}loadPlugin(n){var e=this,i=e.plugins,s=t.plugins[n];if(!t.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');i.requested[n]=!0,i.loaded[n]=s.fn.apply(e,[e.plugins.settings[n]||{}]),i.names.push(n)}require(n){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(i.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return i.loaded[n]}}}const Bn=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":Sf(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),Ia=t=>{if(!xf(t))return t.join("");let n="",e=0;const i=()=>{e>1&&(n+="{"+e+"}")};return t.forEach((s,o)=>{if(s===t[o-1]){e++;return}i(),n+=s,e=1}),i(),n},Fa=t=>{let n=Array.from(t);return Bn(n)},xf=t=>new Set(t).size!==t.length,Ft=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Sf=t=>t.reduce((n,e)=>Math.max(n,Ef(e)),0),Ef=t=>Array.from(t).length,Pa=t=>{if(t.length===1)return[[t]];let n=[];const e=t.substring(1);return Pa(e).forEach(function(i){let s=i.slice(0);s[0]=t.charAt(0)+s[0],n.push(s),s=i.slice(0),s.unshift(t.charAt(0)),n.push(s)}),n},Af=[[0,65535]],Df="[-]";let On,Na;const Tf=3,Ss={},dr={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let t in dr){let n=dr[t]||"";for(let e=0;e<n.length;e++){let i=n.substring(e,e+1);Ss[i]=t}}const Lf=new RegExp(Object.keys(Ss).join("|")+"|"+Df,"gu"),kf=t=>{On===void 0&&(On=Pf(Af))},fr=(t,n="NFKD")=>t.normalize(n),Cn=t=>Array.from(t).reduce((n,e)=>n+Mf(e),""),Mf=t=>(t=fr(t).toLowerCase().replace(Lf,n=>Ss[n]||""),fr(t,"NFC"));function*If(t){for(const[n,e]of t)for(let i=n;i<=e;i++){let s=String.fromCharCode(i),o=Cn(s);o!=s.toLowerCase()&&(o.length>Tf||o.length!=0&&(yield{folded:o,composed:s,code_point:i}))}}const Ff=t=>{const n={},e=(i,s)=>{const o=n[i]||new Set,r=new RegExp("^"+Fa(o)+"$","iu");s.match(r)||(o.add(Ft(s)),n[i]=o)};for(let i of If(t))e(i.folded,i.folded),e(i.folded,i.composed);return n},Pf=t=>{const n=Ff(t),e={};let i=[];for(let o in n){let r=n[o];r&&(e[o]=Fa(r)),o.length>1&&i.push(Ft(o))}i.sort((o,r)=>r.length-o.length);const s=Bn(i);return Na=new RegExp("^"+s,"u"),e},Nf=(t,n=1)=>{let e=0;return t=t.map(i=>(On[i]&&(e+=i.length),On[i]||i)),e>=n?Ia(t):""},Rf=(t,n=1)=>(n=Math.max(n,t.length-1),Bn(Pa(t).map(e=>Nf(e,n)))),hr=(t,n=!0)=>{let e=t.length>1?1:0;return Bn(t.map(i=>{let s=[];const o=n?i.length():i.length()-1;for(let r=0;r<o;r++)s.push(Rf(i.substrs[r]||"",e));return Ia(s)}))},$f=(t,n)=>{for(const e of n){if(e.start!=t.start||e.end!=t.end||e.substrs.join("")!==t.substrs.join(""))continue;let i=t.parts;const s=o=>{for(const r of i){if(r.start===o.start&&r.substr===o.substr)return!1;if(!(o.length==1||r.length==1)&&(o.start<r.start&&o.end>r.start||r.start<o.start&&r.end>o.start))return!0}return!1};if(!(e.parts.filter(s).length>0))return!0}return!1};class xn{constructor(){ut(this,"parts"),ut(this,"substrs"),ut(this,"start"),ut(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let i=new xn,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const c of s)i.add(c);let r=e.substr.substring(0,n-o.start),a=r.length;return i.add({start:o.start,end:o.start+a,length:a,substr:r}),i}}const Hf=t=>{kf(),t=Cn(t);let n="",e=[new xn];for(let i=0;i<t.length;i++){let s=t.substring(i).match(Na);const o=t.substring(i,i+1),r=s?s[0]:null;let a=[],c=new Set;for(const u of e){const f=u.last();if(!f||f.length==1||f.end<=i)if(r){const v=r.length;u.add({start:i,end:i+v,length:v,substr:r}),c.add("1")}else u.add({start:i,end:i+1,length:1,substr:o}),c.add("2");else if(r){let v=u.clone(i,f);const y=r.length;v.add({start:i,end:i+y,length:y,substr:r}),a.push(v)}else c.add("3")}if(a.length>0){a=a.sort((u,f)=>u.length()-f.length());for(let u of a)$f(u,e)||e.push(u);continue}if(i>0&&c.size==1&&!c.has("3")){n+=hr(e,!1);let u=new xn;const f=e[0];f&&u.add(f.last()),e=[u]}}return n+=hr(e,!0),n},jf=(t,n)=>{if(t)return t[n]},Bf=(t,n)=>{if(t){for(var e,i=n.split(".");(e=i.shift())&&(t=t[e]););return t}},ai=(t,n,e)=>{var i,s;return!t||(t=t+"",n.regex==null)||(s=t.search(n.regex),s===-1)?0:(i=n.string.length/t.length,s===0&&(i+=.5),i*e)},li=(t,n)=>{var e=t[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(t[n]=[e])},Zt=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},qf=(t,n)=>typeof t=="number"&&typeof n=="number"?t>n?1:t<n?-1:0:(t=Cn(t+"").toLowerCase(),n=Cn(n+"").toLowerCase(),t>n?1:n>t?-1:0);class Vf{constructor(n,e){ut(this,"items"),ut(this,"settings"),this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,i){if(!n||!n.length)return[];const s=[],o=n.split(/\s+/);var r;return i&&(r=new RegExp("^("+Object.keys(i).map(Ft).join("|")+"):(.*)$")),o.forEach(a=>{let c,u=null,f=null;r&&(c=a.match(r))&&(u=c[1],a=c[2]),a.length>0&&(this.settings.diacritics?f=Hf(a)||null:f=Ft(a),f&&e&&(f="\\b"+f)),s.push({string:a,regex:f?new RegExp(f,"iu"):null,field:u})}),s}getScoreFunction(n,e){var i=this.prepareSearch(n,e);return this._getScoreFunction(i)}_getScoreFunction(n){const e=n.tokens,i=e.length;if(!i)return function(){return 0};const s=n.options.fields,o=n.weights,r=s.length,a=n.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(u,f){const v=s[0].field;return ai(a(f,v),u,o[v]||1)}:function(u,f){var v=0;if(u.field){const y=a(f,u.field);!u.regex&&y?v+=1/r:v+=ai(y,u,1)}else Zt(o,(y,A)=>{v+=ai(a(f,A),u,y)});return v/r}}();return i===1?function(u){return c(e[0],u)}:n.options.conjunction==="and"?function(u){var f,v=0;for(let y of e){if(f=c(y,u),f<=0)return 0;v+=f}return v/i}:function(u){var f=0;return Zt(e,v=>{f+=c(v,u)}),f/i}}getSortFunction(n,e){var i=this.prepareSearch(n,e);return this._getSortFunction(i)}_getSortFunction(n){var e,i=[];const s=this,o=n.options,r=!n.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const a=function(c,u){return c==="$score"?u.score:n.getAttrFn(s.items[u.id],c)};if(r)for(let c of r)(n.query||c.field!=="$score")&&i.push(c);if(n.query){e=!0;for(let c of i)if(c.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(c=>c.field!=="$score");return i.length?function(c,u){var f,v;for(let y of i)if(v=y.field,f=(y.direction==="desc"?-1:1)*qf(a(v,c),a(v,u)),f)return f;return 0}:null}prepareSearch(n,e){const i={};var s=Object.assign({},e);if(li(s,"sort"),li(s,"sort_empty"),s.fields){li(s,"fields");const o=[];s.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),i[r.field]="weight"in r?r.weight:1}),s.fields=o}return{options:s,query:n.toLowerCase().trim(),tokens:this.tokenize(n,s.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:s.nesting?Bf:jf}}search(n,e){var i=this,s,o;o=this.prepareSearch(n,e),e=o.options,n=o.query;const r=e.score||i._getScoreFunction(o);n.length?Zt(i.items,(c,u)=>{s=r(c),(e.filter===!1||s>0)&&o.items.push({score:s,id:u})}):Zt(i.items,(c,u)=>{o.items.push({score:1,id:u})});const a=i._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const _e=t=>typeof t>"u"||t===null?null:pn(t),pn=t=>typeof t=="boolean"?t?"1":"0":t+"",ci=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Uf=(t,n)=>n>0?window.setTimeout(t,n):(t.call(null),null),zf=(t,n)=>{var e;return function(i,s){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[i]=!0,t.call(o,i,s)},n)}},pr=(t,n,e)=>{var i,s=t.trigger,o={};t.trigger=function(){var r=arguments[0];if(n.indexOf(r)!==-1)o[r]=arguments;else return s.apply(t,arguments)},e.apply(t,[]),t.trigger=s;for(i of n)i in o&&s.apply(t,o[i])},Kf=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),X=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},re=(t,n,e,i)=>{t.addEventListener(n,e,i)},Ke=(t,n)=>{if(!n||!n[t])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},ui=(t,n)=>t.getAttribute("id")||(t.setAttribute("id",n),n),gr=t=>t.replace(/[\\"']/g,"\\$&"),Ye=(t,n)=>{n&&t.append(n)},ne=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Le=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ra(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Ra=t=>typeof t=="string"&&t.indexOf("<")>-1,Yf=t=>t.replace(/['"\\]/g,"\\$&"),di=(t,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),t.dispatchEvent(e)},en=(t,n)=>{Object.assign(t.style,n)},pe=(t,...n)=>{var e=$a(n);t=Ha(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},He=(t,...n)=>{var e=$a(n);t=Ha(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},$a=t=>{var n=[];return ne(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Ha=t=>(Array.isArray(t)||(t=[t]),t),fi=(t,n,e)=>{if(!(e&&!e.contains(t)))for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},mr=(t,n=0)=>n>0?t[t.length-1]:t[0],Wf=t=>Object.keys(t).length===0,vr=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e},Y=(t,n)=>{ne(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},Gi=(t,n)=>{t.parentNode&&t.parentNode.replaceChild(n,t)},Jf=(t,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}const e=o=>{var r=o.data.match(n);if(r&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var u=c.cloneNode(!0);return a.appendChild(u),Gi(c,a),1}return 0},i=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{s(r)})},s=o=>o.nodeType===3?e(o):(i(o),0);s(t)},Gf=t=>{var n=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Qf=65,Xf=13,Zf=27,eh=37,th=38,nh=39,ih=40,br=8,sh=46,yr=9,rh=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),tn=rh?"metaKey":"ctrlKey",wr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function _r(t,n){var e=Object.assign({},wr,n),i=e.dataAttr,s=e.labelField,o=e.valueField,r=e.disabledField,a=e.optgroupField,c=e.optgroupLabelField,u=e.optgroupValueField,f=t.tagName.toLowerCase(),v=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let _=t.querySelector('option[value=""]');_&&(v=_.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},A=()=>{var _,l=y.options,d={},h=1;let g=0;var O=C=>{var D=Object.assign({},C.dataset),E=i&&D[i];return typeof E=="string"&&E.length&&(D=Object.assign(D,JSON.parse(E))),D},L=(C,D)=>{var E=_e(C.value);if(E!=null&&!(!E&&!e.allowEmptyOption)){if(d.hasOwnProperty(E)){if(D){var I=d[E][a];I?Array.isArray(I)?I.push(D):d[E][a]=[I,D]:d[E][a]=D}}else{var M=O(C);M[s]=M[s]||C.textContent,M[o]=M[o]||E,M[r]=M[r]||C.disabled,M[a]=M[a]||D,M.$option=C,M.$order=M.$order||++g,d[E]=M,l.push(M)}C.selected&&y.items.push(E)}},T=C=>{var D,E;E=O(C),E[c]=E[c]||C.getAttribute("label")||"",E[u]=E[u]||h++,E[r]=E[r]||C.disabled,E.$order=E.$order||++g,y.optgroups.push(E),D=E[u],ne(C.children,I=>{L(I,D)})};y.maxItems=t.hasAttribute("multiple")?null:1,ne(t.children,C=>{_=C.tagName.toLowerCase(),_==="optgroup"?T(C):_==="option"&&L(C)})},b=()=>{const _=t.getAttribute(i);if(_)y.options=JSON.parse(_),ne(y.options,d=>{y.items.push(d[o])});else{var l=t.value.trim()||"";if(!e.allowEmptyOption&&!l.length)return;const d=l.split(e.delimiter);ne(d,h=>{const g={};g[s]=h,g[o]=h,y.options.push(g)}),y.items=d}};return f==="select"?A():b(),Object.assign({},wr,y,n)}var Or=0;class ce extends Cf(Of){constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,Or++;var i,s=Le(n);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);i=o.getPropertyValue("direction");const r=_r(s,e);this.settings=r,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=ui(s,"tomselect-"+Or),this.isRequired=s.required,this.sifter=new Vf(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var a=r.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?r.createFilter=l=>a.test(l):r.createFilter=l=>this.settings.duplicates||!this.options[l]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=Le("<div>"),u=Le("<div>"),f=this._render("dropdown"),v=Le('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",A=r.mode;var b;if(pe(c,r.wrapperClass,y,A),pe(u,r.controlClass),Ye(c,u),pe(f,r.dropdownClass,A),r.copyClassesToDropdown&&pe(f,y),pe(v,r.dropdownContentClass),Ye(f,v),Le(r.dropdownParent||c).appendChild(f),Ra(r.controlInput)){b=Le(r.controlInput);var _=["autocorrect","autocapitalize","autocomplete","spellcheck"];ne(_,l=>{s.getAttribute(l)&&Y(b,{[l]:s.getAttribute(l)})}),b.tabIndex=-1,u.appendChild(b),this.focus_node=b}else r.controlInput?(b=Le(r.controlInput),this.focus_node=b):(b=Le("<input/>"),this.focus_node=u);this.wrapper=c,this.dropdown=f,this.dropdown_content=v,this.control=u,this.control_input=b,this.setup()}setup(){const n=this,e=n.settings,i=n.control_input,s=n.dropdown,o=n.dropdown_content,r=n.wrapper,a=n.control,c=n.input,u=n.focus_node,f={passive:!0},v=n.inputId+"-ts-dropdown";Y(o,{id:v}),Y(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=ui(u,n.inputId+"-ts-control"),A="label[for='"+Yf(n.inputId)+"']",b=document.querySelector(A),_=n.focus.bind(n);if(b){re(b,"click",_),Y(b,{for:y});const h=ui(b,n.inputId+"-ts-label");Y(u,{"aria-labelledby":h}),Y(o,{"aria-labelledby":h})}if(r.style.width=c.style.width,n.plugins.names.length){const h="plugin-"+n.plugins.names.join(" plugin-");pe([r,s],h)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&Y(c,{multiple:"multiple"}),e.placeholder&&Y(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+Ft(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=zf(e.load,e.loadThrottle)),re(s,"mousemove",()=>{n.ignoreHover=!1}),re(s,"mouseenter",h=>{var g=fi(h.target,"[data-selectable]",s);g&&n.onOptionHover(h,g)},{capture:!0}),re(s,"click",h=>{const g=fi(h.target,"[data-selectable]");g&&(n.onOptionSelect(h,g),X(h,!0))}),re(a,"click",h=>{var g=fi(h.target,"[data-ts-item]",a);if(g&&n.onItemSelect(h,g)){X(h,!0);return}i.value==""&&(n.onClick(),X(h,!0))}),re(u,"keydown",h=>n.onKeyDown(h)),re(i,"keypress",h=>n.onKeyPress(h)),re(i,"input",h=>n.onInput(h)),re(u,"blur",h=>n.onBlur(h)),re(u,"focus",h=>n.onFocus(h)),re(i,"paste",h=>n.onPaste(h));const l=h=>{const g=h.composedPath()[0];if(!r.contains(g)&&!s.contains(g)){n.isFocused&&n.blur(),n.inputState();return}g==i&&n.isOpen?h.stopPropagation():X(h,!0)},d=()=>{n.isOpen&&n.positionDropdown()};re(document,"mousedown",l),re(window,"scroll",d,f),re(window,"resize",d,f),this._destroy=()=>{document.removeEventListener("mousedown",l),window.removeEventListener("scroll",d),window.removeEventListener("resize",d),b&&b.removeEventListener("click",_)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,re(c,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,c.disabled?n.disable():c.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),pe(c,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),ne(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var n=this,e=n.settings.labelField,i=n.settings.optgroupLabelField,s={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[i])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};n.settings.render=Object.assign({},s,n.settings.render)}setupCallbacks(){var n,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in i)e=this.settings[i[n]],e&&this.on(n,e)}sync(n=!0){const e=this,i=n?_r(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){di(this.input,"input"),di(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){X(n);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var s=i.trim().split(e.settings.splitOn);ne(s,o=>{_e(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){X(n);return}var i=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),X(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==yr&&X(n);return}switch(n.keyCode){case Qf:if(Ke(tn,n)&&e.control_input.value==""){X(n),e.selectAll();return}break;case Zf:e.isOpen&&(X(n,!0),e.close()),e.clearActiveItems();return;case ih:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}X(n);return;case th:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}X(n);return;case Xf:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),X(n)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&X(n);return;case eh:e.advanceSelection(-1,n);return;case nh:e.advanceSelection(1,n);return;case yr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),X(n)),e.settings.create&&e.createItem()&&X(n));return;case br:case sh:e.deleteSelection(n);return}e.isInputHidden&&!Ke(tn,n)&&X(n)}onInput(n){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Uf(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),X(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(n,e){var i,s=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(i=e.dataset.value,typeof i<"u"&&(s.lastQuery=null,s.addItem(i),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&n.type&&/click/.test(n.type)&&s.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(X(n),i.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){const e=this;if(!e.canLoad(n))return;pe(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,n,i)}loadCallback(n,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(n,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||He(i.wrapper,i.settings.loadingClass),i.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,i=e.value!==n;i&&(e.value=n,di(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var i=e?[]:["change"];pr(this,i,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var i=this,s,o,r,a,c,u;if(i.settings.mode!=="single"){if(!n){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(s=e&&e.type.toLowerCase(),s==="click"&&Ke("shiftKey",e)&&i.activeItems.length){for(u=i.getLastActive(),r=Array.prototype.indexOf.call(i.control.children,u),a=Array.prototype.indexOf.call(i.control.children,n),r>a&&(c=r,r=a,a=c),o=r;o<=a;o++)n=i.control.children[o],i.activeItems.indexOf(n)===-1&&i.setActiveItemClass(n);X(e)}else s==="click"&&Ke(tn,e)||s==="keydown"&&Ke("shiftKey",e)?n.classList.contains("active")?i.removeActiveItem(n):i.setActiveItemClass(n):(i.clearActiveItems(),i.setActiveItemClass(n));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(n){const e=this,i=e.control.querySelector(".last-active");i&&He(i,"last-active"),pe(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),He(n,"active")}clearActiveItems(){He(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,Y(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),Y(n,{"aria-selected":"true"}),pe(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;const i=this.dropdown_content,s=i.clientHeight,o=i.scrollTop||0,r=n.offsetHeight,a=n.getBoundingClientRect().top-i.getBoundingClientRect().top+o;a+r>s+o?this.scroll(a-s+r,e):a<o&&this.scroll(a,e)}scroll(n,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=n,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(He(this.activeOption,"active"),Y(this.activeOption,{"aria-selected":null})),this.activeOption=null,Y(this.focus_node,{"aria-activedescendant":null})}selectAll(){const n=this;if(n.settings.mode==="single")return;const e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,ne(e,i=>{n.setActiveItemClass(i)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(Y(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&Y(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,i,s=this,o=this.getSearchOptions();if(s.settings.score&&(i=s.settings.score.call(s,n),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==s.lastQuery?(s.lastQuery=n,e=s.sifter.search(n,Object.assign(o,{score:i})),s.currentResults=e):e=Object.assign({},s.currentResults),s.settings.hideSelected&&(e.items=e.items.filter(r=>{let a=_e(r.id);return!(a&&s.items.indexOf(a)!==-1)})),e}refreshOptions(n=!0){var e,i,s,o,r,a,c,u,f,v;const y={},A=[];var b=this,_=b.inputValue();const l=_===b.lastQuery||_==""&&b.lastQuery==null;var d=b.search(_),h=null,g=b.settings.shouldOpen||!1,O=b.dropdown_content;l&&(h=b.activeOption,h&&(f=h.closest("[data-group]"))),o=d.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(g=!0);const L=(C,D)=>{let E=y[C];if(E!==void 0){let M=A[E];if(M!==void 0)return[E,M.fragment]}let I=document.createDocumentFragment();return E=A.length,A.push({fragment:I,order:D,optgroup:C}),[E,I]};for(e=0;e<o;e++){let C=d.items[e];if(!C)continue;let D=C.id,E=b.options[D];if(E===void 0)continue;let I=pn(D),M=b.getOption(I,!0);for(b.settings.hideSelected||M.classList.toggle("selected",b.items.includes(I)),r=E[b.settings.optgroupField]||"",a=Array.isArray(r)?r:[r],i=0,s=a&&a.length;i<s;i++){r=a[i];let z=E.$order,K=b.optgroups[r];K===void 0?r="":z=K.$order;const[Ae,De]=L(r,z);i>0&&(M=M.cloneNode(!0),Y(M,{id:E.$id+"-clone-"+i,"aria-selected":null}),M.classList.add("ts-cloned"),He(M,"active"),b.activeOption&&b.activeOption.dataset.value==D&&f&&f.dataset.group===r.toString()&&(h=M)),De.appendChild(M),r!=""&&(y[r]=Ae)}}b.settings.lockOptgroupOrder&&A.sort((C,D)=>C.order-D.order),c=document.createDocumentFragment(),ne(A,C=>{let D=C.fragment,E=C.optgroup;if(!D||!D.children.length)return;let I=b.optgroups[E];if(I!==void 0){let M=document.createDocumentFragment(),z=b.render("optgroup_header",I);Ye(M,z),Ye(M,D);let K=b.render("optgroup",{group:I,options:M});Ye(c,K)}else Ye(c,D)}),O.innerHTML="",Ye(O,c),b.settings.highlight&&(Gf(O),d.query.length&&d.tokens.length&&ne(d.tokens,C=>{Jf(O,C.regex)}));var T=C=>{let D=b.render(C,{input:_});return D&&(g=!0,O.insertBefore(D,O.firstChild)),D};if(b.loading?T("loading"):b.settings.shouldLoad.call(b,_)?d.items.length===0&&T("no_results"):T("not_loading"),u=b.canCreate(_),u&&(v=T("option_create")),b.hasOptions=d.items.length>0||u,g){if(d.items.length>0){if(!h&&b.settings.mode==="single"&&b.items[0]!=null&&(h=b.getOption(b.items[0])),!O.contains(h)){let C=0;v&&!b.settings.addPrecedence&&(C=1),h=b.selectable()[C]}}else v&&(h=v);n&&!b.isOpen&&(b.open(),b.scrollToOption(h,"auto")),b.setActiveOption(h)}else b.clearActiveOption(),n&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){const i=this;if(Array.isArray(n))return i.addOptions(n,e),!1;const s=_e(n[i.settings.valueField]);return s===null||i.options.hasOwnProperty(s)?!1:(n.$order=n.$order||++i.order,n.$id=i.inputId+"-opt-"+n.$order,i.options[s]=n,i.lastQuery=null,e&&(i.userOptions[s]=e,i.trigger("option_add",s,n)),s)}addOptions(n,e=!1){ne(n,i=>{this.addOption(i,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=_e(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var i;e[this.settings.optgroupValueField]=n,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){const i=this;var s,o;const r=_e(n),a=_e(e[i.settings.valueField]);if(r===null)return;const c=i.options[r];if(c==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=i.getOption(r),f=i.getItem(r);if(e.$order=e.$order||c.$order,delete i.options[r],i.uncacheValue(a),i.options[a]=e,u){if(i.dropdown_content.contains(u)){const v=i._render("option",e);Gi(u,v),i.activeOption===u&&i.setActiveOption(v)}u.remove()}f&&(o=i.items.indexOf(r),o!==-1&&i.items.splice(o,1,a),s=i._render("item",e),f.classList.contains("active")&&pe(s,"active"),Gi(f,s)),i.lastQuery=null}removeOption(n,e){const i=this;n=pn(n),i.uncacheValue(n),delete i.userOptions[n],delete i.options[n],i.lastQuery=null,i.trigger("option_remove",n),i.removeItem(n,e)}clearOptions(n){const e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};ne(this.options,(s,o)=>{e(s,o)&&(i[o]=s)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){const i=_e(n);if(i===null)return null;const s=this.options[i];if(s!=null){if(s.$div)return s.$div;if(e)return this._render("option",s)}return null}getAdjacent(n,e,i="option"){var s=this,o;if(!n)return null;i=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==n)return e>0?o[r+1]:o[r-1];return null}getItem(n){if(typeof n=="object")return n;var e=_e(n);return e!==null?this.control.querySelector(`[data-value="${gr(e)}"]`):null}addItems(n,e){var i=this,s=Array.isArray(n)?n:[n];s=s.filter(r=>i.items.indexOf(r)===-1);const o=s[s.length-1];s.forEach(r=>{i.isPending=r!==o,i.addItem(r,e)})}addItem(n,e){var i=e?[]:["change","dropdown_close"];pr(this,i,()=>{var s,o;const r=this,a=r.settings.mode,c=_e(n);if(!(c&&r.items.indexOf(c)!==-1&&(a==="single"&&r.close(),a==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(a==="single"&&r.clear(e),!(a==="multi"&&r.isFull()))){if(s=r._render("item",r.options[c]),r.control.contains(s)&&(s=s.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(s),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let u=r.getOption(c),f=r.getAdjacent(u,1);f&&r.setActiveOption(f)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&a!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,s),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(n=null,e){const i=this;if(n=i.getItem(n),!n)return;var s,o;const r=n.dataset.value;s=vr(n),n.remove(),n.classList.contains("active")&&(o=i.activeItems.indexOf(n),i.activeItems.splice(o,1),He(n,"active")),i.items.splice(s,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(r)&&i.removeOption(r,e),s<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",r,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,s=i.caretPos,o;if(n=n||i.inputValue(),!i.canCreate(n))return e(),!1;i.lock();var r=!1,a=c=>{if(i.unlock(),!c||typeof c!="object")return e();var u=_e(c[i.settings.valueField]);if(typeof u!="string")return e();i.setTextboxValue(),i.addOption(c,!0),i.setCaret(s),i.addItem(u),e(c),r=!0};return typeof i.settings.create=="function"?o=i.settings.create.call(this,n,a):o={[i.settings.labelField]:n,[i.settings.valueField]:n},r||a(o),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){const n=this;n.refreshValidityState();const e=n.isFull(),i=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);const s=n.wrapper.classList;s.toggle("focus",n.isFocused),s.toggle("disabled",n.isDisabled),s.toggle("readonly",n.isReadOnly),s.toggle("required",n.isRequired),s.toggle("invalid",!n.isValid),s.toggle("locked",i),s.toggle("full",e),s.toggle("input-active",n.isFocused&&!n.isInputHidden),s.toggle("dropdown-active",n.isOpen),s.toggle("has-options",Wf(n.options)),s.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){const e=this;var i,s;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let r=function(u,f,v){return u||(u=Le('<option value="'+ci(f)+'">'+ci(v)+"</option>")),u!=o&&e.input.append(u),a.push(u),(u!=o||c>0)&&(u.selected=!0),u};const a=[],c=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(u=>{u.selected=!1}),e.items.length==0&&e.settings.mode=="single"?r(o,"",""):e.items.forEach(u=>{if(i=e.options[u],s=i[e.settings.labelField]||"",a.includes(i.$option)){const f=e.input.querySelector(`option[value="${gr(u)}"]:not(:checked)`);r(f,u,s)}else i.$option=r(i.$option,u,s)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,Y(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),en(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),en(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,i=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,Y(e.focus_node,{"aria-expanded":"false"}),en(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),i=n.offsetHeight+e.top+window.scrollY,s=e.left+window.scrollX;en(this.dropdown,{width:e.width+"px",top:i+"px",left:s+"px"})}}clear(n){var e=this;if(e.items.length){var i=e.controlChildren();ne(i,s=>{e.removeItem(s,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){const e=this,i=e.caretPos,s=e.control;s.insertBefore(n,s.children[i]||null),e.setCaret(i+1)}deleteSelection(n){var e,i,s,o,r=this;e=n&&n.keyCode===br?-1:1,i=Kf(r.control_input);const a=[];if(r.activeItems.length)o=mr(r.activeItems,e),s=vr(o),e>0&&s++,ne(r.activeItems,c=>a.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let u;e<0&&i.start===0&&i.length===0?u=c[r.caretPos-1]:e>0&&i.start===r.inputValue().length&&(u=c[r.caretPos]),u!==void 0&&a.push(u)}if(!r.shouldDelete(a,n))return!1;for(X(n,!0),typeof s<"u"&&r.setCaret(s);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(n,e){const i=n.map(s=>s.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(n,e){var i,s,o=this;o.rtl&&(n*=-1),!o.inputValue().length&&(Ke(tn,e)||Ke("shiftKey",e)?(i=o.getLastActive(n),i?i.classList.contains("active")?s=o.getAdjacent(i,n,"item"):s=i:n>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(s))):o.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return mr(i,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,He(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var i,s;const o=this;if(typeof this.settings.render[n]!="function"||(s=o.settings.render[n].call(this,e,ci),!s))return null;if(s=Le(s),n==="option"||n==="option_create"?e[o.settings.disabledField]?Y(s,{"aria-disabled":"true"}):Y(s,{"data-selectable":""}):n==="optgroup"&&(i=e.group[o.settings.optgroupValueField],Y(s,{"data-group":i}),e.group[o.settings.disabledField]&&Y(s,{"data-disabled":""})),n==="option"||n==="item"){const r=pn(e[o.settings.valueField]);Y(s,{"data-value":r}),n==="item"?(pe(s,o.settings.itemClass),Y(s,{"data-ts-item":""})):(pe(s,o.settings.optionClass),Y(s,{role:"option",id:e.$id}),e.$div=s,o.options[r]=e)}return s}_render(n,e){const i=this.render(n,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){ne(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){const e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,i){var s=this,o=s[e];s[e]=function(){var r,a;return n==="after"&&(r=o.apply(s,arguments)),a=i.apply(s,arguments),n==="instead"?a:(n==="before"&&(r=o.apply(s,arguments)),r)}}}const oh=(t,n,e,i)=>{t.addEventListener(n,e,i)};function ah(){oh(this.input,"change",()=>{this.sync()})}const lh=t=>typeof t>"u"||t===null?null:ch(t),ch=t=>typeof t=="boolean"?t?"1":"0":t+"",Cr=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},uh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(dh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},dh=t=>typeof t=="string"&&t.indexOf("<")>-1;function fh(t){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(r,a){a?(r.checked=!0,i.uncheckedClassNames&&r.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&r.classList.add(...i.checkedClassNames)):(r.checked=!1,i.checkedClassNames&&r.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&r.classList.add(...i.uncheckedClassNames))},o=function(r){setTimeout(()=>{var a=r.querySelector("input."+i.className);a instanceof HTMLInputElement&&s(a,r.classList.contains("selected"))},1)};n.hook("after","setupTemplates",()=>{var r=n.settings.render.option;n.settings.render.option=(a,c)=>{var u=uh(r.call(n,a,c)),f=document.createElement("input");i.className&&f.classList.add(i.className),f.addEventListener("click",function(y){Cr(y)}),f.type="checkbox";const v=lh(a[n.settings.valueField]);return s(f,!!(v&&n.items.indexOf(v)>-1)),u.prepend(f),u}}),n.on("item_remove",r=>{var a=n.getOption(r);a&&(a.classList.remove("selected"),o(a))}),n.on("item_add",r=>{var a=n.getOption(r);a&&o(a)}),n.hook("instead","onOptionSelect",(r,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),n.removeItem(a.dataset.value),n.refreshOptions(),Cr(r,!0);return}e.call(n,r,a),o(a)})}const hh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(ph(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},ph=t=>typeof t=="string"&&t.indexOf("<")>-1;function gh(t){const n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},t);n.on("initialize",()=>{var i=hh(e.html(e));i.addEventListener("click",s=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),s.preventDefault(),s.stopPropagation())}),n.control.appendChild(i)})}const mh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},lt=(t,n,e,i)=>{t.addEventListener(n,e,i)},vh=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},bh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(yh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},yh=t=>typeof t=="string"&&t.indexOf("<")>-1,wh=(t,n)=>{vh(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},_h=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t.nextSibling)},Oh=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t)},Ch=(t,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,t==n)return!0}while(n&&n.previousElementSibling);return!1};function xh(){var t=this;if(t.settings.mode!=="multi")return;var n=t.lock,e=t.unlock;let i=!0,s;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(r,a)=>{const c=bh(o.call(t,r,a));wh(c,{draggable:"true"});const u=_=>{i||mh(_),_.stopPropagation()},f=_=>{s=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=_=>{_.preventDefault(),c.classList.add("ts-drag-over"),A(c,s)},y=()=>{c.classList.remove("ts-drag-over")},A=(_,l)=>{l!==void 0&&(Ch(l,c)?_h(_,l):Oh(_,l))},b=()=>{var _;document.querySelectorAll(".ts-drag-over").forEach(d=>d.classList.remove("ts-drag-over")),(_=s)==null||_.classList.remove("ts-dragging"),s=void 0;var l=[];t.control.querySelectorAll("[data-value]").forEach(d=>{if(d.dataset.value){let h=d.dataset.value;h&&l.push(h)}}),t.setValue(l)};return lt(c,"mousedown",u),lt(c,"dragstart",f),lt(c,"dragenter",v),lt(c,"dragover",v),lt(c,"dragleave",y),lt(c,"dragend",b),c}}),t.hook("instead","lock",()=>(i=!1,n.call(t))),t.hook("instead","unlock",()=>(i=!0,e.call(t)))}const Sh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Eh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ah(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Ah=t=>typeof t=="string"&&t.indexOf("<")>-1;function Dh(t){const n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},t);n.on("initialize",()=>{var i=Eh(e.html(e)),s=i.querySelector("."+e.closeClass);s&&s.addEventListener("click",o=>{Sh(o,!0),n.close()}),n.dropdown.insertBefore(i,n.dropdown.firstChild)})}const Th=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Lh=(t,...n)=>{var e=kh(n);t=Mh(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},kh=t=>{var n=[];return Th(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Mh=t=>(Array.isArray(t)||(t=[t]),t),Ih=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Fh(){var t=this;t.hook("instead","setCaret",n=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?n=t.items.length:(n=Math.max(0,Math.min(t.items.length,n)),n!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((e,i)=>{i<n?t.control_input.insertAdjacentElement("beforebegin",e):t.control.appendChild(e)})),t.caretPos=n}),t.hook("instead","moveCaret",n=>{if(!t.isFocused)return;const e=t.getLastActive(n);if(e){const i=Ih(e);t.setCaret(n>0?i+1:i),t.setActiveItem(),Lh(e,"last-active")}else t.setCaret(t.caretPos+n)})}const Ph=27,Nh=9,Rh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},$h=(t,n,e,i)=>{t.addEventListener(n,e,i)},Hh=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},xr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(jh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},jh=t=>typeof t=="string"&&t.indexOf("<")>-1,Bh=(t,...n)=>{var e=qh(n);t=Vh(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},qh=t=>{var n=[];return Hh(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Vh=t=>(Array.isArray(t)||(t=[t]),t);function Uh(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,Bh(t.control_input,"dropdown-input");const n=xr('<div class="dropdown-input-wrap">');n.append(t.control_input),t.dropdown.insertBefore(n,t.dropdown.firstChild);const e=xr('<input class="items-placeholder" tabindex="-1" />');e.placeholder=t.settings.placeholder||"",t.control.append(e)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case Ph:t.isOpen&&(Rh(e,!0),t.close()),t.clearActiveItems();return;case Nh:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,e)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const n=t.onBlur;t.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==t.control_input))return n.call(t)}),$h(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const nn=(t,n,e,i)=>{t.addEventListener(n,e,i)};function zh(){var t=this;t.on("initialize",()=>{var n=document.createElement("span"),e=t.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(n);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of i)n.style[o]=e.style[o];var s=()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"};s(),t.on("update item_add item_remove",s),nn(e,"input",s),nn(e,"keyup",s),nn(e,"blur",s),nn(e,"update",s)})}function Kh(){var t=this,n=t.deleteSelection;this.hook("instead","deleteSelection",e=>t.activeItems.length?n.call(t,e):!1)}function Yh(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Sr=37,Wh=39,Jh=(t,n,e)=>{for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Gh=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Qh(){var t=this,n=t.onKeyDown;t.hook("instead","onKeyDown",e=>{var i,s,o,r;if(!t.isOpen||!(e.keyCode===Sr||e.keyCode===Wh))return n.call(t,e);t.ignoreHover=!0,r=Jh(t.activeOption,"[data-group]"),i=Gh(t.activeOption,"[data-selectable]"),r&&(e.keyCode===Sr?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,i)],s&&t.setActiveOption(s)))})}const Xh=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Er=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Ar=(t,n,e,i)=>{t.addEventListener(n,e,i)},Dr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Zh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Zh=t=>typeof t=="string"&&t.indexOf("<")>-1;function ep(t){const n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var e=this;if(n.append){var i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+Xh(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var s=e.settings.render.item;e.settings.render.item=(o,r)=>{var a=Dr(s.call(e,o,r)),c=Dr(i);return a.appendChild(c),Ar(c,"mousedown",u=>{Er(u,!0)}),Ar(c,"click",u=>{e.isLocked||(Er(u,!0),!e.isLocked&&e.shouldDelete([a],u)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function tp(t){const n=this,e=Object.assign({text:i=>i[n.settings.labelField]},t);n.on("item_remove",function(i){if(n.isFocused&&n.control_input.value.trim()===""){var s=n.options[i];s&&n.setTextboxValue(e.text.call(n,s))}})}const np=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},ip=(t,...n)=>{var e=sp(n);t=rp(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},sp=t=>{var n=[];return np(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},rp=t=>(Array.isArray(t)||(t=[t]),t);function op(){const t=this,n=t.canLoad,e=t.clearActiveOption,i=t.loadCallback;var s={},o,r=!1,a,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var v=t.selectable(),y=Array.from(v).indexOf(t.activeOption);if(y>=v.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const u=v=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(v in s&&s[v]),f=(v,y)=>t.items.indexOf(y)>=0||c.indexOf(y)>=0;t.setNextUrl=(v,y)=>{s[v]=y},t.getUrl=v=>{if(v in s){const y=s[v];return s[v]=!1,y}return t.clearPagination(),t.settings.firstUrl.call(t,v)},t.clearPagination=()=>{s={}},t.hook("instead","clearActiveOption",()=>{if(!r)return e.call(t)}),t.hook("instead","canLoad",v=>v in s?u(v):n.call(t,v)),t.hook("instead","loadCallback",(v,y)=>{if(!r)t.clearOptions(f);else if(a){const A=v[0];A!==void 0&&(a.dataset.value=A[t.settings.valueField])}i.call(t,v,y),r=!1}),t.hook("after","refreshOptions",()=>{const v=t.lastValue;var y;u(v)?(y=t.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),a=y)):v in s&&!o.querySelector(".no-results")&&(y=t.render("no_more_results",{query:v})),y&&(ip(y,t.settings.optionClass),o.append(y))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&u(t.lastValue)&&(r||(r=!0,t.load.call(t,t.lastValue)))})})}ce.define("change_listener",ah);ce.define("checkbox_options",fh);ce.define("clear_button",gh);ce.define("drag_drop",xh);ce.define("dropdown_header",Dh);ce.define("caret_position",Fh);ce.define("dropdown_input",Uh);ce.define("input_autogrow",zh);ce.define("no_backspace_delete",Kh);ce.define("no_active_items",Yh);ce.define("optgroup_columns",Qh);ce.define("remove_button",ep);ce.define("restore_on_backspace",tp);ce.define("virtual_scroll",op);const ap=t=>({init(){const n=this.$refs[`select_picker_${t.dataField}_${t.tableName}`],e={items:t.initialValues,...t.framework,onChange:o=>{Ma(t,o)},onInitialize:()=>{t.appliedFilters&&t.dataField&&this.applyFilterForDataField(t.appliedFilters,t.dataField,n),window.addEventListener(`pg:clear_multi_select::${t.tableName}:${t.dataField}`,()=>{n&&n.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${t.tableName}`,()=>{n&&n.tomselect.clear(!0)})}},i={valueField:t.optionValue,labelField:t.optionLabel,searchField:t.optionLabel,load:async function(o,r){function a(c,u){var f;const{method:v,url:y}=c,A=new Request(y,{method:v,body:v.toLowerCase()==="post"?JSON.stringify({search:u,...s}):void 0});A.headers.set("Content-Type","application/json"),A.headers.set("Accept","application/json"),A.headers.set("X-Requested-With","XMLHttpRequest");const b=(f=document.head.querySelector('[name="csrf-token"]'))==null?void 0:f.getAttribute("content");return b&&A.headers.set("X-CSRF-TOKEN",b),A}fetch(a(t.asyncData,o)).then(c=>c.json()).then(c=>{r(c)}).catch(()=>{r()})},render:{option:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[t.optionLabel])}</span></div>`},item:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[t.optionLabel])}</span></div>`}}};let s=e;t.hasOwnProperty("asyncData")&&(s=Object.assign(e,i)),new ce(n,s)},applyFilterForDataField(n,e,i){const s=e.split(".");let o=n;for(const r of s)if(o&&typeof o=="object"&&o.hasOwnProperty(r))o=o[r];else return;Array.isArray(o)&&o.length>0&&i.tomselect.addItems(o)}}),lp=t=>({initialValues:t.initialValues,framework:t.framework,init(){const n=this.$refs["select_picker_"+t.dataField+"_"+t.tableName],e=this.deepCopy(this.framework);new window.SlimSelect({select:n,...e,events:{afterChange:i=>{let s=i.map(o=>o.value);Ma(t,s)}}}),t.appliedFilters&&t.dataField&&this.applyFilterForDataField(t.appliedFilters,t.dataField,n),window.addEventListener("pg:clear_multi_select::"+t.tableName+":"+t.dataField,()=>{n.slim.setSelected([],!1)}),window.addEventListener("pg:clear_all_multi_select::"+t.tableName,()=>{n.slim.setSelected([],!1)})},applyFilterForDataField(n,e,i){const s=e.split(".");let o=n;for(const r of s)if(o&&typeof o=="object"&&o.hasOwnProperty(r))o=o[r];else return;Array.isArray(o)&&o.length>0&&i.slim.setSelected(o,!1)},deepCopy(n){if(n===null||typeof n!="object")return n;if(Array.isArray(n))return n.map(this.deepCopy);const e={};for(const i in n)n.hasOwnProperty(i)&&(e[i]=this.deepCopy(n[i]));return e}}),cp=()=>({init(){Livewire.on("pg:scrollTop",t=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(t=>{t[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),up=t=>({rowId:(t==null?void 0:t.rowId)??null,parentId:(t==null?void 0:t.parentId)??null,toHtml(){let n=null;const e=this.parentId??this.$wire.id;if(this.rowId){const s=window[`pgActions_${e}`];s&&s[this.rowId]!==void 0&&(n=s[this.rowId])}else n=window[`pgActionsHeader_${e}`];if(typeof n!="object"||n===null)return"";let i="";return n.forEach(s=>{let o=this.shouldHideAction(s),r=this.getReplaceHtml(s);if(!o)if(r)i+=r;else{let a=this.buildAttributesString(s);if(s.icon){let c=this.processIcon(s);if(!c)return;i+=this.buildActionHtmlWithIcon(s,a,c)}else i+=this.buildActionHtml(s,a)}}),i},shouldHideAction(n){if(n.can===!1)return!0;let e=!1;return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.action.includes(n.action)&&i.apply&&i.rule.hide&&(e=!0)}),e},getReplaceHtml(n){let e=null;return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.apply&&i.action.includes(n.action)&&i.replaceHtml&&(e=i.replaceHtml)}),e},buildAttributesString(n){let e=n.attributes??[];return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.apply&&i.action.includes(n.action)&&i.rule.setAttribute&&i.rule.setAttribute.length>0&&Object.values(i.rule.setAttribute).forEach(s=>{e[s.attribute]=s.value})}),Object.entries(e).map(([i,s])=>` ${i}="${s}"`).join("")},processIcon(n){const e=Object.entries(n.iconAttributes??[]).map(([s,o])=>` ${s}="${o}"`).join("");let i=window.pgResourceIcons[n.icon];return typeof i>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(i,e)},replaceIconAttributes(n,e){return n.replace(/<([^\s>]+)([^>]*)>/,(i,s,o)=>{let r=o.trim();const a=e.replace(/class="([^"]*)"/,(c,u)=>(r.includes("class=")?r=r.replace(/class="([^"]*)"/,(f,v)=>`class="${v} ${u.trim()}"`):r+=` ${c}`,""));return`<${s} ${r} ${a}>`})},buildActionHtmlWithIcon(n,e,i){return n.slot?`<${n.tag??"button"} ${e}>${i} ${n.slot}</${n.tag??"button"}>`:`<${n.tag??"button"} ${e}>${i}</${n.tag??"button"}>`},buildActionHtml(n,e){return`<${n.tag??"button"} ${e}>${n.slot}</${n.tag??"button"}>`}}),dp=t=>({templateContent:(t==null?void 0:t.templateContent)??null,rendered:null,parentId:(t==null?void 0:t.parentId)??null,init(){const n=Object.keys(this.templateContent)[0],e=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][n],i=this.templateContent[n];if(i){let s=e;for(const[o,r]of Object.entries(i)){const a=`{{ ${o} }}`,c=String(r).replace(/'/g,"\\'");s=s.replaceAll(a,c)}this.rendered=s}}}),fp=t=>({rowId:t.rowId,rules:t.rules,defaultClasses:t.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(n=>{(n.applyLoop||n.apply)&&n!=null&&n.attributes&&this.attributes.push(n.attributes)})},getAttributes(){let n={class:this.defaultClasses};return this.attributes.forEach(e=>{Object.keys(e).forEach(i=>{typeof e[i]=="object"?n[e[i].key]=e[i].value:n[i]+=n[i]?` ${e[i]}`:e[i]})}),n}});window.pgToggleable=uf;window.pgFlatpickr=ff;window.pgEditable=hf;window.pgResponsive=wf;window.pgTomSelect=ap;window.pgSlimSelect=lp;window.pgLoadMore=cp;window.pgRenderActions=up;window.pgRowAttributes=fp;window.pgRenderRowTemplate=dp;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:t,succeed:n,fail:e})=>{t.ephemeral.setUp&&t.ephemeral.setUp.hasOwnProperty("responsive")&&(n(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),e(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(t,{expression:n})=>{t.addEventListener("click",e=>{window.Livewire.find(n).set("multiSort",e.shiftKey)})})});var hi=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],dt={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var n=new Date(t.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Pt={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var n=t%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},de=function(t,n){return n===void 0&&(n=2),("000"+t).slice(n*-1)},be=function(t){return t===!0?1:0};function Tr(t,n){var e;return function(){var i=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return t.apply(i,s)},n)}}var pi=function(t){return t instanceof Array?t:[t]};function oe(t,n,e){if(e===!0)return t.classList.add(n);t.classList.remove(n)}function q(t,n,e){var i=window.document.createElement(t);return n=n||"",e=e||"",i.className=n,e!==void 0&&(i.textContent=e),i}function sn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ja(t,n){if(n(t))return t;if(t.parentNode)return ja(t.parentNode,n)}function rn(t,n){var e=q("div","numInputWrapper"),i=q("input","numInput "+t),s=q("span","arrowUp"),o=q("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),n!==void 0)for(var r in n)i.setAttribute(r,n[r]);return e.appendChild(i),e.appendChild(s),e.appendChild(o),e}function ge(t){try{if(typeof t.composedPath=="function"){var n=t.composedPath();return n[0]}return t.target}catch{return t.target}}var gi=function(){},Sn=function(t,n,e){return e.months[n?"shorthand":"longhand"][t]},hp={D:gi,F:function(t,n,e){t.setMonth(e.months.longhand.indexOf(n))},G:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},H:function(t,n){t.setHours(parseFloat(n))},J:function(t,n){t.setDate(parseFloat(n))},K:function(t,n,e){t.setHours(t.getHours()%12+12*be(new RegExp(e.amPM[1],"i").test(n)))},M:function(t,n,e){t.setMonth(e.months.shorthand.indexOf(n))},S:function(t,n){t.setSeconds(parseFloat(n))},U:function(t,n){return new Date(parseFloat(n)*1e3)},W:function(t,n,e){var i=parseInt(n),s=new Date(t.getFullYear(),0,2+(i-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(t,n){t.setFullYear(parseFloat(n))},Z:function(t,n){return new Date(n)},d:function(t,n){t.setDate(parseFloat(n))},h:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},i:function(t,n){t.setMinutes(parseFloat(n))},j:function(t,n){t.setDate(parseFloat(n))},l:gi,m:function(t,n){t.setMonth(parseFloat(n)-1)},n:function(t,n){t.setMonth(parseFloat(n)-1)},s:function(t,n){t.setSeconds(parseFloat(n))},u:function(t,n){return new Date(parseFloat(n))},w:gi,y:function(t,n){t.setFullYear(2e3+parseFloat(n))}},Qe={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},kt={Z:function(t){return t.toISOString()},D:function(t,n,e){return n.weekdays.shorthand[kt.w(t,n,e)]},F:function(t,n,e){return Sn(kt.n(t,n,e)-1,!1,n)},G:function(t,n,e){return de(kt.h(t,n,e))},H:function(t){return de(t.getHours())},J:function(t,n){return n.ordinal!==void 0?t.getDate()+n.ordinal(t.getDate()):t.getDate()},K:function(t,n){return n.amPM[be(t.getHours()>11)]},M:function(t,n){return Sn(t.getMonth(),!0,n)},S:function(t){return de(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,n,e){return e.getWeek(t)},Y:function(t){return de(t.getFullYear(),4)},d:function(t){return de(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return de(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,n){return n.weekdays.longhand[t.getDay()]},m:function(t){return de(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},Ba=function(t){var n=t.config,e=n===void 0?dt:n,i=t.l10n,s=i===void 0?Pt:i,o=t.isMobile,r=o===void 0?!1:o;return function(a,c,u){var f=u||s;return e.formatDate!==void 0&&!r?e.formatDate(a,c,f):c.split("").map(function(v,y,A){return kt[v]&&A[y-1]!=="\\"?kt[v](a,f,e):v!=="\\"?v:""}).join("")}},Qi=function(t){var n=t.config,e=n===void 0?dt:n,i=t.l10n,s=i===void 0?Pt:i;return function(o,r,a,c){if(!(o!==0&&!o)){var u=c||s,f,v=o;if(o instanceof Date)f=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)f=new Date(o);else if(typeof o=="string"){var y=r||(e||dt).dateFormat,A=String(o).trim();if(A==="today")f=new Date,a=!0;else if(e&&e.parseDate)f=e.parseDate(o,y);else if(/Z$/.test(A)||/GMT$/.test(A))f=new Date(o);else{for(var b=void 0,_=[],l=0,d=0,h="";l<y.length;l++){var g=y[l],O=g==="\\",L=y[l-1]==="\\"||O;if(Qe[g]&&!L){h+=Qe[g];var T=new RegExp(h).exec(o);T&&(b=!0)&&_[g!=="Y"?"push":"unshift"]({fn:hp[g],val:T[++d]})}else O||(h+=".")}f=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),_.forEach(function(C){var D=C.fn,E=C.val;return f=D(f,E,u)||f}),f=b?f:void 0}}if(!(f instanceof Date&&!isNaN(f.getTime()))){e.errorHandler(new Error("Invalid date provided: "+v));return}return a===!0&&f.setHours(0,0,0,0),f}}};function ve(t,n,e){return e===void 0&&(e=!0),e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):t.getTime()-n.getTime()}var pp=function(t,n,e){return t>Math.min(n,e)&&t<Math.max(n,e)},mi=function(t,n,e){return t*3600+n*60+e},gp=function(t){var n=Math.floor(t/3600),e=(t-n*3600)/60;return[n,e,t-n*3600-e*60]},mp={DAY:864e5};function vi(t){var n=t.defaultHour,e=t.defaultMinute,i=t.defaultSeconds;if(t.minDate!==void 0){var s=t.minDate.getHours(),o=t.minDate.getMinutes(),r=t.minDate.getSeconds();n<s&&(n=s),n===s&&e<o&&(e=o),n===s&&e===o&&i<r&&(i=t.minDate.getSeconds())}if(t.maxDate!==void 0){var a=t.maxDate.getHours(),c=t.maxDate.getMinutes();n=Math.min(n,a),n===a&&(e=Math.min(c,e)),n===a&&e===c&&(i=t.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var i=function(a){a&&Object.keys(a).forEach(function(c){return t[c]=a[c]})},s=0,o=n;s<o.length;s++){var r=o[s];i(r)}return t});var se=function(){return se=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},se.apply(this,arguments)},Lr=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var i=Array(t),s=0,n=0;n<e;n++)for(var o=arguments[n],r=0,a=o.length;r<a;r++,s++)i[s]=o[r];return i},vp=300;function bp(t,n){var e={config:se(se({},dt),te.defaultConfig),l10n:Pt};e.parseDate=Qi({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=_,e._setHoursFromDate=y,e._positionCalendar=zt,e.changeMonth=Un,e.changeYear=qt,e.clear=Qa,e.close=Xa,e.onMouseOver=Ut,e._createElement=q,e.createDay=T,e.destroy=Za,e.isEnabled=Ue,e.jumpToDate=h,e.updateValue=Ie,e.open=nl,e.redraw=Is,e.set=ol,e.setDate=al,e.toggle=dl;function i(){e.utils={getDaysInMonth:function(p,m){return p===void 0&&(p=e.currentMonth),m===void 0&&(m=e.currentYear),p===1&&(m%4===0&&m%100!==0||m%400===0)?29:e.l10n.daysInMonth[p]}}}function s(){e.element=e.input=t,e.isOpen=!1,il(),Ms(),cl(),ll(),i(),e.isMobile||L(),d(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&y(e.config.noCalendar?e.latestSelectedDateObj:void 0),Ie(!1)),a();var p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&p&&zt(),J("onReady")}function o(){var p;return((p=e.calendarContainer)===null||p===void 0?void 0:p.getRootNode()).activeElement||document.activeElement}function r(p){return p.bind(e)}function a(){var p=e.config;p.weekNumbers===!1&&p.showMonths===1||p.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var m=(e.days.offsetWidth+1)*p.showMonths;e.daysContainer.style.width=m+"px",e.calendarContainer.style.width=m+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function c(p){if(e.selectedDates.length===0){var m=e.config.minDate===void 0||ve(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),w=vi(e.config);m.setHours(w.hours,w.minutes,w.seconds,m.getMilliseconds()),e.selectedDates=[m],e.latestSelectedDateObj=m}p!==void 0&&p.type!=="blur"&&pl(p);var x=e._input.value;v(),Ie(),e._input.value!==x&&e._debouncedChange()}function u(p,m){return p%12+12*be(m===e.l10n.amPM[1])}function f(p){switch(p%24){case 0:case 12:return 12;default:return p%12}}function v(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var p=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,m=(parseInt(e.minuteElement.value,10)||0)%60,w=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(p=u(p,e.amPM.textContent));var x=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&ve(e.latestSelectedDateObj,e.config.minDate,!0)===0,k=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&ve(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var F=mi(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),j=mi(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),N=mi(p,m,w);if(N>j&&N<F){var B=gp(F);p=B[0],m=B[1],w=B[2]}}else{if(k){var P=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;p=Math.min(p,P.getHours()),p===P.getHours()&&(m=Math.min(m,P.getMinutes())),m===P.getMinutes()&&(w=Math.min(w,P.getSeconds()))}if(x){var R=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;p=Math.max(p,R.getHours()),p===R.getHours()&&m<R.getMinutes()&&(m=R.getMinutes()),m===R.getMinutes()&&(w=Math.max(w,R.getSeconds()))}}A(p,m,w)}}function y(p){var m=p||e.latestSelectedDateObj;m&&m instanceof Date&&A(m.getHours(),m.getMinutes(),m.getSeconds())}function A(p,m,w){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(p%24,m,w||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=de(e.config.time_24hr?p:(12+p)%12+12*be(p%12===0)),e.minuteElement.value=de(m),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[be(p>=12)]),e.secondElement!==void 0&&(e.secondElement.value=de(w)))}function b(p){var m=ge(p),w=parseInt(m.value)+(p.delta||0);(w/1e3>1||p.key==="Enter"&&!/[^\d]/.test(w.toString()))&&qt(w)}function _(p,m,w,x){if(m instanceof Array)return m.forEach(function(k){return _(p,k,w,x)});if(p instanceof Array)return p.forEach(function(k){return _(k,m,w,x)});p.addEventListener(m,w,x),e._handlers.push({remove:function(){return p.removeEventListener(m,w,x)}})}function l(){J("onChange")}function d(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(w){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+w+"]"),function(x){return _(x,"click",e[w])})}),e.isMobile){ul();return}var p=Tr(tl,50);if(e._debouncedChange=Tr(l,vp),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(e.daysContainer,"mouseover",function(w){e.config.mode==="range"&&Ut(ge(w))}),_(e._input,"keydown",Ts),e.calendarContainer!==void 0&&_(e.calendarContainer,"keydown",Ts),!e.config.inline&&!e.config.static&&_(window,"resize",p),window.ontouchstart!==void 0?_(window.document,"touchstart",zn):_(window.document,"mousedown",zn),_(window.document,"focus",zn,{capture:!0}),e.config.clickOpens===!0&&(_(e._input,"focus",e.open),_(e._input,"click",e.open)),e.daysContainer!==void 0&&(_(e.monthNav,"click",hl),_(e.monthNav,["keyup","increment"],b),_(e.daysContainer,"click",Fs)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var m=function(w){return ge(w).select()};_(e.timeContainer,["increment"],c),_(e.timeContainer,"blur",c,{capture:!0}),_(e.timeContainer,"click",g),_([e.hourElement,e.minuteElement],["focus","click"],m),e.secondElement!==void 0&&_(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&_(e.amPM,"click",function(w){c(w)})}e.config.allowInput&&_(e._input,"blur",el)}function h(p,m){var w=p!==void 0?e.parseDate(p):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),x=e.currentYear,k=e.currentMonth;try{w!==void 0&&(e.currentYear=w.getFullYear(),e.currentMonth=w.getMonth())}catch(F){F.message="Invalid date supplied: "+w,e.config.errorHandler(F)}m&&e.currentYear!==x&&(J("onYearChange"),K()),m&&(e.currentYear!==x||e.currentMonth!==k)&&J("onMonthChange"),e.redraw()}function g(p){var m=ge(p);~m.className.indexOf("arrow")&&O(p,m.classList.contains("arrowUp")?1:-1)}function O(p,m,w){var x=p&&ge(p),k=w||x&&x.parentNode&&x.parentNode.firstChild,F=Yn("increment");F.delta=m,k&&k.dispatchEvent(F)}function L(){var p=window.document.createDocumentFragment();if(e.calendarContainer=q("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(p.appendChild(Ne()),e.innerContainer=q("div","flatpickr-innerContainer"),e.config.weekNumbers){var m=Ga(),w=m.weekWrapper,x=m.weekNumbers;e.innerContainer.appendChild(w),e.weekNumbers=x,e.weekWrapper=w}e.rContainer=q("div","flatpickr-rContainer"),e.rContainer.appendChild(As()),e.daysContainer||(e.daysContainer=q("div","flatpickr-days"),e.daysContainer.tabIndex=-1),z(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),p.appendChild(e.innerContainer)}e.config.enableTime&&p.appendChild(Vn()),oe(e.calendarContainer,"rangeMode",e.config.mode==="range"),oe(e.calendarContainer,"animate",e.config.animate===!0),oe(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(p);var k=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!k&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var F=q("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(F,e.element),F.appendChild(e.element),e.altInput&&F.appendChild(e.altInput),F.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function T(p,m,w,x){var k=Ue(m,!0),F=q("span",p,m.getDate().toString());return F.dateObj=m,F.$i=x,F.setAttribute("aria-label",e.formatDate(m,e.config.ariaDateFormat)),p.indexOf("hidden")===-1&&ve(m,e.now)===0&&(e.todayDateElem=F,F.classList.add("today"),F.setAttribute("aria-current","date")),k?(F.tabIndex=-1,Wn(m)&&(F.classList.add("selected"),e.selectedDateElem=F,e.config.mode==="range"&&(oe(F,"startRange",e.selectedDates[0]&&ve(m,e.selectedDates[0],!0)===0),oe(F,"endRange",e.selectedDates[1]&&ve(m,e.selectedDates[1],!0)===0),p==="nextMonthDay"&&F.classList.add("inRange")))):F.classList.add("flatpickr-disabled"),e.config.mode==="range"&&fl(m)&&!Wn(m)&&F.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&p!=="prevMonthDay"&&x%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(m)+"</span>"),J("onDayCreate",F),F}function C(p){p.focus(),e.config.mode==="range"&&Ut(p)}function D(p){for(var m=p>0?0:e.config.showMonths-1,w=p>0?e.config.showMonths:-1,x=m;x!=w;x+=p)for(var k=e.daysContainer.children[x],F=p>0?0:k.children.length-1,j=p>0?k.children.length:-1,N=F;N!=j;N+=p){var B=k.children[N];if(B.className.indexOf("hidden")===-1&&Ue(B.dateObj))return B}}function E(p,m){for(var w=p.className.indexOf("Month")===-1?p.dateObj.getMonth():e.currentMonth,x=m>0?e.config.showMonths:-1,k=m>0?1:-1,F=w-e.currentMonth;F!=x;F+=k)for(var j=e.daysContainer.children[F],N=w-e.currentMonth===F?p.$i+m:m<0?j.children.length-1:0,B=j.children.length,P=N;P>=0&&P<B&&P!=(m>0?B:-1);P+=k){var R=j.children[P];if(R.className.indexOf("hidden")===-1&&Ue(R.dateObj)&&Math.abs(p.$i-P)>=Math.abs(m))return C(R)}e.changeMonth(k),I(D(k),0)}function I(p,m){var w=o(),x=Vt(w||document.body),k=p!==void 0?p:x?w:e.selectedDateElem!==void 0&&Vt(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Vt(e.todayDateElem)?e.todayDateElem:D(m>0?1:-1);k===void 0?e._input.focus():x?E(k,m):C(k)}function M(p,m){for(var w=(new Date(p,m,1).getDay()-e.l10n.firstDayOfWeek+7)%7,x=e.utils.getDaysInMonth((m-1+12)%12,p),k=e.utils.getDaysInMonth(m,p),F=window.document.createDocumentFragment(),j=e.config.showMonths>1,N=j?"prevMonthDay hidden":"prevMonthDay",B=j?"nextMonthDay hidden":"nextMonthDay",P=x+1-w,R=0;P<=x;P++,R++)F.appendChild(T("flatpickr-day "+N,new Date(p,m-1,P),P,R));for(P=1;P<=k;P++,R++)F.appendChild(T("flatpickr-day",new Date(p,m,P),P,R));for(var V=k+1;V<=42-w&&(e.config.showMonths===1||R%7!==0);V++,R++)F.appendChild(T("flatpickr-day "+B,new Date(p,m+1,V%k),V,R));var Te=q("div","dayContainer");return Te.appendChild(F),Te}function z(){if(e.daysContainer!==void 0){sn(e.daysContainer),e.weekNumbers&&sn(e.weekNumbers);for(var p=document.createDocumentFragment(),m=0;m<e.config.showMonths;m++){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),p.appendChild(M(w.getFullYear(),w.getMonth()))}e.daysContainer.appendChild(p),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Ut()}}function K(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var p=function(x){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&x<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&x>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var m=0;m<12;m++)if(p(m)){var w=q("option","flatpickr-monthDropdown-month");w.value=new Date(e.currentYear,m).getMonth().toString(),w.textContent=Sn(m,e.config.shorthandCurrentMonth,e.l10n),w.tabIndex=-1,e.currentMonth===m&&(w.selected=!0),e.monthsDropdownContainer.appendChild(w)}}}function Ae(){var p=q("div","flatpickr-month"),m=window.document.createDocumentFragment(),w;e.config.showMonths>1||e.config.monthSelectorType==="static"?w=q("span","cur-month"):(e.monthsDropdownContainer=q("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),_(e.monthsDropdownContainer,"change",function(j){var N=ge(j),B=parseInt(N.value,10);e.changeMonth(B-e.currentMonth),J("onMonthChange")}),K(),w=e.monthsDropdownContainer);var x=rn("cur-year",{tabindex:"-1"}),k=x.getElementsByTagName("input")[0];k.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&k.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(k.setAttribute("max",e.config.maxDate.getFullYear().toString()),k.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var F=q("div","flatpickr-current-month");return F.appendChild(w),F.appendChild(x),m.appendChild(F),p.appendChild(m),{container:p,yearElement:k,monthElement:w}}function De(){sn(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var p=e.config.showMonths;p--;){var m=Ae();e.yearElements.push(m.yearElement),e.monthElements.push(m.monthElement),e.monthNav.appendChild(m.container)}e.monthNav.appendChild(e.nextMonthNav)}function Ne(){return e.monthNav=q("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=q("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=q("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,De(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(p){e.__hidePrevMonthArrow!==p&&(oe(e.prevMonthNav,"flatpickr-disabled",p),e.__hidePrevMonthArrow=p)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(p){e.__hideNextMonthArrow!==p&&(oe(e.nextMonthNav,"flatpickr-disabled",p),e.__hideNextMonthArrow=p)}}),e.currentYearElement=e.yearElements[0],Yt(),e.monthNav}function Vn(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var p=vi(e.config);e.timeContainer=q("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var m=q("span","flatpickr-time-separator",":"),w=rn("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=w.getElementsByTagName("input")[0];var x=rn("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=x.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=de(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?p.hours:f(p.hours)),e.minuteElement.value=de(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():p.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(w),e.timeContainer.appendChild(m),e.timeContainer.appendChild(x),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var k=rn("flatpickr-second");e.secondElement=k.getElementsByTagName("input")[0],e.secondElement.value=de(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():p.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(q("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(k)}return e.config.time_24hr||(e.amPM=q("span","flatpickr-am-pm",e.l10n.amPM[be((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function As(){e.weekdayContainer?sn(e.weekdayContainer):e.weekdayContainer=q("div","flatpickr-weekdays");for(var p=e.config.showMonths;p--;){var m=q("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(m)}return Ds(),e.weekdayContainer}function Ds(){if(e.weekdayContainer){var p=e.l10n.firstDayOfWeek,m=Lr(e.l10n.weekdays.shorthand);p>0&&p<m.length&&(m=Lr(m.splice(p,m.length),m.splice(0,p)));for(var w=e.config.showMonths;w--;)e.weekdayContainer.children[w].innerHTML=`
      <span class='flatpickr-weekday'>
        `+m.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ga(){e.calendarContainer.classList.add("hasWeeks");var p=q("div","flatpickr-weekwrapper");p.appendChild(q("span","flatpickr-weekday",e.l10n.weekAbbreviation));var m=q("div","flatpickr-weeks");return p.appendChild(m),{weekWrapper:p,weekNumbers:m}}function Un(p,m){m===void 0&&(m=!0);var w=m?p:p-e.currentMonth;w<0&&e._hidePrevMonthArrow===!0||w>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=w,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,J("onYearChange"),K()),z(),J("onMonthChange"),Yt())}function Qa(p,m){if(p===void 0&&(p=!0),m===void 0&&(m=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,m===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var w=vi(e.config),x=w.hours,k=w.minutes,F=w.seconds;A(x,k,F)}e.redraw(),p&&J("onChange")}function Xa(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),J("onClose")}function Za(){e.config!==void 0&&J("onDestroy");for(var p=e._handlers.length;p--;)e._handlers[p].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var m=e.calendarContainer.parentNode;if(m.lastChild&&m.removeChild(m.lastChild),m.parentNode){for(;m.firstChild;)m.parentNode.insertBefore(m.firstChild,m);m.parentNode.removeChild(m)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(w){try{delete e[w]}catch{}})}function Ot(p){return e.calendarContainer.contains(p)}function zn(p){if(e.isOpen&&!e.config.inline){var m=ge(p),w=Ot(m),x=m===e.input||m===e.altInput||e.element.contains(m)||p.path&&p.path.indexOf&&(~p.path.indexOf(e.input)||~p.path.indexOf(e.altInput)),k=!x&&!w&&!Ot(p.relatedTarget),F=!e.config.ignoredFocusElements.some(function(j){return j.contains(m)});k&&F&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&c(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function qt(p){if(!(!p||e.config.minDate&&p<e.config.minDate.getFullYear()||e.config.maxDate&&p>e.config.maxDate.getFullYear())){var m=p,w=e.currentYear!==m;e.currentYear=m||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),w&&(e.redraw(),J("onYearChange"),K())}}function Ue(p,m){var w;m===void 0&&(m=!0);var x=e.parseDate(p,void 0,m);if(e.config.minDate&&x&&ve(x,e.config.minDate,m!==void 0?m:!e.minDateHasTime)<0||e.config.maxDate&&x&&ve(x,e.config.maxDate,m!==void 0?m:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(x===void 0)return!1;for(var k=!!e.config.enable,F=(w=e.config.enable)!==null&&w!==void 0?w:e.config.disable,j=0,N=void 0;j<F.length;j++){if(N=F[j],typeof N=="function"&&N(x))return k;if(N instanceof Date&&x!==void 0&&N.getTime()===x.getTime())return k;if(typeof N=="string"){var B=e.parseDate(N,void 0,!0);return B&&B.getTime()===x.getTime()?k:!k}else if(typeof N=="object"&&x!==void 0&&N.from&&N.to&&x.getTime()>=N.from.getTime()&&x.getTime()<=N.to.getTime())return k}return!k}function Vt(p){return e.daysContainer!==void 0?p.className.indexOf("hidden")===-1&&p.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(p):!1}function el(p){var m=p.target===e._input,w=e._input.value.trimEnd()!==Jn();m&&w&&!(p.relatedTarget&&Ot(p.relatedTarget))&&e.setDate(e._input.value,!0,p.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function Ts(p){var m=ge(p),w=e.config.wrap?t.contains(m):m===e._input,x=e.config.allowInput,k=e.isOpen&&(!x||!w),F=e.config.inline&&w&&!x;if(p.keyCode===13&&w){if(x)return e.setDate(e._input.value,!0,m===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),m.blur();e.open()}else if(Ot(m)||k||F){var j=!!e.timeContainer&&e.timeContainer.contains(m);switch(p.keyCode){case 13:j?(p.preventDefault(),c(),Kn()):Fs(p);break;case 27:p.preventDefault(),Kn();break;case 8:case 46:w&&!e.config.allowInput&&(p.preventDefault(),e.clear());break;case 37:case 39:if(!j&&!w){p.preventDefault();var N=o();if(e.daysContainer!==void 0&&(x===!1||N&&Vt(N))){var B=p.keyCode===39?1:-1;p.ctrlKey?(p.stopPropagation(),Un(B),I(D(1),0)):I(void 0,B)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:p.preventDefault();var P=p.keyCode===40?1:-1;e.daysContainer&&m.$i!==void 0||m===e.input||m===e.altInput?p.ctrlKey?(p.stopPropagation(),qt(e.currentYear-P),I(D(1),0)):j||I(void 0,P*7):m===e.currentYearElement?qt(e.currentYear-P):e.config.enableTime&&(!j&&e.hourElement&&e.hourElement.focus(),c(p),e._debouncedChange());break;case 9:if(j){var R=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(he){return he}),V=R.indexOf(m);if(V!==-1){var Te=R[V+(p.shiftKey?-1:1)];p.preventDefault(),(Te||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(m)&&p.shiftKey&&(p.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&m===e.amPM)switch(p.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],v(),Ie();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],v(),Ie();break}(w||Ot(m))&&J("onKeyDown",p)}function Ut(p,m){if(m===void 0&&(m="flatpickr-day"),!(e.selectedDates.length!==1||p&&(!p.classList.contains(m)||p.classList.contains("flatpickr-disabled")))){for(var w=p?p.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),x=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),k=Math.min(w,e.selectedDates[0].getTime()),F=Math.max(w,e.selectedDates[0].getTime()),j=!1,N=0,B=0,P=k;P<F;P+=mp.DAY)Ue(new Date(P),!0)||(j=j||P>k&&P<F,P<x&&(!N||P>N)?N=P:P>x&&(!B||P<B)&&(B=P));var R=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+m));R.forEach(function(V){var Te=V.dateObj,he=Te.getTime(),Ct=N>0&&he<N||B>0&&he>B;if(Ct){V.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(at){V.classList.remove(at)});return}else if(j&&!Ct)return;["startRange","inRange","endRange","notAllowed"].forEach(function(at){V.classList.remove(at)}),p!==void 0&&(p.classList.add(w<=e.selectedDates[0].getTime()?"startRange":"endRange"),x<w&&he===x?V.classList.add("startRange"):x>w&&he===x&&V.classList.add("endRange"),he>=N&&(B===0||he<=B)&&pp(he,x,w)&&V.classList.add("inRange"))})}}function tl(){e.isOpen&&!e.config.static&&!e.config.inline&&zt()}function nl(p,m){if(m===void 0&&(m=e._positionElement),e.isMobile===!0){if(p){p.preventDefault();var w=ge(p);w&&w.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),J("onOpen");return}else if(e._input.disabled||e.config.inline)return;var x=e.isOpen;e.isOpen=!0,x||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),J("onOpen"),zt(m)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(p===void 0||!e.timeContainer.contains(p.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Ls(p){return function(m){var w=e.config["_"+p+"Date"]=e.parseDate(m,e.config.dateFormat),x=e.config["_"+(p==="min"?"max":"min")+"Date"];w!==void 0&&(e[p==="min"?"minDateHasTime":"maxDateHasTime"]=w.getHours()>0||w.getMinutes()>0||w.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(k){return Ue(k)}),!e.selectedDates.length&&p==="min"&&y(w),Ie()),e.daysContainer&&(Is(),w!==void 0?e.currentYearElement[p]=w.getFullYear().toString():e.currentYearElement.removeAttribute(p),e.currentYearElement.disabled=!!x&&w!==void 0&&x.getFullYear()===w.getFullYear())}}function il(){var p=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],m=se(se({},JSON.parse(JSON.stringify(t.dataset||{}))),n),w={};e.config.parseDate=m.parseDate,e.config.formatDate=m.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(R){e.config._enable=Ns(R)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(R){e.config._disable=Ns(R)}});var x=m.mode==="time";if(!m.dateFormat&&(m.enableTime||x)){var k=te.defaultConfig.dateFormat||dt.dateFormat;w.dateFormat=m.noCalendar||x?"H:i"+(m.enableSeconds?":S":""):k+" H:i"+(m.enableSeconds?":S":"")}if(m.altInput&&(m.enableTime||x)&&!m.altFormat){var F=te.defaultConfig.altFormat||dt.altFormat;w.altFormat=m.noCalendar||x?"h:i"+(m.enableSeconds?":S K":" K"):F+(" h:i"+(m.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Ls("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Ls("max")});var j=function(R){return function(V){e.config[R==="min"?"_minTime":"_maxTime"]=e.parseDate(V,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:j("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:j("max")}),m.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,w,m);for(var N=0;N<p.length;N++)e.config[p[N]]=e.config[p[N]]===!0||e.config[p[N]]==="true";hi.filter(function(R){return e.config[R]!==void 0}).forEach(function(R){e.config[R]=pi(e.config[R]||[]).map(r)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var N=0;N<e.config.plugins.length;N++){var B=e.config.plugins[N](e)||{};for(var P in B)hi.indexOf(P)>-1?e.config[P]=pi(B[P]).map(r).concat(e.config[P]):typeof m[P]>"u"&&(e.config[P]=B[P])}m.altInputClass||(e.config.altInputClass=ks().className+" "+e.config.altInputClass),J("onParseConfig")}function ks(){return e.config.wrap?t.querySelector("[data-input]"):t}function Ms(){typeof e.config.locale!="object"&&typeof te.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=se(se({},te.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?te.l10ns[e.config.locale]:void 0),Qe.D="("+e.l10n.weekdays.shorthand.join("|")+")",Qe.l="("+e.l10n.weekdays.longhand.join("|")+")",Qe.M="("+e.l10n.months.shorthand.join("|")+")",Qe.F="("+e.l10n.months.longhand.join("|")+")",Qe.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var p=se(se({},n),JSON.parse(JSON.stringify(t.dataset||{})));p.time_24hr===void 0&&te.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=Ba(e),e.parseDate=Qi({config:e.config,l10n:e.l10n})}function zt(p){if(typeof e.config.position=="function")return void e.config.position(e,p);if(e.calendarContainer!==void 0){J("onPreCalendarPosition");var m=p||e._positionElement,w=Array.prototype.reduce.call(e.calendarContainer.children,function(Ol,Cl){return Ol+Cl.offsetHeight},0),x=e.calendarContainer.offsetWidth,k=e.config.position.split(" "),F=k[0],j=k.length>1?k[1]:null,N=m.getBoundingClientRect(),B=window.innerHeight-N.bottom,P=F==="above"||F!=="below"&&B<w&&N.top>w,R=window.pageYOffset+N.top+(P?-w-2:m.offsetHeight+2);if(oe(e.calendarContainer,"arrowTop",!P),oe(e.calendarContainer,"arrowBottom",P),!e.config.inline){var V=window.pageXOffset+N.left,Te=!1,he=!1;j==="center"?(V-=(x-N.width)/2,Te=!0):j==="right"&&(V-=x-N.width,he=!0),oe(e.calendarContainer,"arrowLeft",!Te&&!he),oe(e.calendarContainer,"arrowCenter",Te),oe(e.calendarContainer,"arrowRight",he);var Ct=window.document.body.offsetWidth-(window.pageXOffset+N.right),at=V+x>window.document.body.offsetWidth,gl=Ct+x>window.document.body.offsetWidth;if(oe(e.calendarContainer,"rightMost",at),!e.config.static)if(e.calendarContainer.style.top=R+"px",!at)e.calendarContainer.style.left=V+"px",e.calendarContainer.style.right="auto";else if(!gl)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=Ct+"px";else{var Gn=sl();if(Gn===void 0)return;var ml=window.document.body.offsetWidth,vl=Math.max(0,ml/2-x/2),bl=".flatpickr-calendar.centerMost:before",yl=".flatpickr-calendar.centerMost:after",wl=Gn.cssRules.length,_l="{left:"+N.left+"px;right:auto;}";oe(e.calendarContainer,"rightMost",!1),oe(e.calendarContainer,"centerMost",!0),Gn.insertRule(bl+","+yl+_l,wl),e.calendarContainer.style.left=vl+"px",e.calendarContainer.style.right="auto"}}}}function sl(){for(var p=null,m=0;m<document.styleSheets.length;m++){var w=document.styleSheets[m];if(w.cssRules){try{w.cssRules}catch{continue}p=w;break}}return p??rl()}function rl(){var p=document.createElement("style");return document.head.appendChild(p),p.sheet}function Is(){e.config.noCalendar||e.isMobile||(K(),Yt(),z())}function Kn(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Fs(p){p.preventDefault(),p.stopPropagation();var m=function(R){return R.classList&&R.classList.contains("flatpickr-day")&&!R.classList.contains("flatpickr-disabled")&&!R.classList.contains("notAllowed")},w=ja(ge(p),m);if(w!==void 0){var x=w,k=e.latestSelectedDateObj=new Date(x.dateObj.getTime()),F=(k.getMonth()<e.currentMonth||k.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=x,e.config.mode==="single")e.selectedDates=[k];else if(e.config.mode==="multiple"){var j=Wn(k);j?e.selectedDates.splice(parseInt(j),1):e.selectedDates.push(k)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=k,e.selectedDates.push(k),ve(k,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(R,V){return R.getTime()-V.getTime()}));if(v(),F){var N=e.currentYear!==k.getFullYear();e.currentYear=k.getFullYear(),e.currentMonth=k.getMonth(),N&&(J("onYearChange"),K()),J("onMonthChange")}if(Yt(),z(),Ie(),!F&&e.config.mode!=="range"&&e.config.showMonths===1?C(x):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var B=e.config.mode==="single"&&!e.config.enableTime,P=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(B||P)&&Kn()}l()}}var Kt={locale:[Ms,Ds],showMonths:[De,a,As],minDate:[h],maxDate:[h],positionElement:[Rs],clickOpens:[function(){e.config.clickOpens===!0?(_(e._input,"focus",e.open),_(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function ol(p,m){if(p!==null&&typeof p=="object"){Object.assign(e.config,p);for(var w in p)Kt[w]!==void 0&&Kt[w].forEach(function(x){return x()})}else e.config[p]=m,Kt[p]!==void 0?Kt[p].forEach(function(x){return x()}):hi.indexOf(p)>-1&&(e.config[p]=pi(m));e.redraw(),Ie(!0)}function Ps(p,m){var w=[];if(p instanceof Array)w=p.map(function(x){return e.parseDate(x,m)});else if(p instanceof Date||typeof p=="number")w=[e.parseDate(p,m)];else if(typeof p=="string")switch(e.config.mode){case"single":case"time":w=[e.parseDate(p,m)];break;case"multiple":w=p.split(e.config.conjunction).map(function(x){return e.parseDate(x,m)});break;case"range":w=p.split(e.l10n.rangeSeparator).map(function(x){return e.parseDate(x,m)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(p)));e.selectedDates=e.config.allowInvalidPreload?w:w.filter(function(x){return x instanceof Date&&Ue(x,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(x,k){return x.getTime()-k.getTime()})}function al(p,m,w){if(m===void 0&&(m=!1),w===void 0&&(w=e.config.dateFormat),p!==0&&!p||p instanceof Array&&p.length===0)return e.clear(m);Ps(p,w),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),h(void 0,m),y(),e.selectedDates.length===0&&e.clear(!1),Ie(m),m&&J("onChange")}function Ns(p){return p.slice().map(function(m){return typeof m=="string"||typeof m=="number"||m instanceof Date?e.parseDate(m,void 0,!0):m&&typeof m=="object"&&m.from&&m.to?{from:e.parseDate(m.from,void 0),to:e.parseDate(m.to,void 0)}:m}).filter(function(m){return m})}function ll(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var p=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);p&&Ps(p,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function cl(){if(e.input=ks(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=q(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Rs()}function Rs(){e._positionElement=e.config.positionElement||e._input}function ul(){var p=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=q("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=p,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=p==="datetime-local"?"Y-m-d\\TH:i:S":p==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}_(e.mobileInput,"change",function(m){e.setDate(ge(m).value,!1,e.mobileFormatStr),J("onChange"),J("onClose")})}function dl(p){if(e.isOpen===!0)return e.close();e.open(p)}function J(p,m){if(e.config!==void 0){var w=e.config[p];if(w!==void 0&&w.length>0)for(var x=0;w[x]&&x<w.length;x++)w[x](e.selectedDates,e.input.value,e,m);p==="onChange"&&(e.input.dispatchEvent(Yn("change")),e.input.dispatchEvent(Yn("input")))}}function Yn(p){var m=document.createEvent("Event");return m.initEvent(p,!0,!0),m}function Wn(p){for(var m=0;m<e.selectedDates.length;m++){var w=e.selectedDates[m];if(w instanceof Date&&ve(w,p)===0)return""+m}return!1}function fl(p){return e.config.mode!=="range"||e.selectedDates.length<2?!1:ve(p,e.selectedDates[0])>=0&&ve(p,e.selectedDates[1])<=0}function Yt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(p,m){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[m].textContent=Sn(w.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=w.getMonth().toString(),p.value=w.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Jn(p){var m=p||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(w){return e.formatDate(w,m)}).filter(function(w,x,k){return e.config.mode!=="range"||e.config.enableTime||k.indexOf(w)===x}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Ie(p){p===void 0&&(p=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Jn(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Jn(e.config.altFormat)),p!==!1&&J("onValueUpdate")}function hl(p){var m=ge(p),w=e.prevMonthNav.contains(m),x=e.nextMonthNav.contains(m);w||x?Un(w?-1:1):e.yearElements.indexOf(m)>=0?m.select():m.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):m.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function pl(p){p.preventDefault();var m=p.type==="keydown",w=ge(p),x=w;e.amPM!==void 0&&w===e.amPM&&(e.amPM.textContent=e.l10n.amPM[be(e.amPM.textContent===e.l10n.amPM[0])]);var k=parseFloat(x.getAttribute("min")),F=parseFloat(x.getAttribute("max")),j=parseFloat(x.getAttribute("step")),N=parseInt(x.value,10),B=p.delta||(m?p.which===38?1:-1:0),P=N+j*B;if(typeof x.value<"u"&&x.value.length===2){var R=x===e.hourElement,V=x===e.minuteElement;P<k?(P=F+P+be(!R)+(be(R)&&be(!e.amPM)),V&&O(void 0,-1,e.hourElement)):P>F&&(P=x===e.hourElement?P-F-be(!e.amPM):k,V&&O(void 0,1,e.hourElement)),e.amPM&&R&&(j===1?P+N===23:Math.abs(P-N)>j)&&(e.amPM.textContent=e.l10n.amPM[be(e.amPM.textContent===e.l10n.amPM[0])]),x.value=de(P)}}return s(),e}function ft(t,n){for(var e=Array.prototype.slice.call(t).filter(function(r){return r instanceof HTMLElement}),i=[],s=0;s<e.length;s++){var o=e[s];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=bp(o,n||{}),i.push(o._flatpickr)}catch(r){console.error(r)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return ft(this,t)},HTMLElement.prototype.flatpickr=function(t){return ft([this],t)});var te=function(t,n){return typeof t=="string"?ft(window.document.querySelectorAll(t),n):t instanceof Node?ft([t],n):ft(t,n)};te.defaultConfig={};te.l10ns={en:se({},Pt),default:se({},Pt)};te.localize=function(t){te.l10ns.default=se(se({},te.l10ns.default),t)};te.setDefaults=function(t){te.defaultConfig=se(se({},te.defaultConfig),t)};te.parseDate=Qi({});te.formatDate=Ba({});te.compareDates=ve;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return ft(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=te);var yp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qa={exports:{}};(function(t,n){(function(e,i){t.exports=i()})(yp,function(){class e{constructor(l){l||(l={}),this.main=l.main||"ss-main",this.placeholder=l.placeholder||"ss-placeholder",this.values=l.values||"ss-values",this.single=l.single||"ss-single",this.max=l.max||"ss-max",this.value=l.value||"ss-value",this.valueText=l.valueText||"ss-value-text",this.valueDelete=l.valueDelete||"ss-value-delete",this.valueOut=l.valueOut||"ss-value-out",this.deselect=l.deselect||"ss-deselect",this.deselectPath=l.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=l.arrow||"ss-arrow",this.arrowClose=l.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=l.arrowOpen||"M10,70 L50,30 L90,70",this.content=l.content||"ss-content",this.openAbove=l.openAbove||"ss-open-above",this.openBelow=l.openBelow||"ss-open-below",this.search=l.search||"ss-search",this.searchHighlighter=l.searchHighlighter||"ss-search-highlight",this.searching=l.searching||"ss-searching",this.addable=l.addable||"ss-addable",this.addablePath=l.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=l.list||"ss-list",this.optgroup=l.optgroup||"ss-optgroup",this.optgroupLabel=l.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=l.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=l.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=l.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=l.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=l.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=l.optgroupClosable||"ss-closable",this.option=l.option||"ss-option",this.optionDelete=l.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=l.highlighted||"ss-highlighted",this.open=l.open||"ss-open",this.close=l.close||"ss-close",this.selected=l.selected||"ss-selected",this.error=l.error||"ss-error",this.disabled=l.disabled||"ss-disabled",this.hide=l.hide||"ss-hide"}}function i(){return Math.random().toString(36).substring(2,10)}function s(_,l){function d(g,O){return O&&g&&g.classList&&g.classList.contains(O)||O&&g&&g.dataset&&g.dataset.id&&g.dataset.id===l?g:null}function h(g,O){return!g||g===document?null:d(g,O)?g:h(g.parentNode,O)}return d(_,l)||h(_,l)}function o(_,l=50,d=!1){let h;return function(...g){const O=self,L=()=>{h=null,d||_.apply(O,g)},T=d&&!h;clearTimeout(h),h=setTimeout(L,l),T&&_.apply(O,g)}}function r(_,l){return JSON.stringify(_)===JSON.stringify(l)}function a(_){const l=_.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,d=>"-"+d.toLowerCase());return _[0]===_[0].toUpperCase()?l.substring(1):l}class c{constructor(l){if(this.id=!l.id||l.id===""?i():l.id,this.label=l.label||"",this.selectAll=l.selectAll===void 0?!1:l.selectAll,this.selectAllText=l.selectAllText||"Select All",this.closable=l.closable||"off",this.options=[],l.options)for(const d of l.options)this.options.push(new u(d))}}class u{constructor(l){this.id=!l.id||l.id===""?i():l.id,this.value=l.value===void 0?l.text:l.value,this.text=l.text||"",this.html=l.html||"",this.selected=l.selected!==void 0?l.selected:!1,this.display=l.display!==void 0?l.display:!0,this.disabled=l.disabled!==void 0?l.disabled:!1,this.mandatory=l.mandatory!==void 0?l.mandatory:!1,this.placeholder=l.placeholder!==void 0?l.placeholder:!1,this.class=l.class||"",this.style=l.style||"",this.data=l.data||{}}}class f{constructor(l,d){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=l,this.setData(d)}validateDataArray(l){if(!Array.isArray(l))return new Error("Data must be an array");for(let d of l)if(d instanceof c||"label"in d){if(!("label"in d))return new Error("Optgroup must have a label");if("options"in d&&d.options)for(let h of d.options){const g=this.validateOption(h);if(g)return g}}else if(d instanceof u||"text"in d){const h=this.validateOption(d);if(h)return h}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(l){return"text"in l?null:new Error("Option must have a text")}partialToFullData(l){let d=[];return l.forEach(h=>{if(h instanceof c||"label"in h){let g=[];"options"in h&&h.options&&h.options.forEach(O=>{g.push(new u(O))}),g.length>0&&d.push(new c(h))}(h instanceof u||"text"in h)&&d.push(new u(h))}),d}setData(l){this.data=this.partialToFullData(l),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(l,d=!1){if(d){let h=[new u(l)];this.setData(h.concat(this.getData()))}else this.setData(this.getData().concat(new u(l)))}setSelectedBy(l,d){let h=null,g=!1;const O=[];for(let T of this.data){if(T instanceof c)for(let C of T.options)h||(h=C),C.selected=g?!1:d.includes(C[l]),C.selected&&(O.push(C),this.selectType==="single"&&(g=!0));T instanceof u&&(h||(h=T),T.selected=g?!1:d.includes(T[l]),T.selected&&(O.push(T),this.selectType==="single"&&(g=!0)))}this.selectType==="single"&&h&&!g&&(h.selected=!0,O.push(h));const L=d.map(T=>{var C;return((C=O.find(D=>D[l]===T))===null||C===void 0?void 0:C.id)||""});this.selectedOrder=L}getSelected(){return this.getSelectedOptions().map(l=>l.id)}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}getSelectedOptions(){return this.filter(l=>l.selected,!1)}getOptgroupByID(l){for(let d of this.data)if(d instanceof c&&d.id===l)return d;return null}getOptionByID(l){let d=this.filter(h=>h.id===l,!1);return d.length?d[0]:null}getSelectType(){return this.selectType}getFirstOption(){let l=null;for(let d of this.data)if(d instanceof c?l=d.options[0]:d instanceof u&&(l=d),l)break;return l}search(l,d){return l=l.trim(),l===""?this.getData():this.filter(h=>d(h,l),!0)}filter(l,d){const h=[];return this.data.forEach(g=>{if(g instanceof c){let O=[];if(g.options.forEach(L=>{(!l||l(L))&&(d?O.push(new u(L)):h.push(new u(L)))}),O.length>0){let L=new c(g);L.options=O,h.push(L)}}g instanceof u&&(!l||l(g))&&h.push(new u(g))}),h}selectedOrderOptions(l){const d=[];return this.selectedOrder.forEach(h=>{const g=l.find(O=>O.id===h);g&&d.push(g)}),l.forEach(h=>{let g=!1;d.forEach(O=>{if(h.id===O.id){g=!0;return}}),g||d.push(h)}),d}}class v{constructor(l,d,h,g){this.store=h,this.settings=l,this.classes=d,this.callbacks=g,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const l=this.store.getSelectedOptions();if(l.length){const d=l[l.length-1].id,h=this.content.list.querySelector('[data-id="'+d+'"]');h&&this.ensureElementInView(this.content.list,h)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const l of this.settings.class)l.trim()!==""&&(this.main.main.classList.add(l.trim()),this.content.main.classList.add(l.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var l;const d=document.createElement("div");d.dataset.id=this.settings.id,d.setAttribute("aria-label",this.settings.ariaLabel),d.tabIndex=0,d.onkeydown=E=>{switch(E.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),E.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const I=this.content.list.querySelector("."+this.classes.highlighted);return I&&I.click(),!1;case"Escape":return this.callbacks.close(),!1}return E.key.length===1&&this.callbacks.open(),!0},d.onclick=E=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const h=document.createElement("div");h.classList.add(this.classes.values),d.appendChild(h);const g=document.createElement("div");g.classList.add(this.classes.deselect);const O=(l=this.store)===null||l===void 0?void 0:l.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&O&&O.length<=0?g.classList.add(this.classes.hide):g.classList.remove(this.classes.hide),g.onclick=E=>{if(E.stopPropagation(),this.settings.disabled)return;let I=!0;const M=this.store.getSelectedOptions(),z=[];if(this.callbacks.beforeChange&&(I=this.callbacks.beforeChange(z,M)===!0),I){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const K=this.store.getFirstOption(),Ae=K?K.id:"";this.callbacks.setSelected(Ae,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const L=document.createElementNS("http://www.w3.org/2000/svg","svg");L.setAttribute("viewBox","0 0 100 100");const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.deselectPath),L.appendChild(T),g.appendChild(L),d.appendChild(g);const C=document.createElementNS("http://www.w3.org/2000/svg","svg");C.classList.add(this.classes.arrow),C.setAttribute("viewBox","0 0 100 100");const D=document.createElementNS("http://www.w3.org/2000/svg","path");return D.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&C.classList.add(this.classes.hide),C.appendChild(D),d.appendChild(C),{main:d,values:h,deselect:{main:g,svg:L,path:T},arrow:{main:C,path:D}}}mainFocus(l){l!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const l=this.store.filter(g=>g.placeholder,!1);let d=this.settings.placeholderText;l.length&&(l[0].html!==""?d=l[0].html:l[0].text!==""&&(d=l[0].text));const h=document.createElement("div");return h.classList.add(this.classes.placeholder),h.innerHTML=d,h}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const l=this.store.filter(h=>h.selected&&!h.placeholder,!1),d=l.length>0?l[0]:null;if(!d)this.main.values.innerHTML=this.placeholder().outerHTML;else{const h=document.createElement("div");h.classList.add(this.classes.single),d.html?h.innerHTML=d.html:h.innerText=d.text,this.main.values.innerHTML=h.outerHTML}!this.settings.allowDeselect||!l.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let l=this.main.values.childNodes,d=this.store.filter(g=>g.selected&&g.display,!1);if(d.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const g=this.main.values.querySelector("."+this.classes.placeholder);g&&g.remove()}if(d.length>this.settings.maxValuesShown){const g=document.createElement("div");g.classList.add(this.classes.max),g.textContent=this.settings.maxValuesMessage.replace("{number}",d.length.toString()),this.main.values.innerHTML=g.outerHTML;return}else{const g=this.main.values.querySelector("."+this.classes.max);g&&g.remove()}this.settings.keepOrder&&(d=this.store.selectedOrderOptions(d));let h=[];for(let g=0;g<l.length;g++){const O=l[g],L=O.getAttribute("data-id");L&&(d.filter(C=>C.id===L,!1).length||h.push(O))}for(const g of h)g.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(g)&&this.main.values.removeChild(g)},100);l=this.main.values.childNodes;for(let g=0;g<d.length;g++){let O=!0;for(let L=0;L<l.length;L++)d[g].id===String(l[L].dataset.id)&&(O=!1);O&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(d[g])):l.length===0?this.main.values.appendChild(this.multipleValue(d[g])):g===0?this.main.values.insertBefore(this.multipleValue(d[g]),l[g]):l[g-1].insertAdjacentElement("afterend",this.multipleValue(d[g])))}}multipleValue(l){const d=document.createElement("div");d.classList.add(this.classes.value),d.dataset.id=l.id;const h=document.createElement("div");if(h.classList.add(this.classes.valueText),h.textContent=l.text,d.appendChild(h),!l.mandatory){const g=document.createElement("div");g.classList.add(this.classes.valueDelete),g.onclick=T=>{if(T.preventDefault(),T.stopPropagation(),this.settings.disabled)return;let C=!0;const D=this.store.getSelectedOptions(),E=D.filter(I=>I.selected&&I.id!==l.id,!0);if(!(this.settings.minSelected&&E.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(C=this.callbacks.beforeChange(E,D)===!0),C)){let I=[];for(const M of E){if(M instanceof c)for(const z of M.options)I.push(z.id);M instanceof u&&I.push(M.id)}this.callbacks.setSelected(I,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(E),this.updateDeselectAll()}};const O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("viewBox","0 0 100 100");const L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",this.classes.optionDelete),O.appendChild(L),g.appendChild(O),d.appendChild(g)}return d}contentDiv(){const l=document.createElement("div");l.dataset.id=this.settings.id;const d=this.searchDiv();l.appendChild(d.main);const h=this.listDiv();return l.appendChild(h),{main:l,search:d,list:h}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const l=document.createElement("div"),d=document.createElement("input"),h=document.createElement("div");l.classList.add(this.classes.search);const g={main:l,input:d};if(this.settings.showSearch||(l.classList.add(this.classes.hide),d.readOnly=!0),d.type="search",d.placeholder=this.settings.searchPlaceholder,d.tabIndex=-1,d.setAttribute("aria-label",this.settings.searchPlaceholder),d.setAttribute("autocapitalize","off"),d.setAttribute("autocomplete","off"),d.setAttribute("autocorrect","off"),d.oninput=o(O=>{this.callbacks.search(O.target.value)},100),d.onkeydown=O=>{switch(O.key){case"ArrowUp":case"ArrowDown":return O.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const L=this.content.list.querySelector("."+this.classes.highlighted);return L?(L.click(),!1):!0;case"Enter":if(this.callbacks.addable)return h.click(),!1;{const T=this.content.list.querySelector("."+this.classes.highlighted);if(T)return T.click(),!1}return!0}return!0},l.appendChild(d),this.callbacks.addable){h.classList.add(this.classes.addable);const O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("viewBox","0 0 100 100");const L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",this.classes.addablePath),O.appendChild(L),h.appendChild(O),h.onclick=T=>{if(T.preventDefault(),T.stopPropagation(),!this.callbacks.addable)return;const C=this.content.search.input.value.trim();if(C===""){this.content.search.input.focus();return}const D=I=>{let M=new u(I);if(this.callbacks.addOption(M),this.settings.isMultiple){let z=this.store.getSelected();z.push(M.id),this.callbacks.setSelected(z,!0)}else this.callbacks.setSelected([M.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},E=this.callbacks.addable(C);E===!1||E===void 0||E===null||(E instanceof Promise?E.then(I=>{typeof I=="string"?D({text:I,value:I}):E instanceof Error?this.renderError(E.message):D(I)}):typeof E=="string"?D({text:E,value:E}):E instanceof Error?this.renderError(E.message):D(E))},l.appendChild(h),g.addable={main:h,svg:O,path:L}}return g}searchFocus(){this.content.search.input.focus()}getOptions(l=!1,d=!1,h=!1){let g="."+this.classes.option;return l&&(g+=":not(."+this.classes.placeholder+")"),d&&(g+=":not(."+this.classes.disabled+")"),h&&(g+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(g))}highlight(l){const d=this.getOptions(!0,!0,!0);if(d.length===0)return;if(d.length===1&&!d[0].classList.contains(this.classes.highlighted)){d[0].classList.add(this.classes.highlighted);return}let h=!1;for(const g of d)g.classList.contains(this.classes.highlighted)&&(h=!0);if(!h){for(const g of d)if(g.classList.contains(this.classes.selected)){g.classList.add(this.classes.highlighted);break}}for(let g=0;g<d.length;g++)if(d[g].classList.contains(this.classes.highlighted)){const O=d[g];O.classList.remove(this.classes.highlighted);const L=O.parentElement;if(L&&L.classList.contains(this.classes.open)){const D=L.querySelector("."+this.classes.optgroupLabel);D&&D.click()}let T=d[l==="down"?g+1<d.length?g+1:0:g-1>=0?g-1:d.length-1];T.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,T);const C=T.parentElement;if(C&&C.classList.contains(this.classes.close)){const D=C.querySelector("."+this.classes.optgroupLabel);D&&D.click()}return}d[l==="down"?0:d.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,d[l==="down"?0:d.length-1])}listDiv(){const l=document.createElement("div");return l.classList.add(this.classes.list),l}renderError(l){this.content.list.innerHTML="";const d=document.createElement("div");d.classList.add(this.classes.error),d.textContent=l,this.content.list.appendChild(d)}renderSearching(){this.content.list.innerHTML="";const l=document.createElement("div");l.classList.add(this.classes.searching),l.textContent=this.settings.searchingText,this.content.list.appendChild(l)}renderOptions(l){if(this.content.list.innerHTML="",l.length===0){const h=document.createElement("div");h.classList.add(this.classes.search),this.callbacks.addable?h.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):h.innerHTML=this.settings.searchText,this.content.list.appendChild(h);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(g=>g.placeholder,!1).length||this.store.addOption(new u({text:"",value:"",selected:!1,placeholder:!0}),!0));const d=document.createDocumentFragment();for(const h of l){if(h instanceof c){const g=document.createElement("div");g.classList.add(this.classes.optgroup);const O=document.createElement("div");O.classList.add(this.classes.optgroupLabel),g.appendChild(O);const L=document.createElement("div");L.classList.add(this.classes.optgroupLabelText),L.textContent=h.label,O.appendChild(L);const T=document.createElement("div");if(T.classList.add(this.classes.optgroupActions),O.appendChild(T),this.settings.isMultiple&&h.selectAll){const C=document.createElement("div");C.classList.add(this.classes.optgroupSelectAll);let D=!0;for(const K of h.options)if(!K.selected){D=!1;break}D&&C.classList.add(this.classes.selected);const E=document.createElement("span");E.textContent=h.selectAllText,C.appendChild(E);const I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.setAttribute("viewBox","0 0 100 100"),C.appendChild(I);const M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("d",this.classes.optgroupSelectAllBox),I.appendChild(M);const z=document.createElementNS("http://www.w3.org/2000/svg","path");z.setAttribute("d",this.classes.optgroupSelectAllCheck),I.appendChild(z),C.addEventListener("click",K=>{K.preventDefault(),K.stopPropagation();const Ae=this.store.getSelected();if(D){const De=Ae.filter(Ne=>{for(const Vn of h.options)if(Ne===Vn.id)return!1;return!0});this.callbacks.setSelected(De,!0);return}else{const De=Ae.concat(h.options.map(Ne=>Ne.id));for(const Ne of h.options)this.store.getOptionByID(Ne.id)||this.callbacks.addOption(Ne);this.callbacks.setSelected(De,!0);return}}),T.appendChild(C)}if(h.closable!=="off"){const C=document.createElement("div");C.classList.add(this.classes.optgroupClosable);const D=document.createElementNS("http://www.w3.org/2000/svg","svg");D.setAttribute("viewBox","0 0 100 100"),D.classList.add(this.classes.arrow),C.appendChild(D);const E=document.createElementNS("http://www.w3.org/2000/svg","path");D.appendChild(E),h.options.some(I=>I.selected)||this.content.search.input.value.trim()!==""?(C.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):h.closable==="open"?(g.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):h.closable==="close"&&(g.classList.add(this.classes.close),E.setAttribute("d",this.classes.arrowClose)),O.addEventListener("click",I=>{I.preventDefault(),I.stopPropagation(),g.classList.contains(this.classes.close)?(g.classList.remove(this.classes.close),g.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):(g.classList.remove(this.classes.open),g.classList.add(this.classes.close),E.setAttribute("d",this.classes.arrowClose))}),T.appendChild(C)}g.appendChild(O);for(const C of h.options)g.appendChild(this.option(C)),d.appendChild(g)}h instanceof u&&d.appendChild(this.option(h))}this.content.list.appendChild(d)}option(l){if(l.placeholder){const h=document.createElement("div");return h.classList.add(this.classes.option),h.classList.add(this.classes.hide),h}const d=document.createElement("div");return d.dataset.id=l.id,d.classList.add(this.classes.option),d.setAttribute("role","option"),l.class&&l.class.split(" ").forEach(h=>{d.classList.add(h)}),l.style&&(d.style.cssText=l.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?d.innerHTML=this.highlightText(l.html!==""?l.html:l.text,this.content.search.input.value,this.classes.searchHighlighter):l.html!==""?d.innerHTML=l.html:d.textContent=l.text,this.settings.showOptionTooltips&&d.textContent&&d.setAttribute("title",d.textContent),l.display||d.classList.add(this.classes.hide),l.disabled&&d.classList.add(this.classes.disabled),l.selected&&this.settings.hideSelected&&d.classList.add(this.classes.hide),l.selected?(d.classList.add(this.classes.selected),d.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",d.id)):(d.classList.remove(this.classes.selected),d.setAttribute("aria-selected","false")),d.addEventListener("click",h=>{h.preventDefault(),h.stopPropagation();const g=this.store.getSelected(),O=h.currentTarget,L=String(O.dataset.id);if(l.disabled||l.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=g.length&&!l.selected||this.settings.isMultiple&&this.settings.minSelected>=g.length&&l.selected)return;let T=!1;const C=this.store.getSelectedOptions();let D=[];this.settings.isMultiple&&(l.selected?D=C.filter(E=>E.id!==L):D=C.concat(l)),this.settings.isMultiple||(l.selected?D=[]:D=[l]),this.callbacks.beforeChange||(T=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(D,C)===!1?T=!1:T=!0),T&&(this.store.getOptionByID(L)||this.callbacks.addOption(l),this.callbacks.setSelected(D.map(E=>E.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(D))}),d}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(l,d,h){let g=l;const O=new RegExp("(?![^<]*>)("+d.trim()+")(?![^<]*>[^<>]*</)","i");if(!l.match(O))return l;const L=l.match(O).index,T=L+l.match(O)[0].toString().length,C=l.substring(L,T);return g=g.replace(O,`<mark class="${h}">${C}</mark>`),g}moveContentAbove(){const l=this.main.main.offsetHeight,d=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const h=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(l+d-1)+"px 0px 0px 0px",this.content.main.style.top=h.top+h.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=h.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=h.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const l=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=l.top+l.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=l.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=l.width+"px")}ensureElementInView(l,d){const h=l.scrollTop+l.offsetTop,g=h+l.clientHeight,O=d.offsetTop,L=O+d.clientHeight;O<h?l.scrollTop-=h-O:L>g&&(l.scrollTop+=L-g)}putContent(){const l=this.main.main.offsetHeight,d=this.main.main.getBoundingClientRect(),h=this.content.main.offsetHeight;return window.innerHeight-(d.top+l)<=h&&d.top>h?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const l=this.store.getSelectedOptions(),d=l&&l.length>0,h=this.settings.isMultiple,g=this.settings.allowDeselect,O=this.main.deselect.main,L=this.classes.hide;g&&!(h&&!d)?O.classList.remove(L):O.classList.add(L)}}class y{constructor(l){this.listen=!1,this.observer=null,this.select=l,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(l){this.listen=l,l&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),l||this.observer&&this.observer.disconnect()}valueChange(l){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(l){if(!this.listen)return;let d=!1,h=!1,g=!1;for(const O of l){if(O.target===this.select&&(O.attributeName==="disabled"&&(h=!0),O.attributeName==="class"&&(d=!0),O.type==="childList")){for(const L of O.addedNodes)if(L.nodeName==="OPTION"&&L.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}g=!0}(O.target.nodeName==="OPTGROUP"||O.target.nodeName==="OPTION")&&(g=!0)}d&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),h&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),g&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let l=[];const d=this.select.childNodes;for(const h of d)h.nodeName==="OPTGROUP"&&l.push(this.getDataFromOptgroup(h)),h.nodeName==="OPTION"&&l.push(this.getDataFromOption(h));return l}getDataFromOptgroup(l){let d={id:l.id,label:l.label,selectAll:l.dataset?l.dataset.selectall==="true":!1,selectAllText:l.dataset?l.dataset.selectalltext:"Select all",closable:l.dataset?l.dataset.closable:"off",options:[]};const h=l.childNodes;for(const g of h)g.nodeName==="OPTION"&&d.options.push(this.getDataFromOption(g));return d}getDataFromOption(l){return{id:l.id,value:l.value,text:l.text,html:l.dataset&&l.dataset.html?l.dataset.html:"",selected:l.selected,display:l.style.display!=="none",disabled:l.disabled,mandatory:l.dataset?l.dataset.mandatory==="true":!1,placeholder:l.dataset.placeholder==="true",class:l.className,style:l.style.cssText,data:l.dataset}}getSelectedOptions(){let l=[];const d=this.select.childNodes;for(const h of d){if(h.nodeName==="OPTGROUP"){const g=h.childNodes;for(const O of g)if(O.nodeName==="OPTION"){const L=O;L.selected&&l.push(this.getDataFromOption(L))}}if(h.nodeName==="OPTION"){const g=h;g.selected&&l.push(this.getDataFromOption(g))}}return l}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}setSelected(l){this.changeListen(!1);const d=this.select.childNodes;for(const h of d){if(h.nodeName==="OPTGROUP"){const O=h.childNodes;for(const L of O)if(L.nodeName==="OPTION"){const T=L;T.selected=l.includes(T.id)}}if(h.nodeName==="OPTION"){const g=h;g.selected=l.includes(g.id)}}this.changeListen(!0)}setSelectedByValue(l){this.changeListen(!1);const d=this.select.childNodes;for(const h of d){if(h.nodeName==="OPTGROUP"){const O=h.childNodes;for(const L of O)if(L.nodeName==="OPTION"){const T=L;T.selected=l.includes(T.value)}}if(h.nodeName==="OPTION"){const g=h;g.selected=l.includes(g.value)}}this.changeListen(!0)}updateSelect(l,d,h){this.changeListen(!1),l&&(this.select.dataset.id=l),d&&(this.select.style.cssText=d),h&&(this.select.className="",h.forEach(g=>{g.trim()!==""&&this.select.classList.add(g.trim())})),this.changeListen(!0)}updateOptions(l){this.changeListen(!1),this.select.innerHTML="";for(const d of l)d instanceof c&&this.select.appendChild(this.createOptgroup(d)),d instanceof u&&this.select.appendChild(this.createOption(d));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(l){const d=document.createElement("optgroup");if(d.id=l.id,d.label=l.label,l.selectAll&&(d.dataset.selectAll="true"),l.closable!=="off"&&(d.dataset.closable=l.closable),l.options)for(const h of l.options)d.appendChild(this.createOption(h));return d}createOption(l){const d=document.createElement("option");return d.id=l.id,d.value=l.value,d.textContent=l.text,l.html!==""&&d.setAttribute("data-html",l.html),l.selected&&(d.selected=l.selected),l.disabled&&(d.disabled=!0),l.display||(d.style.display="none"),l.placeholder&&d.setAttribute("data-placeholder","true"),l.mandatory&&d.setAttribute("data-mandatory","true"),l.class&&l.class.split(" ").forEach(h=>{d.classList.add(h)}),l.data&&typeof l.data=="object"&&Object.keys(l.data).forEach(h=>{d.setAttribute("data-"+a(h),l.data[h])}),d}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class A{constructor(l){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,l||(l={}),this.id="ss-"+i(),this.style=l.style||"",this.class=l.class||[],this.disabled=l.disabled!==void 0?l.disabled:!1,this.alwaysOpen=l.alwaysOpen!==void 0?l.alwaysOpen:!1,this.showSearch=l.showSearch!==void 0?l.showSearch:!0,this.focusSearch=l.focusSearch!==void 0?l.focusSearch:!0,this.ariaLabel=l.ariaLabel||"Combobox",this.searchPlaceholder=l.searchPlaceholder||"Search",this.searchText=l.searchText||"No Results",this.searchingText=l.searchingText||"Searching...",this.searchHighlight=l.searchHighlight!==void 0?l.searchHighlight:!1,this.closeOnSelect=l.closeOnSelect!==void 0?l.closeOnSelect:!0,this.contentLocation=l.contentLocation||document.body,this.contentPosition=l.contentPosition||"absolute",this.openPosition=l.openPosition||"auto",this.placeholderText=l.placeholderText!==void 0?l.placeholderText:"Select Value",this.allowDeselect=l.allowDeselect!==void 0?l.allowDeselect:!1,this.hideSelected=l.hideSelected!==void 0?l.hideSelected:!1,this.keepOrder=l.keepOrder!==void 0?l.keepOrder:!1,this.showOptionTooltips=l.showOptionTooltips!==void 0?l.showOptionTooltips:!1,this.minSelected=l.minSelected||0,this.maxSelected=l.maxSelected||1e3,this.timeoutDelay=l.timeoutDelay||200,this.maxValuesShown=l.maxValuesShown||20,this.maxValuesMessage=l.maxValuesMessage||"{number} selected",this.addableText=l.addableText||'Press "Enter" to add {value}'}}class b{constructor(l){var d;if(this.events={search:void 0,searchFilter:(T,C)=>T.text.toLowerCase().indexOf(C.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=T=>{this.settings.isOpen&&T.target&&!s(T.target,this.settings.id)&&this.close(T.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof l.select=="string"?document.querySelector(l.select):l.select,!this.selectEl){l.events&&l.events.error&&l.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){l.events&&l.events.error&&l.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new A(l.settings),this.cssClasses=new e(l.cssClasses);const h=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const T in l.events)l.events.hasOwnProperty(T)&&(h.indexOf(T)!==-1?this.events[T]=o(l.events[T],100):this.events[T]=l.events[T]);this.settings.disabled=!((d=l.settings)===null||d===void 0)&&d.disabled?l.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new y(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=T=>{this.setSelected(T.map(C=>C.id))},this.select.onClassChange=T=>{this.settings.class=T,this.render.updateClassStyles()},this.select.onDisabledChange=T=>{T?this.disable():this.enable()},this.select.onOptionsChange=T=>{this.setData(T)},this.store=new f(this.settings.isMultiple?"multiple":"single",l.data?l.data:this.select.getData()),l.data&&this.select.updateOptions(this.store.getData());const g={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new v(this.settings,this.cssClasses,this.store,g),this.render.renderValues(),this.render.renderOptions(this.store.getData());const O=this.selectEl.getAttribute("aria-label"),L=this.selectEl.getAttribute("aria-labelledby");O?this.render.main.main.setAttribute("aria-label",O):L&&this.render.main.main.setAttribute("aria-labelledby",L),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(l){const d=this.store.getSelected(),h=this.store.validateDataArray(l);if(h){this.events.error&&this.events.error(h);return}this.store.setData(l);const g=this.store.getData();this.select.updateOptions(g),this.render.renderValues(),this.render.renderOptions(g),this.events.afterChange&&!r(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let l=this.store.getSelectedOptions();return this.settings.keepOrder&&(l=this.store.selectedOrderOptions(l)),l.map(d=>d.value)}setSelected(l,d=!0){const h=this.store.getSelected(),g=this.store.getDataOptions();l=Array.isArray(l)?l:[l];const O=[];for(const T of l){if(g.find(C=>C.id==T)){O.push(T);continue}for(const C of g.filter(D=>D.value==T))O.push(C.id)}this.store.setSelectedBy("id",O);const L=this.store.getData();this.select.updateOptions(L),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(L),d&&this.events.afterChange&&!r(h,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(l){const d=this.store.getSelected();this.store.getDataOptions().some(g=>{var O;return g.value===((O=l.value)!==null&&O!==void 0?O:l.text)})||this.store.addOption(l);const h=this.store.getData();this.select.updateOptions(h),this.render.renderValues(),this.render.renderOptions(h),this.events.afterChange&&!r(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(l=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(l),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(l){if(this.render.content.search.input.value!==l&&(this.render.content.search.input.value=l),!this.events.search){this.render.renderOptions(l===""?this.store.getData():this.store.search(l,this.events.searchFilter));return}this.render.renderSearching();const d=this.events.search(l,this.store.getSelectedOptions());if(d instanceof Promise){d.then(h=>{this.render.renderOptions(this.store.partialToFullData(h))}).catch(h=>{this.render.renderError(typeof h=="string"?h:h.message)});return}else Array.isArray(d)?this.render.renderOptions(this.store.partialToFullData(d)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return b})})(qa);var _p=qa.exports;const Op=wp(_p);function bi(t,n){t.split(/\s+/).forEach(e=>{n(e)})}class Cp{constructor(){this._events={}}on(n,e){bi(n,i=>{const s=this._events[i]||[];s.push(e),this._events[i]=s})}off(n,e){var i=arguments.length;if(i===0){this._events={};return}bi(n,s=>{if(i===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[s]=o)})}trigger(n,...e){var i=this;bi(n,s=>{const o=i._events[s];o!==void 0&&o.forEach(r=>{r.apply(i,e)})})}}function xp(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){t.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,i;const s=this,o=[];if(Array.isArray(n))n.forEach(r=>{typeof r=="string"?o.push(r):(s.plugins.settings[r.name]=r.options,o.push(r.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(s.plugins.settings[e]=n[e],o.push(e));for(;i=o.shift();)s.require(i)}loadPlugin(n){var e=this,i=e.plugins,s=t.plugins[n];if(!t.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');i.requested[n]=!0,i.loaded[n]=s.fn.apply(e,[e.plugins.settings[n]||{}]),i.names.push(n)}require(n){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(i.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return i.loaded[n]}}}const qn=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":Ep(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),Va=t=>{if(!Sp(t))return t.join("");let n="",e=0;const i=()=>{e>1&&(n+="{"+e+"}")};return t.forEach((s,o)=>{if(s===t[o-1]){e++;return}i(),n+=s,e=1}),i(),n},Ua=t=>{let n=Array.from(t);return qn(n)},Sp=t=>new Set(t).size!==t.length,Nt=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Ep=t=>t.reduce((n,e)=>Math.max(n,Ap(e)),0),Ap=t=>Array.from(t).length,za=t=>{if(t.length===1)return[[t]];let n=[];const e=t.substring(1);return za(e).forEach(function(s){let o=s.slice(0);o[0]=t.charAt(0)+o[0],n.push(o),o=s.slice(0),o.unshift(t.charAt(0)),n.push(o)}),n},Dp=[[0,65535]],Tp="[-]";let En,Ka;const Lp=3,Es={},kr={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let t in kr){let n=kr[t]||"";for(let e=0;e<n.length;e++){let i=n.substring(e,e+1);Es[i]=t}}const kp=new RegExp(Object.keys(Es).join("|")+"|"+Tp,"gu"),Mp=t=>{En===void 0&&(En=Np(Dp))},Mr=(t,n="NFKD")=>t.normalize(n),An=t=>Array.from(t).reduce((n,e)=>n+Ip(e),""),Ip=t=>(t=Mr(t).toLowerCase().replace(kp,n=>Es[n]||""),Mr(t,"NFC"));function*Fp(t){for(const[n,e]of t)for(let i=n;i<=e;i++){let s=String.fromCharCode(i),o=An(s);o!=s.toLowerCase()&&(o.length>Lp||o.length!=0&&(yield{folded:o,composed:s,code_point:i}))}}const Pp=t=>{const n={},e=(i,s)=>{const o=n[i]||new Set,r=new RegExp("^"+Ua(o)+"$","iu");s.match(r)||(o.add(Nt(s)),n[i]=o)};for(let i of Fp(t))e(i.folded,i.folded),e(i.folded,i.composed);return n},Np=t=>{const n=Pp(t),e={};let i=[];for(let o in n){let r=n[o];r&&(e[o]=Ua(r)),o.length>1&&i.push(Nt(o))}i.sort((o,r)=>r.length-o.length);const s=qn(i);return Ka=new RegExp("^"+s,"u"),e},Rp=(t,n=1)=>{let e=0;return t=t.map(i=>(En[i]&&(e+=i.length),En[i]||i)),e>=n?Va(t):""},$p=(t,n=1)=>(n=Math.max(n,t.length-1),qn(za(t).map(e=>Rp(e,n)))),Ir=(t,n=!0)=>{let e=t.length>1?1:0;return qn(t.map(i=>{let s=[];const o=n?i.length():i.length()-1;for(let r=0;r<o;r++)s.push($p(i.substrs[r]||"",e));return Va(s)}))},Hp=(t,n)=>{for(const e of n){if(e.start!=t.start||e.end!=t.end||e.substrs.join("")!==t.substrs.join(""))continue;let i=t.parts;const s=r=>{for(const a of i){if(a.start===r.start&&a.substr===r.substr)return!1;if(!(r.length==1||a.length==1)&&(r.start<a.start&&r.end>a.start||a.start<r.start&&a.end>r.start))return!0}return!1};if(!(e.parts.filter(s).length>0))return!0}return!1};class Dn{constructor(){ze(this,"parts");ze(this,"substrs");ze(this,"start");ze(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let i=new Dn,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const c of s)i.add(c);let r=e.substr.substring(0,n-o.start),a=r.length;return i.add({start:o.start,end:o.start+a,length:a,substr:r}),i}}const jp=t=>{Mp(),t=An(t);let n="",e=[new Dn];for(let i=0;i<t.length;i++){let o=t.substring(i).match(Ka);const r=t.substring(i,i+1),a=o?o[0]:null;let c=[],u=new Set;for(const f of e){const v=f.last();if(!v||v.length==1||v.end<=i)if(a){const y=a.length;f.add({start:i,end:i+y,length:y,substr:a}),u.add("1")}else f.add({start:i,end:i+1,length:1,substr:r}),u.add("2");else if(a){let y=f.clone(i,v);const A=a.length;y.add({start:i,end:i+A,length:A,substr:a}),c.push(y)}else u.add("3")}if(c.length>0){c=c.sort((f,v)=>f.length()-v.length());for(let f of c)Hp(f,e)||e.push(f);continue}if(i>0&&u.size==1&&!u.has("3")){n+=Ir(e,!1);let f=new Dn;const v=e[0];v&&f.add(v.last()),e=[f]}}return n+=Ir(e,!0),n},Bp=(t,n)=>{if(t)return t[n]},qp=(t,n)=>{if(t){for(var e,i=n.split(".");(e=i.shift())&&(t=t[e]););return t}},yi=(t,n,e)=>{var i,s;return!t||(t=t+"",n.regex==null)||(s=t.search(n.regex),s===-1)?0:(i=n.string.length/t.length,s===0&&(i+=.5),i*e)},wi=(t,n)=>{var e=t[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(t[n]=[e])},on=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Vp=(t,n)=>typeof t=="number"&&typeof n=="number"?t>n?1:t<n?-1:0:(t=An(t+"").toLowerCase(),n=An(n+"").toLowerCase(),t>n?1:n>t?-1:0);class Up{constructor(n,e){ze(this,"items");ze(this,"settings");this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,i){if(!n||!n.length)return[];const s=[],o=n.split(/\s+/);var r;return i&&(r=new RegExp("^("+Object.keys(i).map(Nt).join("|")+"):(.*)$")),o.forEach(a=>{let c,u=null,f=null;r&&(c=a.match(r))&&(u=c[1],a=c[2]),a.length>0&&(this.settings.diacritics?f=jp(a)||null:f=Nt(a),f&&e&&(f="\\b"+f)),s.push({string:a,regex:f?new RegExp(f,"iu"):null,field:u})}),s}getScoreFunction(n,e){var i=this.prepareSearch(n,e);return this._getScoreFunction(i)}_getScoreFunction(n){const e=n.tokens,i=e.length;if(!i)return function(){return 0};const s=n.options.fields,o=n.weights,r=s.length,a=n.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(u,f){const v=s[0].field;return yi(a(f,v),u,o[v]||1)}:function(u,f){var v=0;if(u.field){const y=a(f,u.field);!u.regex&&y?v+=1/r:v+=yi(y,u,1)}else on(o,(y,A)=>{v+=yi(a(f,A),u,y)});return v/r}}();return i===1?function(u){return c(e[0],u)}:n.options.conjunction==="and"?function(u){var f,v=0;for(let y of e){if(f=c(y,u),f<=0)return 0;v+=f}return v/i}:function(u){var f=0;return on(e,v=>{f+=c(v,u)}),f/i}}getSortFunction(n,e){var i=this.prepareSearch(n,e);return this._getSortFunction(i)}_getSortFunction(n){var e,i=[];const s=this,o=n.options,r=!n.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const a=function(u,f){return u==="$score"?f.score:n.getAttrFn(s.items[f.id],u)};if(r)for(let u of r)(n.query||u.field!=="$score")&&i.push(u);if(n.query){e=!0;for(let u of i)if(u.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(u=>u.field!=="$score");return i.length?function(u,f){var v,y;for(let A of i)if(y=A.field,v=(A.direction==="desc"?-1:1)*Vp(a(y,u),a(y,f)),v)return v;return 0}:null}prepareSearch(n,e){const i={};var s=Object.assign({},e);if(wi(s,"sort"),wi(s,"sort_empty"),s.fields){wi(s,"fields");const o=[];s.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),i[r.field]="weight"in r?r.weight:1}),s.fields=o}return{options:s,query:n.toLowerCase().trim(),tokens:this.tokenize(n,s.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:s.nesting?qp:Bp}}search(n,e){var i=this,s,o;o=this.prepareSearch(n,e),e=o.options,n=o.query;const r=e.score||i._getScoreFunction(o);n.length?on(i.items,(c,u)=>{s=r(c),(e.filter===!1||s>0)&&o.items.push({score:s,id:u})}):on(i.items,(c,u)=>{o.items.push({score:1,id:u})});const a=i._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const Oe=t=>typeof t>"u"||t===null?null:gn(t),gn=t=>typeof t=="boolean"?t?"1":"0":t+"",_i=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),zp=(t,n)=>n>0?window.setTimeout(t,n):(t.call(null),null),Kp=(t,n)=>{var e;return function(i,s){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[i]=!0,t.call(o,i,s)},n)}},Fr=(t,n,e)=>{var i,s=t.trigger,o={};t.trigger=function(){var r=arguments[0];if(n.indexOf(r)!==-1)o[r]=arguments;else return s.apply(t,arguments)},e.apply(t,[]),t.trigger=s;for(i of n)i in o&&s.apply(t,o[i])},Yp=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Q=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},ae=(t,n,e,i)=>{t.addEventListener(n,e,i)},We=(t,n)=>{if(!n||!n[t])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},Oi=(t,n)=>{const e=t.getAttribute("id");return e||(t.setAttribute("id",n),n)},Pr=t=>t.replace(/[\\"']/g,"\\$&"),Je=(t,n)=>{n&&t.append(n)},ie=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},ke=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ya(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Ya=t=>typeof t=="string"&&t.indexOf("<")>-1,Wp=t=>t.replace(/['"\\]/g,"\\$&"),Ci=(t,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),t.dispatchEvent(e)},an=(t,n)=>{Object.assign(t.style,n)},me=(t,...n)=>{var e=Wa(n);t=Ja(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},je=(t,...n)=>{var e=Wa(n);t=Ja(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},Wa=t=>{var n=[];return ie(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Ja=t=>(Array.isArray(t)||(t=[t]),t),xi=(t,n,e)=>{if(!(e&&!e.contains(t)))for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Nr=(t,n=0)=>n>0?t[t.length-1]:t[0],Jp=t=>Object.keys(t).length===0,Rr=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e},W=(t,n)=>{ie(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},Xi=(t,n)=>{t.parentNode&&t.parentNode.replaceChild(n,t)},Gp=(t,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}const e=o=>{var r=o.data.match(n);if(r&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var u=c.cloneNode(!0);return a.appendChild(u),Xi(c,a),1}return 0},i=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{s(r)})},s=o=>o.nodeType===3?e(o):(i(o),0);s(t)},Qp=t=>{var n=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Xp=65,Zp=13,eg=27,tg=37,ng=38,ig=39,sg=40,$r=8,rg=46,Hr=9,og=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ln=og?"metaKey":"ctrlKey",jr={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function Br(t,n){var e=Object.assign({},jr,n),i=e.dataAttr,s=e.labelField,o=e.valueField,r=e.disabledField,a=e.optgroupField,c=e.optgroupLabelField,u=e.optgroupValueField,f=t.tagName.toLowerCase(),v=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let _=t.querySelector('option[value=""]');_&&(v=_.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},A=()=>{var _,l=y.options,d={},h=1;let g=0;var O=C=>{var D=Object.assign({},C.dataset),E=i&&D[i];return typeof E=="string"&&E.length&&(D=Object.assign(D,JSON.parse(E))),D},L=(C,D)=>{var E=Oe(C.value);if(E!=null&&!(!E&&!e.allowEmptyOption)){if(d.hasOwnProperty(E)){if(D){var I=d[E][a];I?Array.isArray(I)?I.push(D):d[E][a]=[I,D]:d[E][a]=D}}else{var M=O(C);M[s]=M[s]||C.textContent,M[o]=M[o]||E,M[r]=M[r]||C.disabled,M[a]=M[a]||D,M.$option=C,M.$order=M.$order||++g,d[E]=M,l.push(M)}C.selected&&y.items.push(E)}},T=C=>{var D,E;E=O(C),E[c]=E[c]||C.getAttribute("label")||"",E[u]=E[u]||h++,E[r]=E[r]||C.disabled,E.$order=E.$order||++g,y.optgroups.push(E),D=E[u],ie(C.children,I=>{L(I,D)})};y.maxItems=t.hasAttribute("multiple")?null:1,ie(t.children,C=>{_=C.tagName.toLowerCase(),_==="optgroup"?T(C):_==="option"&&L(C)})},b=()=>{const _=t.getAttribute(i);if(_)y.options=JSON.parse(_),ie(y.options,d=>{y.items.push(d[o])});else{var l=t.value.trim()||"";if(!e.allowEmptyOption&&!l.length)return;const d=l.split(e.delimiter);ie(d,h=>{const g={};g[s]=h,g[o]=h,y.options.push(g)}),y.items=d}};return f==="select"?A():b(),Object.assign({},jr,y,n)}var qr=0;class ue extends xp(Cp){constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,qr++;var i,s=ke(n);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);i=o.getPropertyValue("direction");const r=Br(s,e);this.settings=r,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=Oi(s,"tomselect-"+qr),this.isRequired=s.required,this.sifter=new Up(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var a=r.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?r.createFilter=l=>a.test(l):r.createFilter=l=>this.settings.duplicates||!this.options[l]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=ke("<div>"),u=ke("<div>"),f=this._render("dropdown"),v=ke('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",A=r.mode;var b;if(me(c,r.wrapperClass,y,A),me(u,r.controlClass),Je(c,u),me(f,r.dropdownClass,A),r.copyClassesToDropdown&&me(f,y),me(v,r.dropdownContentClass),Je(f,v),ke(r.dropdownParent||c).appendChild(f),Ya(r.controlInput)){b=ke(r.controlInput);var _=["autocorrect","autocapitalize","autocomplete","spellcheck"];ie(_,l=>{s.getAttribute(l)&&W(b,{[l]:s.getAttribute(l)})}),b.tabIndex=-1,u.appendChild(b),this.focus_node=b}else r.controlInput?(b=ke(r.controlInput),this.focus_node=b):(b=ke("<input/>"),this.focus_node=u);this.wrapper=c,this.dropdown=f,this.dropdown_content=v,this.control=u,this.control_input=b,this.setup()}setup(){const n=this,e=n.settings,i=n.control_input,s=n.dropdown,o=n.dropdown_content,r=n.wrapper,a=n.control,c=n.input,u=n.focus_node,f={passive:!0},v=n.inputId+"-ts-dropdown";W(o,{id:v}),W(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=Oi(u,n.inputId+"-ts-control"),A="label[for='"+Wp(n.inputId)+"']",b=document.querySelector(A),_=n.focus.bind(n);if(b){ae(b,"click",_),W(b,{for:y});const h=Oi(b,n.inputId+"-ts-label");W(u,{"aria-labelledby":h}),W(o,{"aria-labelledby":h})}if(r.style.width=c.style.width,n.plugins.names.length){const h="plugin-"+n.plugins.names.join(" plugin-");me([r,s],h)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&W(c,{multiple:"multiple"}),e.placeholder&&W(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+Nt(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Kp(e.load,e.loadThrottle)),ae(s,"mousemove",()=>{n.ignoreHover=!1}),ae(s,"mouseenter",h=>{var g=xi(h.target,"[data-selectable]",s);g&&n.onOptionHover(h,g)},{capture:!0}),ae(s,"click",h=>{const g=xi(h.target,"[data-selectable]");g&&(n.onOptionSelect(h,g),Q(h,!0))}),ae(a,"click",h=>{var g=xi(h.target,"[data-ts-item]",a);if(g&&n.onItemSelect(h,g)){Q(h,!0);return}i.value==""&&(n.onClick(),Q(h,!0))}),ae(u,"keydown",h=>n.onKeyDown(h)),ae(i,"keypress",h=>n.onKeyPress(h)),ae(i,"input",h=>n.onInput(h)),ae(u,"blur",h=>n.onBlur(h)),ae(u,"focus",h=>n.onFocus(h)),ae(i,"paste",h=>n.onPaste(h));const l=h=>{const g=h.composedPath()[0];if(!r.contains(g)&&!s.contains(g)){n.isFocused&&n.blur(),n.inputState();return}g==i&&n.isOpen?h.stopPropagation():Q(h,!0)},d=()=>{n.isOpen&&n.positionDropdown()};ae(document,"mousedown",l),ae(window,"scroll",d,f),ae(window,"resize",d,f),this._destroy=()=>{document.removeEventListener("mousedown",l),window.removeEventListener("scroll",d),window.removeEventListener("resize",d),b&&b.removeEventListener("click",_)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,ae(c,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,c.disabled?n.disable():c.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),me(c,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),ie(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var n=this,e=n.settings.labelField,i=n.settings.optgroupLabelField,s={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[i])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};n.settings.render=Object.assign({},s,n.settings.render)}setupCallbacks(){var n,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in i)e=this.settings[i[n]],e&&this.on(n,e)}sync(n=!0){const e=this,i=n?Br(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){Ci(this.input,"input"),Ci(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){Q(n);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var s=i.trim().split(e.settings.splitOn);ie(s,o=>{Oe(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){Q(n);return}var i=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),Q(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==Hr&&Q(n);return}switch(n.keyCode){case Xp:if(We(ln,n)&&e.control_input.value==""){Q(n),e.selectAll();return}break;case eg:e.isOpen&&(Q(n,!0),e.close()),e.clearActiveItems();return;case sg:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}Q(n);return;case ng:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}Q(n);return;case Zp:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),Q(n)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&Q(n);return;case tg:e.advanceSelection(-1,n);return;case ig:e.advanceSelection(1,n);return;case Hr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),Q(n)),e.settings.create&&e.createItem()&&Q(n));return;case $r:case rg:e.deleteSelection(n);return}e.isInputHidden&&!We(ln,n)&&Q(n)}onInput(n){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=zp(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),Q(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(n,e){var i,s=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(i=e.dataset.value,typeof i<"u"&&(s.lastQuery=null,s.addItem(i),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&n.type&&/click/.test(n.type)&&s.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(Q(n),i.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){const e=this;if(!e.canLoad(n))return;me(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,n,i)}loadCallback(n,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(n,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||je(i.wrapper,i.settings.loadingClass),i.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,i=e.value!==n;i&&(e.value=n,Ci(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var i=e?[]:["change"];Fr(this,i,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var i=this,s,o,r,a,c,u;if(i.settings.mode!=="single"){if(!n){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(s=e&&e.type.toLowerCase(),s==="click"&&We("shiftKey",e)&&i.activeItems.length){for(u=i.getLastActive(),r=Array.prototype.indexOf.call(i.control.children,u),a=Array.prototype.indexOf.call(i.control.children,n),r>a&&(c=r,r=a,a=c),o=r;o<=a;o++)n=i.control.children[o],i.activeItems.indexOf(n)===-1&&i.setActiveItemClass(n);Q(e)}else s==="click"&&We(ln,e)||s==="keydown"&&We("shiftKey",e)?n.classList.contains("active")?i.removeActiveItem(n):i.setActiveItemClass(n):(i.clearActiveItems(),i.setActiveItemClass(n));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(n){const e=this,i=e.control.querySelector(".last-active");i&&je(i,"last-active"),me(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),je(n,"active")}clearActiveItems(){je(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,W(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),W(n,{"aria-selected":"true"}),me(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;const i=this.dropdown_content,s=i.clientHeight,o=i.scrollTop||0,r=n.offsetHeight,a=n.getBoundingClientRect().top-i.getBoundingClientRect().top+o;a+r>s+o?this.scroll(a-s+r,e):a<o&&this.scroll(a,e)}scroll(n,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=n,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(je(this.activeOption,"active"),W(this.activeOption,{"aria-selected":null})),this.activeOption=null,W(this.focus_node,{"aria-activedescendant":null})}selectAll(){const n=this;if(n.settings.mode==="single")return;const e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,ie(e,i=>{n.setActiveItemClass(i)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(W(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&W(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,i,s=this,o=this.getSearchOptions();if(s.settings.score&&(i=s.settings.score.call(s,n),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==s.lastQuery?(s.lastQuery=n,e=s.sifter.search(n,Object.assign(o,{score:i})),s.currentResults=e):e=Object.assign({},s.currentResults),s.settings.hideSelected&&(e.items=e.items.filter(r=>{let a=Oe(r.id);return!(a&&s.items.indexOf(a)!==-1)})),e}refreshOptions(n=!0){var e,i,s,o,r,a,c,u,f,v;const y={},A=[];var b=this,_=b.inputValue();const l=_===b.lastQuery||_==""&&b.lastQuery==null;var d=b.search(_),h=null,g=b.settings.shouldOpen||!1,O=b.dropdown_content;l&&(h=b.activeOption,h&&(f=h.closest("[data-group]"))),o=d.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(g=!0);const L=(C,D)=>{let E=y[C];if(E!==void 0){let M=A[E];if(M!==void 0)return[E,M.fragment]}let I=document.createDocumentFragment();return E=A.length,A.push({fragment:I,order:D,optgroup:C}),[E,I]};for(e=0;e<o;e++){let C=d.items[e];if(!C)continue;let D=C.id,E=b.options[D];if(E===void 0)continue;let I=gn(D),M=b.getOption(I,!0);for(b.settings.hideSelected||M.classList.toggle("selected",b.items.includes(I)),r=E[b.settings.optgroupField]||"",a=Array.isArray(r)?r:[r],i=0,s=a&&a.length;i<s;i++){r=a[i];let z=E.$order,K=b.optgroups[r];K===void 0?r="":z=K.$order;const[Ae,De]=L(r,z);i>0&&(M=M.cloneNode(!0),W(M,{id:E.$id+"-clone-"+i,"aria-selected":null}),M.classList.add("ts-cloned"),je(M,"active"),b.activeOption&&b.activeOption.dataset.value==D&&f&&f.dataset.group===r.toString()&&(h=M)),De.appendChild(M),r!=""&&(y[r]=Ae)}}b.settings.lockOptgroupOrder&&A.sort((C,D)=>C.order-D.order),c=document.createDocumentFragment(),ie(A,C=>{let D=C.fragment,E=C.optgroup;if(!D||!D.children.length)return;let I=b.optgroups[E];if(I!==void 0){let M=document.createDocumentFragment(),z=b.render("optgroup_header",I);Je(M,z),Je(M,D);let K=b.render("optgroup",{group:I,options:M});Je(c,K)}else Je(c,D)}),O.innerHTML="",Je(O,c),b.settings.highlight&&(Qp(O),d.query.length&&d.tokens.length&&ie(d.tokens,C=>{Gp(O,C.regex)}));var T=C=>{let D=b.render(C,{input:_});return D&&(g=!0,O.insertBefore(D,O.firstChild)),D};if(b.loading?T("loading"):b.settings.shouldLoad.call(b,_)?d.items.length===0&&T("no_results"):T("not_loading"),u=b.canCreate(_),u&&(v=T("option_create")),b.hasOptions=d.items.length>0||u,g){if(d.items.length>0){if(!h&&b.settings.mode==="single"&&b.items[0]!=null&&(h=b.getOption(b.items[0])),!O.contains(h)){let C=0;v&&!b.settings.addPrecedence&&(C=1),h=b.selectable()[C]}}else v&&(h=v);n&&!b.isOpen&&(b.open(),b.scrollToOption(h,"auto")),b.setActiveOption(h)}else b.clearActiveOption(),n&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){const i=this;if(Array.isArray(n))return i.addOptions(n,e),!1;const s=Oe(n[i.settings.valueField]);return s===null||i.options.hasOwnProperty(s)?!1:(n.$order=n.$order||++i.order,n.$id=i.inputId+"-opt-"+n.$order,i.options[s]=n,i.lastQuery=null,e&&(i.userOptions[s]=e,i.trigger("option_add",s,n)),s)}addOptions(n,e=!1){ie(n,i=>{this.addOption(i,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=Oe(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var i;e[this.settings.optgroupValueField]=n,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){const i=this;var s,o;const r=Oe(n),a=Oe(e[i.settings.valueField]);if(r===null)return;const c=i.options[r];if(c==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=i.getOption(r),f=i.getItem(r);if(e.$order=e.$order||c.$order,delete i.options[r],i.uncacheValue(a),i.options[a]=e,u){if(i.dropdown_content.contains(u)){const v=i._render("option",e);Xi(u,v),i.activeOption===u&&i.setActiveOption(v)}u.remove()}f&&(o=i.items.indexOf(r),o!==-1&&i.items.splice(o,1,a),s=i._render("item",e),f.classList.contains("active")&&me(s,"active"),Xi(f,s)),i.lastQuery=null}removeOption(n,e){const i=this;n=gn(n),i.uncacheValue(n),delete i.userOptions[n],delete i.options[n],i.lastQuery=null,i.trigger("option_remove",n),i.removeItem(n,e)}clearOptions(n){const e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};ie(this.options,(s,o)=>{e(s,o)&&(i[o]=s)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){const i=Oe(n);if(i===null)return null;const s=this.options[i];if(s!=null){if(s.$div)return s.$div;if(e)return this._render("option",s)}return null}getAdjacent(n,e,i="option"){var s=this,o;if(!n)return null;i=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==n)return e>0?o[r+1]:o[r-1];return null}getItem(n){if(typeof n=="object")return n;var e=Oe(n);return e!==null?this.control.querySelector(`[data-value="${Pr(e)}"]`):null}addItems(n,e){var i=this,s=Array.isArray(n)?n:[n];s=s.filter(r=>i.items.indexOf(r)===-1);const o=s[s.length-1];s.forEach(r=>{i.isPending=r!==o,i.addItem(r,e)})}addItem(n,e){var i=e?[]:["change","dropdown_close"];Fr(this,i,()=>{var s,o;const r=this,a=r.settings.mode,c=Oe(n);if(!(c&&r.items.indexOf(c)!==-1&&(a==="single"&&r.close(),a==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(a==="single"&&r.clear(e),!(a==="multi"&&r.isFull()))){if(s=r._render("item",r.options[c]),r.control.contains(s)&&(s=s.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(s),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let u=r.getOption(c),f=r.getAdjacent(u,1);f&&r.setActiveOption(f)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&a!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,s),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(n=null,e){const i=this;if(n=i.getItem(n),!n)return;var s,o;const r=n.dataset.value;s=Rr(n),n.remove(),n.classList.contains("active")&&(o=i.activeItems.indexOf(n),i.activeItems.splice(o,1),je(n,"active")),i.items.splice(s,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(r)&&i.removeOption(r,e),s<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",r,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,s=i.caretPos,o;if(n=n||i.inputValue(),!i.canCreate(n))return e(),!1;i.lock();var r=!1,a=c=>{if(i.unlock(),!c||typeof c!="object")return e();var u=Oe(c[i.settings.valueField]);if(typeof u!="string")return e();i.setTextboxValue(),i.addOption(c,!0),i.setCaret(s),i.addItem(u),e(c),r=!0};return typeof i.settings.create=="function"?o=i.settings.create.call(this,n,a):o={[i.settings.labelField]:n,[i.settings.valueField]:n},r||a(o),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){const n=this;n.refreshValidityState();const e=n.isFull(),i=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);const s=n.wrapper.classList;s.toggle("focus",n.isFocused),s.toggle("disabled",n.isDisabled),s.toggle("readonly",n.isReadOnly),s.toggle("required",n.isRequired),s.toggle("invalid",!n.isValid),s.toggle("locked",i),s.toggle("full",e),s.toggle("input-active",n.isFocused&&!n.isInputHidden),s.toggle("dropdown-active",n.isOpen),s.toggle("has-options",Jp(n.options)),s.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){const e=this;var i,s;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let u=function(f,v,y){return f||(f=ke('<option value="'+_i(v)+'">'+_i(y)+"</option>")),f!=o&&e.input.append(f),a.push(f),(f!=o||c>0)&&(f.selected=!0),f};var r=u;const a=[],c=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(f=>{f.selected=!1}),e.items.length==0&&e.settings.mode=="single"?u(o,"",""):e.items.forEach(f=>{if(i=e.options[f],s=i[e.settings.labelField]||"",a.includes(i.$option)){const v=e.input.querySelector(`option[value="${Pr(f)}"]:not(:checked)`);u(v,f,s)}else i.$option=u(i.$option,f,s)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,W(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),an(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),an(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,i=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,W(e.focus_node,{"aria-expanded":"false"}),an(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),i=n.offsetHeight+e.top+window.scrollY,s=e.left+window.scrollX;an(this.dropdown,{width:e.width+"px",top:i+"px",left:s+"px"})}}clear(n){var e=this;if(e.items.length){var i=e.controlChildren();ie(i,s=>{e.removeItem(s,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){const e=this,i=e.caretPos,s=e.control;s.insertBefore(n,s.children[i]||null),e.setCaret(i+1)}deleteSelection(n){var e,i,s,o,r=this;e=n&&n.keyCode===$r?-1:1,i=Yp(r.control_input);const a=[];if(r.activeItems.length)o=Nr(r.activeItems,e),s=Rr(o),e>0&&s++,ie(r.activeItems,c=>a.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let u;e<0&&i.start===0&&i.length===0?u=c[r.caretPos-1]:e>0&&i.start===r.inputValue().length&&(u=c[r.caretPos]),u!==void 0&&a.push(u)}if(!r.shouldDelete(a,n))return!1;for(Q(n,!0),typeof s<"u"&&r.setCaret(s);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(n,e){const i=n.map(s=>s.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(n,e){var i,s,o=this;o.rtl&&(n*=-1),!o.inputValue().length&&(We(ln,e)||We("shiftKey",e)?(i=o.getLastActive(n),i?i.classList.contains("active")?s=o.getAdjacent(i,n,"item"):s=i:n>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(s))):o.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return Nr(i,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,je(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var i,s;const o=this;if(typeof this.settings.render[n]!="function"||(s=o.settings.render[n].call(this,e,_i),!s))return null;if(s=ke(s),n==="option"||n==="option_create"?e[o.settings.disabledField]?W(s,{"aria-disabled":"true"}):W(s,{"data-selectable":""}):n==="optgroup"&&(i=e.group[o.settings.optgroupValueField],W(s,{"data-group":i}),e.group[o.settings.disabledField]&&W(s,{"data-disabled":""})),n==="option"||n==="item"){const r=gn(e[o.settings.valueField]);W(s,{"data-value":r}),n==="item"?(me(s,o.settings.itemClass),W(s,{"data-ts-item":""})):(me(s,o.settings.optionClass),W(s,{role:"option",id:e.$id}),e.$div=s,o.options[r]=e)}return s}_render(n,e){const i=this.render(n,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){ie(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){const e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,i){var s=this,o=s[e];s[e]=function(){var r,a;return n==="after"&&(r=o.apply(s,arguments)),a=i.apply(s,arguments),n==="instead"?a:(n==="before"&&(r=o.apply(s,arguments)),r)}}}const ag=(t,n,e,i)=>{t.addEventListener(n,e,i)};function lg(){ag(this.input,"change",()=>{this.sync()})}const cg=t=>typeof t>"u"||t===null?null:ug(t),ug=t=>typeof t=="boolean"?t?"1":"0":t+"",Vr=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},dg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(fg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},fg=t=>typeof t=="string"&&t.indexOf("<")>-1;function hg(t){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(a,c){c?(a.checked=!0,i.uncheckedClassNames&&a.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&a.classList.add(...i.checkedClassNames)):(a.checked=!1,i.checkedClassNames&&a.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&a.classList.add(...i.uncheckedClassNames))},o=function(a){setTimeout(()=>{var c=a.querySelector("input."+i.className);c instanceof HTMLInputElement&&s(c,a.classList.contains("selected"))},1)};n.hook("after","setupTemplates",()=>{var r=n.settings.render.option;n.settings.render.option=(a,c)=>{var u=dg(r.call(n,a,c)),f=document.createElement("input");i.className&&f.classList.add(i.className),f.addEventListener("click",function(y){Vr(y)}),f.type="checkbox";const v=cg(a[n.settings.valueField]);return s(f,!!(v&&n.items.indexOf(v)>-1)),u.prepend(f),u}}),n.on("item_remove",r=>{var a=n.getOption(r);a&&(a.classList.remove("selected"),o(a))}),n.on("item_add",r=>{var a=n.getOption(r);a&&o(a)}),n.hook("instead","onOptionSelect",(r,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),n.removeItem(a.dataset.value),n.refreshOptions(),Vr(r,!0);return}e.call(n,r,a),o(a)})}const pg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(gg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},gg=t=>typeof t=="string"&&t.indexOf("<")>-1;function mg(t){const n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},t);n.on("initialize",()=>{var i=pg(e.html(e));i.addEventListener("click",s=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),s.preventDefault(),s.stopPropagation())}),n.control.appendChild(i)})}const vg=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},ct=(t,n,e,i)=>{t.addEventListener(n,e,i)},bg=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},yg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(wg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},wg=t=>typeof t=="string"&&t.indexOf("<")>-1,_g=(t,n)=>{bg(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},Og=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t.nextSibling)},Cg=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t)},xg=(t,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,t==n)return!0}while(n&&n.previousElementSibling);return!1};function Sg(){var t=this;if(t.settings.mode!=="multi")return;var n=t.lock,e=t.unlock;let i=!0,s;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(r,a)=>{const c=yg(o.call(t,r,a));_g(c,{draggable:"true"});const u=_=>{i||vg(_),_.stopPropagation()},f=_=>{s=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=_=>{_.preventDefault(),c.classList.add("ts-drag-over"),A(c,s)},y=()=>{c.classList.remove("ts-drag-over")},A=(_,l)=>{l!==void 0&&(xg(l,c)?Og(_,l):Cg(_,l))},b=()=>{var _;document.querySelectorAll(".ts-drag-over").forEach(d=>d.classList.remove("ts-drag-over")),(_=s)==null||_.classList.remove("ts-dragging"),s=void 0;var l=[];t.control.querySelectorAll("[data-value]").forEach(d=>{if(d.dataset.value){let h=d.dataset.value;h&&l.push(h)}}),t.setValue(l)};return ct(c,"mousedown",u),ct(c,"dragstart",f),ct(c,"dragenter",v),ct(c,"dragover",v),ct(c,"dragleave",y),ct(c,"dragend",b),c}}),t.hook("instead","lock",()=>(i=!1,n.call(t))),t.hook("instead","unlock",()=>(i=!0,e.call(t)))}const Eg=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Ag=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Dg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Dg=t=>typeof t=="string"&&t.indexOf("<")>-1;function Tg(t){const n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},t);n.on("initialize",()=>{var i=Ag(e.html(e)),s=i.querySelector("."+e.closeClass);s&&s.addEventListener("click",o=>{Eg(o,!0),n.close()}),n.dropdown.insertBefore(i,n.dropdown.firstChild)})}const Lg=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},kg=(t,...n)=>{var e=Mg(n);t=Ig(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},Mg=t=>{var n=[];return Lg(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Ig=t=>(Array.isArray(t)||(t=[t]),t),Fg=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Pg(){var t=this;t.hook("instead","setCaret",n=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?n=t.items.length:(n=Math.max(0,Math.min(t.items.length,n)),n!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((e,i)=>{i<n?t.control_input.insertAdjacentElement("beforebegin",e):t.control.appendChild(e)})),t.caretPos=n}),t.hook("instead","moveCaret",n=>{if(!t.isFocused)return;const e=t.getLastActive(n);if(e){const i=Fg(e);t.setCaret(n>0?i+1:i),t.setActiveItem(),kg(e,"last-active")}else t.setCaret(t.caretPos+n)})}const Ng=27,Rg=9,$g=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Hg=(t,n,e,i)=>{t.addEventListener(n,e,i)},jg=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Ur=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Bg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Bg=t=>typeof t=="string"&&t.indexOf("<")>-1,qg=(t,...n)=>{var e=Vg(n);t=Ug(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},Vg=t=>{var n=[];return jg(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Ug=t=>(Array.isArray(t)||(t=[t]),t);function zg(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,qg(t.control_input,"dropdown-input");const n=Ur('<div class="dropdown-input-wrap">');n.append(t.control_input),t.dropdown.insertBefore(n,t.dropdown.firstChild);const e=Ur('<input class="items-placeholder" tabindex="-1" />');e.placeholder=t.settings.placeholder||"",t.control.append(e)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case Ng:t.isOpen&&($g(e,!0),t.close()),t.clearActiveItems();return;case Rg:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,e)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const n=t.onBlur;t.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==t.control_input))return n.call(t)}),Hg(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const cn=(t,n,e,i)=>{t.addEventListener(n,e,i)};function Kg(){var t=this;t.on("initialize",()=>{var n=document.createElement("span"),e=t.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(n);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of i)n.style[o]=e.style[o];var s=()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"};s(),t.on("update item_add item_remove",s),cn(e,"input",s),cn(e,"keyup",s),cn(e,"blur",s),cn(e,"update",s)})}function Yg(){var t=this,n=t.deleteSelection;this.hook("instead","deleteSelection",e=>t.activeItems.length?n.call(t,e):!1)}function Wg(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const zr=37,Jg=39,Gg=(t,n,e)=>{for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Qg=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Xg(){var t=this,n=t.onKeyDown;t.hook("instead","onKeyDown",e=>{var i,s,o,r;if(!t.isOpen||!(e.keyCode===zr||e.keyCode===Jg))return n.call(t,e);t.ignoreHover=!0,r=Gg(t.activeOption,"[data-group]"),i=Qg(t.activeOption,"[data-selectable]"),r&&(e.keyCode===zr?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,i)],s&&t.setActiveOption(s)))})}const Zg=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Kr=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Yr=(t,n,e,i)=>{t.addEventListener(n,e,i)},Wr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(em(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},em=t=>typeof t=="string"&&t.indexOf("<")>-1;function tm(t){const n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var e=this;if(n.append){var i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+Zg(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var s=e.settings.render.item;e.settings.render.item=(o,r)=>{var a=Wr(s.call(e,o,r)),c=Wr(i);return a.appendChild(c),Yr(c,"mousedown",u=>{Kr(u,!0)}),Yr(c,"click",u=>{e.isLocked||(Kr(u,!0),!e.isLocked&&e.shouldDelete([a],u)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function nm(t){const n=this,e=Object.assign({text:i=>i[n.settings.labelField]},t);n.on("item_remove",function(i){if(n.isFocused&&n.control_input.value.trim()===""){var s=n.options[i];s&&n.setTextboxValue(e.text.call(n,s))}})}const im=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},sm=(t,...n)=>{var e=rm(n);t=om(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},rm=t=>{var n=[];return im(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},om=t=>(Array.isArray(t)||(t=[t]),t);function am(){const t=this,n=t.canLoad,e=t.clearActiveOption,i=t.loadCallback;var s={},o,r=!1,a,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var y=t.selectable(),A=Array.from(y).indexOf(t.activeOption);if(A>=y.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const u=v=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(v in s&&s[v]),f=(v,y)=>t.items.indexOf(y)>=0||c.indexOf(y)>=0;t.setNextUrl=(v,y)=>{s[v]=y},t.getUrl=v=>{if(v in s){const y=s[v];return s[v]=!1,y}return t.clearPagination(),t.settings.firstUrl.call(t,v)},t.clearPagination=()=>{s={}},t.hook("instead","clearActiveOption",()=>{if(!r)return e.call(t)}),t.hook("instead","canLoad",v=>v in s?u(v):n.call(t,v)),t.hook("instead","loadCallback",(v,y)=>{if(!r)t.clearOptions(f);else if(a){const A=v[0];A!==void 0&&(a.dataset.value=A[t.settings.valueField])}i.call(t,v,y),r=!1}),t.hook("after","refreshOptions",()=>{const v=t.lastValue;var y;u(v)?(y=t.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),a=y)):v in s&&!o.querySelector(".no-results")&&(y=t.render("no_more_results",{query:v})),y&&(sm(y,t.settings.optionClass),o.append(y))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&u(t.lastValue)&&(r||(r=!0,t.load.call(t,t.lastValue)))})})}ue.define("change_listener",lg);ue.define("checkbox_options",hg);ue.define("clear_button",mg);ue.define("drag_drop",Sg);ue.define("dropdown_header",Tg);ue.define("caret_position",Pg);ue.define("dropdown_input",zg);ue.define("input_autogrow",Kg);ue.define("no_backspace_delete",Yg);ue.define("no_active_items",Wg);ue.define("optgroup_columns",Xg);ue.define("remove_button",tm);ue.define("restore_on_backspace",nm);ue.define("virtual_scroll",am);window.SlimSelect=Op;window.TomSelect=ue;window.Alpine=ka;ka.start();const Jr=document.querySelector('meta[name="csrf-token"]').getAttribute("content");function Fe(t,n,e=""){toastr.options={closeButton:!0,newestOnTop:!0,progressBar:!0,positionClass:"toast-top-right",preventDuplicates:!0,timeOut:"5000"},toastr[t](n,e)}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("page-data");if(t){let y=function(l){$("#confirmPurchaseModalBody").html(`<p>No payment required  you're just about to connect to this plan absolutely free!</p>
<div class="alert alert-info">
  <h5 class="alert-heading">${l.name}</h5>
  <p class="mb-0">A total of <strong>KES 0.00</strong> will be deducted from your balance.</p>
</div>
`),$("#confirmPurchaseBtn").off("click").on("click",()=>{$("#confirmPurchaseModal").modal("hide"),_(l)}),$("#confirmPurchaseModal").modal("show")},A=function(l,d,h){const g=l.price-d,O=`
                <p><strong>Plan selected:</strong> ${l.name}</p>
                <p><strong>Account Credit:</strong> KES ${d}</p>
                <p class="fs-5">You'll pay <strong>KES ${g}</strong> to complete the subscription</p>
                <div class="input-group mb-3"><span class="input-group-text">MPESA No.</span><input type="tel" class="form-control" id="mpesaNumber" value="${h}"></div>
                <div class="d-flex justify-content-between align-items-center"><button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button><button class="btn btn-primary" id="initiateStkPushBtn">Pay</button></div>
                <hr><div class="text-center my-3"><strong>OR</strong></div>
                <div class="paybill-instructions"><p class="fw-bold">Use our PAYBILL instructions</p><ol class="ps-3"><li>Go to M-PESA on your phone</li><li>Select Pay Bill option</li><li>Enter Business no: <strong>4140961</strong></li><li>Enter Account no: <strong>${h}</strong></li><li>Enter the Amount: <strong>${g}</strong></li><li>Enter your M-PESA PIN and Send</li><li><strong>Check back and proceed after making payment.</strong></li></ol></div>
            `;$("#paymentModalBody").html(O),$("#initiateStkPushBtn").on("click",()=>{b(l)}),$("#paymentModal").modal("show")},b=function(l){$("#paymentModal").modal("hide"),Fe("success","Please check your phone for the prompt.","STK Push initiated!"),setTimeout(()=>{Fe("info","Payment received. Activating your plan..."),_(l)},4e3)},_=function(l){Fe("info",`Activating your ${l.name} plan...`),fetch(f,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":Jr,Accept:"application/json"},body:JSON.stringify({plan_id:l.id})}).then(d=>d.json()).then(d=>{d.success&&(Fe("success",`Your ${l.name} plan is now active. Enjoy!`,"Subscription Complete!"),setTimeout(()=>{window.location.href=d.redirect_url},2e3))}).catch(()=>Fe("error","Activation failed. Please contact support."))};var e=y,i=A,s=b,o=_;localStorage.getItem("amazons_welcome_seen")||setTimeout(()=>{new bootstrap.Modal(document.getElementById("welcomeBackModal")).show(),document.getElementById("welcomeBackModal").addEventListener("hidden.bs.modal",()=>{localStorage.setItem("amazons_welcome_seen","true")})},500);const a=parseInt(t.dataset.userCredit,10),c=t.dataset.userPhone,u=JSON.parse(t.dataset.plans),f=t.dataset.buyUrl,v=t.dataset.voucherUrl;$("#imageSlider").owlCarousel({items:1,loop:!0,autoplay:!0,autoplayTimeout:4e3,autoplayHoverPause:!0,dots:!1,nav:!1}),$("#refreshBtn").on("click",function(){$(this).addClass("rotating"),Fe("info","Refreshing your data..."),setTimeout(()=>{$(this).removeClass("rotating"),toastr.clear(),Fe("success","Data refreshed!")},1500)}),$("#voucherConnectBtn").on("click",function(){const l=$(this);l.prop("disabled",!0).text("..."),fetch(v,{method:"POST",headers:{"X-CSRF-TOKEN":Jr,Accept:"application/json"}}).then(d=>d.json()).then(d=>{d.success&&(Fe("success","Voucher connected successfully! Redirecting...","Success"),setTimeout(()=>window.location.href=d.redirect_url,1500))}).catch(()=>Fe("error","Something went wrong.")).finally(()=>l.prop("disabled",!1).text("CONNECT"))}),$("#packagesBox").on("click",".subscribePlanBtn",function(){const l=$(this).data("package-id"),d=u.find(h=>h.id===l);a>=d.price?y(d):A(d,a,c)}),window.location.search.includes("reset_welcome")&&(localStorage.removeItem("amazons_welcome_seen"),window.location.href=window.location.pathname)}const n=document.getElementById("connected-svg-container");n&&(n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200" style="width:100%;height:100%;">
  <defs>
    <!-- Gradient for modern look -->
    <linearGradient id="wifiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00D4FF;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0080FF;stop-opacity:1" />
    </linearGradient>
    
    <!-- Glow effect -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <!-- Drop shadow -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-color="rgba(0,0,0,0.3)"/>
    </filter>
  </defs>
  
  <!-- Background circle -->
  <circle cx="100" cy="100" r="90" fill="url(#wifiGradient)" opacity="0.1" filter="url(#shadow)"/>
  
  <!-- WiFi signal arcs -->
  <g fill="none" stroke="url(#wifiGradient)" stroke-linecap="round" filter="url(#glow)">
    <!-- Outermost arc -->
    <path d="M 40 120 Q 100 60 160 120" stroke-width="6" opacity="0.8"/>
    
    <!-- Middle arc -->
    <path d="M 55 125 Q 100 80 145 125" stroke-width="5" opacity="0.9"/>
    
    <!-- Inner arc -->
    <path d="M 70 130 Q 100 100 130 130" stroke-width="4" opacity="1"/>
  </g>
  
  <!-- Central dot (connection point) -->
  <circle cx="100" cy="140" r="8" fill="url(#wifiGradient)" filter="url(#glow)"/>
  
  <!-- Connection indicator dots -->
  <g fill="url(#wifiGradient)" opacity="0.8">
    <circle cx="120" cy="130" r="3">
      <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite"/>
    </circle>
    <circle cx="135" cy="125" r="2.5">
      <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite" begin="0.3s"/>
    </circle>
    <circle cx="80" cy="130" r="3">
      <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite" begin="0.6s"/>
    </circle>
    <circle cx="65" cy="125" r="2.5">
      <animate attributeName="opacity" values="0.3;1;0.3" dur="2s" repeatCount="indefinite" begin="0.9s"/>
    </circle>
  </g>
  
  <!-- Signal strength bars -->
  <g fill="url(#wifiGradient)" opacity="0.7">
    <rect x="145" y="100" width="4" height="20" rx="2">
      <animate attributeName="height" values="15;25;15" dur="1.5s" repeatCount="indefinite"/>
      <animate attributeName="y" values="105;95;105" dur="1.5s" repeatCount="indefinite"/>
    </rect>
    <rect x="152" y="95" width="4" height="30" rx="2">
      <animate attributeName="height" values="25;35;25" dur="1.5s" repeatCount="indefinite" begin="0.2s"/>
      <animate attributeName="y" values="100;90;100" dur="1.5s" repeatCount="indefinite" begin="0.2s"/>
    </rect>
    <rect x="159" y="90" width="4" height="40" rx="2">
      <animate attributeName="height" values="35;45;35" dur="1.5s" repeatCount="indefinite" begin="0.4s"/>
      <animate attributeName="y" values="95;85;95" dur="1.5s" repeatCount="indefinite" begin="0.4s"/>
    </rect>
  </g>

  <!-- Connected checkmark -->
  <g transform="translate(160,60)" opacity="0.9">
    <circle cx="0" cy="0" r="15" fill="#00FF88" filter="url(#shadow)"/>
    <path d="M -6 0 L -2 4 L 6 -4" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
  </g>
</svg>`)});
