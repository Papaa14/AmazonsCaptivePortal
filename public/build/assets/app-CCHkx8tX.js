var _l=Object.defineProperty;var Ol=(t,n,e)=>n in t?_l(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var qe=(t,n,e)=>(Ol(t,typeof n!="symbol"?n+"":n,e),e);import{c as Cl,g as xl}from"./_commonjsHelpers-BosuxZz1.js";function Yr(t,n){return function(){return t.apply(n,arguments)}}const{toString:Sl}=Object.prototype,{getPrototypeOf:Qi}=Object,An=(t=>n=>{const e=Sl.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),xe=t=>(t=t.toLowerCase(),n=>An(n)===t),Dn=t=>n=>typeof n===t,{isArray:ht}=Array,Tt=Dn("undefined");function El(t){return t!==null&&!Tt(t)&&t.constructor!==null&&!Tt(t.constructor)&&ye(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Wr=xe("ArrayBuffer");function Al(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&Wr(t.buffer),n}const Dl=Dn("string"),ye=Dn("function"),Jr=Dn("number"),Ln=t=>t!==null&&typeof t=="object",Ll=t=>t===!0||t===!1,ln=t=>{if(An(t)!=="object")return!1;const n=Qi(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tl=xe("Date"),kl=xe("File"),Ml=xe("Blob"),Il=xe("FileList"),Fl=t=>Ln(t)&&ye(t.pipe),Pl=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||ye(t.append)&&((n=An(t))==="formdata"||n==="object"&&ye(t.toString)&&t.toString()==="[object FormData]"))},Nl=xe("URLSearchParams"),[Rl,$l,Hl,jl]=["ReadableStream","Request","Response","Headers"].map(xe),Bl=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pt(t,n,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),ht(t))for(i=0,s=t.length;i<s;i++)n.call(null,t[i],i,t);else{const o=e?Object.getOwnPropertyNames(t):Object.keys(t),r=o.length;let a;for(i=0;i<r;i++)a=o[i],n.call(null,t[a],a,t)}}function Gr(t,n){n=n.toLowerCase();const e=Object.keys(t);let i=e.length,s;for(;i-- >0;)if(s=e[i],n===s.toLowerCase())return s;return null}const Qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xr=t=>!Tt(t)&&t!==Qr;function Ci(){const{caseless:t}=Xr(this)&&this||{},n={},e=(i,s)=>{const o=t&&Gr(n,s)||s;ln(n[o])&&ln(i)?n[o]=Ci(n[o],i):ln(i)?n[o]=Ci({},i):ht(i)?n[o]=i.slice():n[o]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Pt(arguments[i],e);return n}const Vl=(t,n,e,{allOwnKeys:i}={})=>(Pt(n,(s,o)=>{e&&ye(s)?t[o]=Yr(s,e):t[o]=s},{allOwnKeys:i}),t),ql=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ul=(t,n,e,i)=>{t.prototype=Object.create(n.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},zl=(t,n,e,i)=>{let s,o,r;const a={};if(n=n||{},t==null)return n;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)r=s[o],(!i||i(r,t,n))&&!a[r]&&(n[r]=t[r],a[r]=!0);t=e!==!1&&Qi(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},Kl=(t,n,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=n.length;const i=t.indexOf(n,e);return i!==-1&&i===e},Yl=t=>{if(!t)return null;if(ht(t))return t;let n=t.length;if(!Jr(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},Wl=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Qi(Uint8Array)),Jl=(t,n)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const o=s.value;n.call(t,o[0],o[1])}},Gl=(t,n)=>{let e;const i=[];for(;(e=t.exec(n))!==null;)i.push(e);return i},Ql=xe("HTMLFormElement"),Xl=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,s){return i.toUpperCase()+s}),Ns=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),Zl=xe("RegExp"),Zr=(t,n)=>{const e=Object.getOwnPropertyDescriptors(t),i={};Pt(e,(s,o)=>{let r;(r=n(s,o,t))!==!1&&(i[o]=r||s)}),Object.defineProperties(t,i)},ec=t=>{Zr(t,(n,e)=>{if(ye(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=t[e];if(ye(i)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},tc=(t,n)=>{const e={},i=s=>{s.forEach(o=>{e[o]=!0})};return ht(t)?i(t):i(String(t).split(n)),e},nc=()=>{},ic=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n,Jn="abcdefghijklmnopqrstuvwxyz",Rs="0123456789",eo={DIGIT:Rs,ALPHA:Jn,ALPHA_DIGIT:Jn+Jn.toUpperCase()+Rs},sc=(t=16,n=eo.ALPHA_DIGIT)=>{let e="";const{length:i}=n;for(;t--;)e+=n[Math.random()*i|0];return e};function rc(t){return!!(t&&ye(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const oc=t=>{const n=new Array(10),e=(i,s)=>{if(Ln(i)){if(n.indexOf(i)>=0)return;if(!("toJSON"in i)){n[s]=i;const o=ht(i)?[]:{};return Pt(i,(r,a)=>{const c=e(r,s+1);!Tt(c)&&(o[a]=c)}),n[s]=void 0,o}}return i};return e(t,0)},ac=xe("AsyncFunction"),lc=t=>t&&(Ln(t)||ye(t))&&ye(t.then)&&ye(t.catch),S={isArray:ht,isArrayBuffer:Wr,isBuffer:El,isFormData:Pl,isArrayBufferView:Al,isString:Dl,isNumber:Jr,isBoolean:Ll,isObject:Ln,isPlainObject:ln,isReadableStream:Rl,isRequest:$l,isResponse:Hl,isHeaders:jl,isUndefined:Tt,isDate:Tl,isFile:kl,isBlob:Ml,isRegExp:Zl,isFunction:ye,isStream:Fl,isURLSearchParams:Nl,isTypedArray:Wl,isFileList:Il,forEach:Pt,merge:Ci,extend:Vl,trim:Bl,stripBOM:ql,inherits:Ul,toFlatObject:zl,kindOf:An,kindOfTest:xe,endsWith:Kl,toArray:Yl,forEachEntry:Jl,matchAll:Gl,isHTMLForm:Ql,hasOwnProperty:Ns,hasOwnProp:Ns,reduceDescriptors:Zr,freezeMethods:ec,toObjectSet:tc,toCamelCase:Xl,noop:nc,toFiniteNumber:ic,findKey:Gr,global:Qr,isContextDefined:Xr,ALPHABET:eo,generateString:sc,isSpecCompliantForm:rc,toJSONObject:oc,isAsyncFn:ac,isThenable:lc};function $(t,n,e,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),i&&(this.request=i),s&&(this.response=s)}S.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:S.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const to=$.prototype,no={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{no[t]={value:t}});Object.defineProperties($,no);Object.defineProperty(to,"isAxiosError",{value:!0});$.from=(t,n,e,i,s,o)=>{const r=Object.create(to);return S.toFlatObject(t,r,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),$.call(r,t.message,n,e,i,s),r.cause=t,r.name=t.name,o&&Object.assign(r,o),r};const cc=null;function xi(t){return S.isPlainObject(t)||S.isArray(t)}function io(t){return S.endsWith(t,"[]")?t.slice(0,-2):t}function $s(t,n,e){return t?t.concat(n).map(function(s,o){return s=io(s),!e&&o?"["+s+"]":s}).join(e?".":""):n}function uc(t){return S.isArray(t)&&!t.some(xi)}const dc=S.toFlatObject(S,{},null,function(n){return/^is[A-Z]/.test(n)});function Tn(t,n,e){if(!S.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,e=S.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,l){return!S.isUndefined(l[_])});const i=e.metaTokens,s=e.visitor||h,o=e.dots,r=e.indexes,c=(e.Blob||typeof Blob<"u"&&Blob)&&S.isSpecCompliantForm(n);if(!S.isFunction(s))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(S.isDate(b))return b.toISOString();if(!c&&S.isBlob(b))throw new $("Blob is not supported. Use a Buffer instead.");return S.isArrayBuffer(b)||S.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,_,l){let d=b;if(b&&!l&&typeof b=="object"){if(S.endsWith(_,"{}"))_=i?_:_.slice(0,-2),b=JSON.stringify(b);else if(S.isArray(b)&&uc(b)||(S.isFileList(b)||S.endsWith(_,"[]"))&&(d=S.toArray(b)))return _=io(_),d.forEach(function(g,O){!(S.isUndefined(g)||g===null)&&n.append(r===!0?$s([_],O,o):r===null?_:_+"[]",u(g))}),!1}return xi(b)?!0:(n.append($s(l,_,o),u(b)),!1)}const v=[],y=Object.assign(dc,{defaultVisitor:h,convertValue:u,isVisitable:xi});function L(b,_){if(!S.isUndefined(b)){if(v.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));v.push(b),S.forEach(b,function(d,f){(!(S.isUndefined(d)||d===null)&&s.call(n,d,S.isString(f)?f.trim():f,_,y))===!0&&L(d,_?_.concat(f):[f])}),v.pop()}}if(!S.isObject(t))throw new TypeError("data must be an object");return L(t),n}function Hs(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return n[i]})}function Xi(t,n){this._pairs=[],t&&Tn(t,this,n)}const so=Xi.prototype;so.append=function(n,e){this._pairs.push([n,e])};so.toString=function(n){const e=n?function(i){return n.call(this,i,Hs)}:Hs;return this._pairs.map(function(s){return e(s[0])+"="+e(s[1])},"").join("&")};function fc(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ro(t,n,e){if(!n)return t;const i=e&&e.encode||fc,s=e&&e.serialize;let o;if(s?o=s(n,e):o=S.isURLSearchParams(n)?n.toString():new Xi(n,e).toString(i),o){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class js{constructor(){this.handlers=[]}use(n,e,i){return this.handlers.push({fulfilled:n,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){S.forEach(this.handlers,function(i){i!==null&&n(i)})}}const oo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hc=typeof URLSearchParams<"u"?URLSearchParams:Xi,pc=typeof FormData<"u"?FormData:null,gc=typeof Blob<"u"?Blob:null,mc={isBrowser:!0,classes:{URLSearchParams:hc,FormData:pc,Blob:gc},protocols:["http","https","file","blob","url","data"]},Zi=typeof window<"u"&&typeof document<"u",vc=(t=>Zi&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),bc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",yc=Zi&&window.location.href||"http://localhost",wc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zi,hasStandardBrowserEnv:vc,hasStandardBrowserWebWorkerEnv:bc,origin:yc},Symbol.toStringTag,{value:"Module"})),Oe={...wc,...mc};function _c(t,n){return Tn(t,new Oe.classes.URLSearchParams,Object.assign({visitor:function(e,i,s,o){return Oe.isNode&&S.isBuffer(e)?(this.append(i,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}function Oc(t){return S.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Cc(t){const n={},e=Object.keys(t);let i;const s=e.length;let o;for(i=0;i<s;i++)o=e[i],n[o]=t[o];return n}function ao(t){function n(e,i,s,o){let r=e[o++];if(r==="__proto__")return!0;const a=Number.isFinite(+r),c=o>=e.length;return r=!r&&S.isArray(s)?s.length:r,c?(S.hasOwnProp(s,r)?s[r]=[s[r],i]:s[r]=i,!a):((!s[r]||!S.isObject(s[r]))&&(s[r]=[]),n(e,i,s[r],o)&&S.isArray(s[r])&&(s[r]=Cc(s[r])),!a)}if(S.isFormData(t)&&S.isFunction(t.entries)){const e={};return S.forEachEntry(t,(i,s)=>{n(Oc(i),s,e,0)}),e}return null}function xc(t,n,e){if(S.isString(t))try{return(n||JSON.parse)(t),S.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(t)}const Nt={transitional:oo,adapter:["xhr","http","fetch"],transformRequest:[function(n,e){const i=e.getContentType()||"",s=i.indexOf("application/json")>-1,o=S.isObject(n);if(o&&S.isHTMLForm(n)&&(n=new FormData(n)),S.isFormData(n))return s?JSON.stringify(ao(n)):n;if(S.isArrayBuffer(n)||S.isBuffer(n)||S.isStream(n)||S.isFile(n)||S.isBlob(n)||S.isReadableStream(n))return n;if(S.isArrayBufferView(n))return n.buffer;if(S.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return _c(n,this.formSerializer).toString();if((a=S.isFileList(n))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Tn(a?{"files[]":n}:n,c&&new c,this.formSerializer)}}return o||s?(e.setContentType("application/json",!1),xc(n)):n}],transformResponse:[function(n){const e=this.transitional||Nt.transitional,i=e&&e.forcedJSONParsing,s=this.responseType==="json";if(S.isResponse(n)||S.isReadableStream(n))return n;if(n&&S.isString(n)&&(i&&!this.responseType||s)){const r=!(e&&e.silentJSONParsing)&&s;try{return JSON.parse(n)}catch(a){if(r)throw a.name==="SyntaxError"?$.from(a,$.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Oe.classes.FormData,Blob:Oe.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};S.forEach(["delete","get","head","post","put","patch"],t=>{Nt.headers[t]={}});const Sc=S.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ec=t=>{const n={};let e,i,s;return t&&t.split(`
`).forEach(function(r){s=r.indexOf(":"),e=r.substring(0,s).trim().toLowerCase(),i=r.substring(s+1).trim(),!(!e||n[e]&&Sc[e])&&(e==="set-cookie"?n[e]?n[e].push(i):n[e]=[i]:n[e]=n[e]?n[e]+", "+i:i)}),n},Bs=Symbol("internals");function Ot(t){return t&&String(t).trim().toLowerCase()}function cn(t){return t===!1||t==null?t:S.isArray(t)?t.map(cn):String(t)}function Ac(t){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(t);)n[i[1]]=i[2];return n}const Dc=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gn(t,n,e,i,s){if(S.isFunction(i))return i.call(this,n,e);if(s&&(n=e),!!S.isString(n)){if(S.isString(i))return n.indexOf(i)!==-1;if(S.isRegExp(i))return i.test(n)}}function Lc(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,i)=>e.toUpperCase()+i)}function Tc(t,n){const e=S.toCamelCase(" "+n);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+e,{value:function(s,o,r){return this[i].call(this,n,s,o,r)},configurable:!0})})}class de{constructor(n){n&&this.set(n)}set(n,e,i){const s=this;function o(a,c,u){const h=Ot(c);if(!h)throw new Error("header name must be a non-empty string");const v=S.findKey(s,h);(!v||s[v]===void 0||u===!0||u===void 0&&s[v]!==!1)&&(s[v||c]=cn(a))}const r=(a,c)=>S.forEach(a,(u,h)=>o(u,h,c));if(S.isPlainObject(n)||n instanceof this.constructor)r(n,e);else if(S.isString(n)&&(n=n.trim())&&!Dc(n))r(Ec(n),e);else if(S.isHeaders(n))for(const[a,c]of n.entries())o(c,a,i);else n!=null&&o(e,n,i);return this}get(n,e){if(n=Ot(n),n){const i=S.findKey(this,n);if(i){const s=this[i];if(!e)return s;if(e===!0)return Ac(s);if(S.isFunction(e))return e.call(this,s,i);if(S.isRegExp(e))return e.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=Ot(n),n){const i=S.findKey(this,n);return!!(i&&this[i]!==void 0&&(!e||Gn(this,this[i],i,e)))}return!1}delete(n,e){const i=this;let s=!1;function o(r){if(r=Ot(r),r){const a=S.findKey(i,r);a&&(!e||Gn(i,i[a],a,e))&&(delete i[a],s=!0)}}return S.isArray(n)?n.forEach(o):o(n),s}clear(n){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const o=e[i];(!n||Gn(this,this[o],o,n,!0))&&(delete this[o],s=!0)}return s}normalize(n){const e=this,i={};return S.forEach(this,(s,o)=>{const r=S.findKey(i,o);if(r){e[r]=cn(s),delete e[o];return}const a=n?Lc(o):String(o).trim();a!==o&&delete e[o],e[a]=cn(s),i[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return S.forEach(this,(i,s)=>{i!=null&&i!==!1&&(e[s]=n&&S.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const i=new this(n);return e.forEach(s=>i.set(s)),i}static accessor(n){const i=(this[Bs]=this[Bs]={accessors:{}}).accessors,s=this.prototype;function o(r){const a=Ot(r);i[a]||(Tc(s,r),i[a]=!0)}return S.isArray(n)?n.forEach(o):o(n),this}}de.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);S.reduceDescriptors(de.prototype,({value:t},n)=>{let e=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(i){this[e]=i}}});S.freezeMethods(de);function Qn(t,n){const e=this||Nt,i=n||e,s=de.from(i.headers);let o=i.data;return S.forEach(t,function(a){o=a.call(e,o,s.normalize(),n?n.status:void 0)}),s.normalize(),o}function lo(t){return!!(t&&t.__CANCEL__)}function pt(t,n,e){$.call(this,t??"canceled",$.ERR_CANCELED,n,e),this.name="CanceledError"}S.inherits(pt,$,{__CANCEL__:!0});function co(t,n,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?t(e):n(new $("Request failed with status code "+e.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function kc(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Mc(t,n){t=t||10;const e=new Array(t),i=new Array(t);let s=0,o=0,r;return n=n!==void 0?n:1e3,function(c){const u=Date.now(),h=i[o];r||(r=u),e[s]=c,i[s]=u;let v=o,y=0;for(;v!==s;)y+=e[v++],v=v%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),u-r<n)return;const L=h&&u-h;return L?Math.round(y*1e3/L):void 0}}function Ic(t,n){let e=0;const i=1e3/n;let s=null;return function(){const r=this===!0,a=Date.now();if(r||a-e>i)return s&&(clearTimeout(s),s=null),e=a,t.apply(null,arguments);s||(s=setTimeout(()=>(s=null,e=Date.now(),t.apply(null,arguments)),i-(a-e)))}}const pn=(t,n,e=3)=>{let i=0;const s=Mc(50,250);return Ic(o=>{const r=o.loaded,a=o.lengthComputable?o.total:void 0,c=r-i,u=s(c),h=r<=a;i=r;const v={loaded:r,total:a,progress:a?r/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&h?(a-r)/u:void 0,event:o,lengthComputable:a!=null};v[n?"download":"upload"]=!0,t(v)},e)},Fc=Oe.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let i;function s(o){let r=o;return n&&(e.setAttribute("href",r),r=e.href),e.setAttribute("href",r),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return i=s(window.location.href),function(r){const a=S.isString(r)?s(r):r;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),Pc=Oe.hasStandardBrowserEnv?{write(t,n,e,i,s,o){const r=[t+"="+encodeURIComponent(n)];S.isNumber(e)&&r.push("expires="+new Date(e).toGMTString()),S.isString(i)&&r.push("path="+i),S.isString(s)&&r.push("domain="+s),o===!0&&r.push("secure"),document.cookie=r.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Nc(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Rc(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function uo(t,n){return t&&!Nc(n)?Rc(t,n):n}const Vs=t=>t instanceof de?{...t}:t;function nt(t,n){n=n||{};const e={};function i(u,h,v){return S.isPlainObject(u)&&S.isPlainObject(h)?S.merge.call({caseless:v},u,h):S.isPlainObject(h)?S.merge({},h):S.isArray(h)?h.slice():h}function s(u,h,v){if(S.isUndefined(h)){if(!S.isUndefined(u))return i(void 0,u,v)}else return i(u,h,v)}function o(u,h){if(!S.isUndefined(h))return i(void 0,h)}function r(u,h){if(S.isUndefined(h)){if(!S.isUndefined(u))return i(void 0,u)}else return i(void 0,h)}function a(u,h,v){if(v in n)return i(u,h);if(v in t)return i(void 0,u)}const c={url:o,method:o,data:o,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(u,h)=>s(Vs(u),Vs(h),!0)};return S.forEach(Object.keys(Object.assign({},t,n)),function(h){const v=c[h]||s,y=v(t[h],n[h],h);S.isUndefined(y)&&v!==a||(e[h]=y)}),e}const fo=t=>{const n=nt({},t);let{data:e,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:r,auth:a}=n;n.headers=r=de.from(r),n.url=ro(uo(n.baseURL,n.url),t.params,t.paramsSerializer),a&&r.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(S.isFormData(e)){if(Oe.hasStandardBrowserEnv||Oe.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if((c=r.getContentType())!==!1){const[u,...h]=c?c.split(";").map(v=>v.trim()).filter(Boolean):[];r.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Oe.hasStandardBrowserEnv&&(i&&S.isFunction(i)&&(i=i(n)),i||i!==!1&&Fc(n.url))){const u=s&&o&&Pc.read(o);u&&r.set(s,u)}return n},$c=typeof XMLHttpRequest<"u",Hc=$c&&function(t){return new Promise(function(e,i){const s=fo(t);let o=s.data;const r=de.from(s.headers).normalize();let{responseType:a}=s,c;function u(){s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let h=new XMLHttpRequest;h.open(s.method.toUpperCase(),s.url,!0),h.timeout=s.timeout;function v(){if(!h)return;const L=de.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:L,config:t,request:h};co(function(d){e(d),u()},function(d){i(d),u()},_),h=null}"onloadend"in h?h.onloadend=v:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(v)},h.onabort=function(){h&&(i(new $("Request aborted",$.ECONNABORTED,s,h)),h=null)},h.onerror=function(){i(new $("Network Error",$.ERR_NETWORK,s,h)),h=null},h.ontimeout=function(){let b=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const _=s.transitional||oo;s.timeoutErrorMessage&&(b=s.timeoutErrorMessage),i(new $(b,_.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,s,h)),h=null},o===void 0&&r.setContentType(null),"setRequestHeader"in h&&S.forEach(r.toJSON(),function(b,_){h.setRequestHeader(_,b)}),S.isUndefined(s.withCredentials)||(h.withCredentials=!!s.withCredentials),a&&a!=="json"&&(h.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&h.addEventListener("progress",pn(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",pn(s.onUploadProgress)),(s.cancelToken||s.signal)&&(c=L=>{h&&(i(!L||L.type?new pt(null,t,h):L),h.abort(),h=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const y=kc(s.url);if(y&&Oe.protocols.indexOf(y)===-1){i(new $("Unsupported protocol "+y+":",$.ERR_BAD_REQUEST,t));return}h.send(o||null)})},jc=(t,n)=>{let e=new AbortController,i;const s=function(c){if(!i){i=!0,r();const u=c instanceof Error?c:this.reason;e.abort(u instanceof $?u:new pt(u instanceof Error?u.message:u))}};let o=n&&setTimeout(()=>{s(new $(`timeout ${n} of ms exceeded`,$.ETIMEDOUT))},n);const r=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",s):c.unsubscribe(s))}),t=null)};t.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",s));const{signal:a}=e;return a.unsubscribe=r,[a,()=>{o&&clearTimeout(o),o=null}]},Bc=function*(t,n){let e=t.byteLength;if(!n||e<n){yield t;return}let i=0,s;for(;i<e;)s=i+n,yield t.slice(i,s),i=s},Vc=async function*(t,n,e){for await(const i of t)yield*Bc(ArrayBuffer.isView(i)?i:await e(String(i)),n)},qs=(t,n,e,i,s)=>{const o=Vc(t,n,s);let r=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await o.next();if(c){a.close(),i();return}let h=u.byteLength;e&&e(r+=h),a.enqueue(new Uint8Array(u))},cancel(a){return i(a),o.return()}},{highWaterMark:2})},Us=(t,n)=>{const e=t!=null;return i=>setTimeout(()=>n({lengthComputable:e,total:t,loaded:i}))},kn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ho=kn&&typeof ReadableStream=="function",Si=kn&&(typeof TextEncoder=="function"?(t=>n=>t.encode(n))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),qc=ho&&(()=>{let t=!1;const n=new Request(Oe.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!n})(),zs=64*1024,Ei=ho&&!!(()=>{try{return S.isReadableStream(new Response("").body)}catch{}})(),gn={stream:Ei&&(t=>t.body)};kn&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!gn[n]&&(gn[n]=S.isFunction(t[n])?e=>e[n]():(e,i)=>{throw new $(`Response type '${n}' is not supported`,$.ERR_NOT_SUPPORT,i)})})})(new Response);const Uc=async t=>{if(t==null)return 0;if(S.isBlob(t))return t.size;if(S.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(S.isArrayBufferView(t))return t.byteLength;if(S.isURLSearchParams(t)&&(t=t+""),S.isString(t))return(await Si(t)).byteLength},zc=async(t,n)=>{const e=S.toFiniteNumber(t.getContentLength());return e??Uc(n)},Kc=kn&&(async t=>{let{url:n,method:e,data:i,signal:s,cancelToken:o,timeout:r,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:h,withCredentials:v="same-origin",fetchOptions:y}=fo(t);u=u?(u+"").toLowerCase():"text";let[L,b]=s||o||r?jc([s,o],r):[],_,l;const d=()=>{!_&&setTimeout(()=>{L&&L.unsubscribe()}),_=!0};let f;try{if(c&&qc&&e!=="get"&&e!=="head"&&(f=await zc(h,i))!==0){let D=new Request(n,{method:"POST",body:i,duplex:"half"}),C;S.isFormData(i)&&(C=D.headers.get("content-type"))&&h.setContentType(C),D.body&&(i=qs(D.body,zs,Us(f,pn(c)),null,Si))}S.isString(v)||(v=v?"cors":"omit"),l=new Request(n,{...y,signal:L,method:e.toUpperCase(),headers:h.normalize().toJSON(),body:i,duplex:"half",withCredentials:v});let g=await fetch(l);const O=Ei&&(u==="stream"||u==="response");if(Ei&&(a||O)){const D={};["status","statusText","headers"].forEach(A=>{D[A]=g[A]});const C=S.toFiniteNumber(g.headers.get("content-length"));g=new Response(qs(g.body,zs,a&&Us(C,pn(a,!0)),O&&d,Si),D)}u=u||"text";let T=await gn[S.findKey(gn,u)||"text"](g,t);return!O&&d(),b&&b(),await new Promise((D,C)=>{co(D,C,{data:T,headers:de.from(g.headers),status:g.status,statusText:g.statusText,config:t,request:l})})}catch(g){throw d(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,t,l),{cause:g.cause||g}):$.from(g,g&&g.code,t,l)}}),Ai={http:cc,xhr:Hc,fetch:Kc};S.forEach(Ai,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Ks=t=>`- ${t}`,Yc=t=>S.isFunction(t)||t===null||t===!1,po={getAdapter:t=>{t=S.isArray(t)?t:[t];const{length:n}=t;let e,i;const s={};for(let o=0;o<n;o++){e=t[o];let r;if(i=e,!Yc(e)&&(i=Ai[(r=String(e)).toLowerCase()],i===void 0))throw new $(`Unknown adapter '${r}'`);if(i)break;s[r||"#"+o]=i}if(!i){const o=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let r=n?o.length>1?`since :
`+o.map(Ks).join(`
`):" "+Ks(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return i},adapters:Ai};function Xn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pt(null,t)}function Ys(t){return Xn(t),t.headers=de.from(t.headers),t.data=Qn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),po.getAdapter(t.adapter||Nt.adapter)(t).then(function(i){return Xn(t),i.data=Qn.call(t,t.transformResponse,i),i.headers=de.from(i.headers),i},function(i){return lo(i)||(Xn(t),i&&i.response&&(i.response.data=Qn.call(t,t.transformResponse,i.response),i.response.headers=de.from(i.response.headers))),Promise.reject(i)})}const go="1.7.2",es={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{es[t]=function(i){return typeof i===t||"a"+(n<1?"n ":" ")+t}});const Ws={};es.transitional=function(n,e,i){function s(o,r){return"[Axios v"+go+"] Transitional option '"+o+"'"+r+(i?". "+i:"")}return(o,r,a)=>{if(n===!1)throw new $(s(r," has been removed"+(e?" in "+e:"")),$.ERR_DEPRECATED);return e&&!Ws[r]&&(Ws[r]=!0,console.warn(s(r," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(o,r,a):!0}};function Wc(t,n,e){if(typeof t!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const o=i[s],r=n[o];if(r){const a=t[o],c=a===void 0||r(a,o,t);if(c!==!0)throw new $("option "+o+" must be "+c,$.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new $("Unknown option "+o,$.ERR_BAD_OPTION)}}const Di={assertOptions:Wc,validators:es},Pe=Di.validators;class Qe{constructor(n){this.defaults=n,this.interceptors={request:new js,response:new js}}async request(n,e){try{return await this._request(n,e)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=nt(this.defaults,e);const{transitional:i,paramsSerializer:s,headers:o}=e;i!==void 0&&Di.assertOptions(i,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),s!=null&&(S.isFunction(s)?e.paramsSerializer={serialize:s}:Di.assertOptions(s,{encode:Pe.function,serialize:Pe.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let r=o&&S.merge(o.common,o[e.method]);o&&S.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),e.headers=de.concat(r,o);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(e)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let h,v=0,y;if(!c){const b=[Ys.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,u),y=b.length,h=Promise.resolve(e);v<y;)h=h.then(b[v++],b[v++]);return h}y=a.length;let L=e;for(v=0;v<y;){const b=a[v++],_=a[v++];try{L=b(L)}catch(l){_.call(this,l);break}}try{h=Ys.call(this,L)}catch(b){return Promise.reject(b)}for(v=0,y=u.length;v<y;)h=h.then(u[v++],u[v++]);return h}getUri(n){n=nt(this.defaults,n);const e=uo(n.baseURL,n.url);return ro(e,n.params,n.paramsSerializer)}}S.forEach(["delete","get","head","options"],function(n){Qe.prototype[n]=function(e,i){return this.request(nt(i||{},{method:n,url:e,data:(i||{}).data}))}});S.forEach(["post","put","patch"],function(n){function e(i){return function(o,r,a){return this.request(nt(a||{},{method:n,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:r}))}}Qe.prototype[n]=e(),Qe.prototype[n+"Form"]=e(!0)});class ts{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const i=this;this.promise.then(s=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](s);i._listeners=null}),this.promise.then=s=>{let o;const r=new Promise(a=>{i.subscribe(a),o=a}).then(s);return r.cancel=function(){i.unsubscribe(o)},r},n(function(o,r,a){i.reason||(i.reason=new pt(o,r,a),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);e!==-1&&this._listeners.splice(e,1)}static source(){let n;return{token:new ts(function(s){n=s}),cancel:n}}}function Jc(t){return function(e){return t.apply(null,e)}}function Gc(t){return S.isObject(t)&&t.isAxiosError===!0}const Li={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Li).forEach(([t,n])=>{Li[n]=t});function mo(t){const n=new Qe(t),e=Yr(Qe.prototype.request,n);return S.extend(e,Qe.prototype,n,{allOwnKeys:!0}),S.extend(e,n,null,{allOwnKeys:!0}),e.create=function(s){return mo(nt(t,s))},e}const X=mo(Nt);X.Axios=Qe;X.CanceledError=pt;X.CancelToken=ts;X.isCancel=lo;X.VERSION=go;X.toFormData=Tn;X.AxiosError=$;X.Cancel=X.CanceledError;X.all=function(n){return Promise.all(n)};X.spread=Jc;X.isAxiosError=Gc;X.mergeConfig=nt;X.AxiosHeaders=de;X.formToJSON=t=>ao(S.isHTMLForm(t)?new FormData(t):t);X.getAdapter=po.getAdapter;X.HttpStatusCode=Li;X.default=X;window.axios=X;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Ti=!1,ki=!1,Xe=[],Mi=-1;function Qc(t){Xc(t)}function Xc(t){Xe.includes(t)||Xe.push(t),eu()}function Zc(t){let n=Xe.indexOf(t);n!==-1&&n>Mi&&Xe.splice(n,1)}function eu(){!ki&&!Ti&&(Ti=!0,queueMicrotask(tu))}function tu(){Ti=!1,ki=!0;for(let t=0;t<Xe.length;t++)Xe[t](),Mi=t;Xe.length=0,Mi=-1,ki=!1}var gt,st,mt,vo,Ii=!0;function nu(t){Ii=!1,t(),Ii=!0}function iu(t){gt=t.reactive,mt=t.release,st=n=>t.effect(n,{scheduler:e=>{Ii?Qc(e):e()}}),vo=t.raw}function Js(t){st=t}function su(t){let n=()=>{};return[i=>{let s=st(i);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(o=>o())}),t._x_effects.add(s),n=()=>{s!==void 0&&(t._x_effects.delete(s),mt(s))},s},()=>{n()}]}function bo(t,n){let e=!0,i,s=st(()=>{let o=t();JSON.stringify(o),e?i=o:queueMicrotask(()=>{n(o,i),i=o}),e=!1});return()=>mt(s)}var yo=[],wo=[],_o=[];function ru(t){_o.push(t)}function ns(t,n){typeof n=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(n)):(n=t,wo.push(n))}function Oo(t){yo.push(t)}function Co(t,n,e){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[n]||(t._x_attributeCleanups[n]=[]),t._x_attributeCleanups[n].push(e)}function xo(t,n){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([e,i])=>{(n===void 0||n.includes(e))&&(i.forEach(s=>s()),delete t._x_attributeCleanups[e])})}function ou(t){var n,e;for((n=t._x_effects)==null||n.forEach(Zc);(e=t._x_cleanups)!=null&&e.length;)t._x_cleanups.pop()()}var is=new MutationObserver(as),ss=!1;function rs(){is.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),ss=!0}function So(){au(),is.disconnect(),ss=!1}var Ct=[];function au(){let t=is.takeRecords();Ct.push(()=>t.length>0&&as(t));let n=Ct.length;queueMicrotask(()=>{if(Ct.length===n)for(;Ct.length>0;)Ct.shift()()})}function J(t){if(!ss)return t();So();let n=t();return rs(),n}var os=!1,mn=[];function lu(){os=!0}function cu(){os=!1,as(mn),mn=[]}function as(t){if(os){mn=mn.concat(t);return}let n=[],e=new Set,i=new Map,s=new Map;for(let o=0;o<t.length;o++)if(!t[o].target._x_ignoreMutationObserver&&(t[o].type==="childList"&&(t[o].removedNodes.forEach(r=>{r.nodeType===1&&r._x_marker&&e.add(r)}),t[o].addedNodes.forEach(r=>{if(r.nodeType===1){if(e.has(r)){e.delete(r);return}r._x_marker||n.push(r)}})),t[o].type==="attributes")){let r=t[o].target,a=t[o].attributeName,c=t[o].oldValue,u=()=>{i.has(r)||i.set(r,[]),i.get(r).push({name:a,value:r.getAttribute(a)})},h=()=>{s.has(r)||s.set(r,[]),s.get(r).push(a)};r.hasAttribute(a)&&c===null?u():r.hasAttribute(a)?(h(),u()):h()}s.forEach((o,r)=>{xo(r,o)}),i.forEach((o,r)=>{yo.forEach(a=>a(r,o))});for(let o of e)n.some(r=>r.contains(o))||wo.forEach(r=>r(o));for(let o of n)o.isConnected&&_o.forEach(r=>r(o));n=null,e=null,i=null,s=null}function Eo(t){return $t(dt(t))}function Rt(t,n,e){return t._x_dataStack=[n,...dt(e||t)],()=>{t._x_dataStack=t._x_dataStack.filter(i=>i!==n)}}function dt(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?dt(t.host):t.parentNode?dt(t.parentNode):[]}function $t(t){return new Proxy({objects:t},uu)}var uu={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(n=>Object.keys(n))))},has({objects:t},n){return n==Symbol.unscopables?!1:t.some(e=>Object.prototype.hasOwnProperty.call(e,n)||Reflect.has(e,n))},get({objects:t},n,e){return n=="toJSON"?du:Reflect.get(t.find(i=>Reflect.has(i,n))||{},n,e)},set({objects:t},n,e,i){const s=t.find(r=>Object.prototype.hasOwnProperty.call(r,n))||t[t.length-1],o=Object.getOwnPropertyDescriptor(s,n);return o!=null&&o.set&&(o!=null&&o.get)?o.set.call(i,e)||!0:Reflect.set(s,n,e)}};function du(){return Reflect.ownKeys(this).reduce((n,e)=>(n[e]=Reflect.get(this,e),n),{})}function Ao(t){let n=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,e=(i,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([o,{value:r,enumerable:a}])=>{if(a===!1||r===void 0||typeof r=="object"&&r!==null&&r.__v_skip)return;let c=s===""?o:`${s}.${o}`;typeof r=="object"&&r!==null&&r._x_interceptor?i[o]=r.initialize(t,c,o):n(r)&&r!==i&&!(r instanceof Element)&&e(r,c)})};return e(t)}function Do(t,n=()=>{}){let e={initialValue:void 0,_x_interceptor:!0,initialize(i,s,o){return t(this.initialValue,()=>fu(i,s),r=>Fi(i,s,r),s,o)}};return n(e),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let s=e.initialize.bind(e);e.initialize=(o,r,a)=>{let c=i.initialize(o,r,a);return e.initialValue=c,s(o,r,a)}}else e.initialValue=i;return e}}function fu(t,n){return n.split(".").reduce((e,i)=>e[i],t)}function Fi(t,n,e){if(typeof n=="string"&&(n=n.split(".")),n.length===1)t[n[0]]=e;else{if(n.length===0)throw error;return t[n[0]]||(t[n[0]]={}),Fi(t[n[0]],n.slice(1),e)}}var Lo={};function Se(t,n){Lo[t]=n}function Pi(t,n){let e=hu(n);return Object.entries(Lo).forEach(([i,s])=>{Object.defineProperty(t,`$${i}`,{get(){return s(n,e)},enumerable:!1})}),t}function hu(t){let[n,e]=Po(t),i={interceptor:Do,...n};return ns(t,e),i}function pu(t,n,e,...i){try{return e(...i)}catch(s){kt(s,t,n)}}function kt(t,n,e=void 0){t=Object.assign(t??{message:"No error message given."},{el:n,expression:e}),console.warn(`Alpine Expression Error: ${t.message}

${e?'Expression: "'+e+`"

`:""}`,n),setTimeout(()=>{throw t},0)}var un=!0;function To(t){let n=un;un=!1;let e=t();return un=n,e}function Ze(t,n,e={}){let i;return ae(t,n)(s=>i=s,e),i}function ae(...t){return ko(...t)}var ko=Mo;function gu(t){ko=t}function Mo(t,n){let e={};Pi(e,t);let i=[e,...dt(t)],s=typeof n=="function"?mu(i,n):bu(i,n,t);return pu.bind(null,t,n,s)}function mu(t,n){return(e=()=>{},{scope:i={},params:s=[]}={})=>{let o=n.apply($t([i,...t]),s);vn(e,o)}}var Zn={};function vu(t,n){if(Zn[t])return Zn[t];let e=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,o=(()=>{try{let r=new e(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(r,"name",{value:`[Alpine] ${t}`}),r}catch(r){return kt(r,n,t),Promise.resolve()}})();return Zn[t]=o,o}function bu(t,n,e){let i=vu(n,e);return(s=()=>{},{scope:o={},params:r=[]}={})=>{i.result=void 0,i.finished=!1;let a=$t([o,...t]);if(typeof i=="function"){let c=i(i,a).catch(u=>kt(u,e,n));i.finished?(vn(s,i.result,a,r,e),i.result=void 0):c.then(u=>{vn(s,u,a,r,e)}).catch(u=>kt(u,e,n)).finally(()=>i.result=void 0)}}}function vn(t,n,e,i,s){if(un&&typeof n=="function"){let o=n.apply(e,i);o instanceof Promise?o.then(r=>vn(t,r,e,i)).catch(r=>kt(r,s,n)):t(o)}else typeof n=="object"&&n instanceof Promise?n.then(o=>t(o)):t(n)}var ls="x-";function vt(t=""){return ls+t}function yu(t){ls=t}var bn={};function Z(t,n){return bn[t]=n,{before(e){if(!bn[e]){console.warn(String.raw`Cannot find directive \`${e}\`. \`${t}\` will use the default order of execution`);return}const i=Ge.indexOf(e);Ge.splice(i>=0?i:Ge.indexOf("DEFAULT"),0,t)}}}function wu(t){return Object.keys(bn).includes(t)}function cs(t,n,e){if(n=Array.from(n),t._x_virtualDirectives){let o=Object.entries(t._x_virtualDirectives).map(([a,c])=>({name:a,value:c})),r=Io(o);o=o.map(a=>r.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),n=n.concat(o)}let i={};return n.map($o((o,r)=>i[o]=r)).filter(jo).map(Cu(i,e)).sort(xu).map(o=>Ou(t,o))}function Io(t){return Array.from(t).map($o()).filter(n=>!jo(n))}var Ni=!1,Et=new Map,Fo=Symbol();function _u(t){Ni=!0;let n=Symbol();Fo=n,Et.set(n,[]);let e=()=>{for(;Et.get(n).length;)Et.get(n).shift()();Et.delete(n)},i=()=>{Ni=!1,e()};t(e),i()}function Po(t){let n=[],e=a=>n.push(a),[i,s]=su(t);return n.push(s),[{Alpine:Ht,effect:i,cleanup:e,evaluateLater:ae.bind(ae,t),evaluate:Ze.bind(Ze,t)},()=>n.forEach(a=>a())]}function Ou(t,n){let e=()=>{},i=bn[n.type]||e,[s,o]=Po(t);Co(t,n.original,o);let r=()=>{t._x_ignore||t._x_ignoreSelf||(i.inline&&i.inline(t,n,s),i=i.bind(i,t,n,s),Ni?Et.get(Fo).push(i):i())};return r.runCleanups=o,r}var No=(t,n)=>({name:e,value:i})=>(e.startsWith(t)&&(e=e.replace(t,n)),{name:e,value:i}),Ro=t=>t;function $o(t=()=>{}){return({name:n,value:e})=>{let{name:i,value:s}=Ho.reduce((o,r)=>r(o),{name:n,value:e});return i!==n&&t(i,n),{name:i,value:s}}}var Ho=[];function us(t){Ho.push(t)}function jo({name:t}){return Bo().test(t)}var Bo=()=>new RegExp(`^${ls}([^:^.]+)\\b`);function Cu(t,n){return({name:e,value:i})=>{let s=e.match(Bo()),o=e.match(/:([a-zA-Z0-9\-_:]+)/),r=e.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=n||t[e]||e;return{type:s?s[1]:null,value:o?o[1]:null,modifiers:r.map(c=>c.replace(".","")),expression:i,original:a}}}var Ri="DEFAULT",Ge=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Ri,"teleport"];function xu(t,n){let e=Ge.indexOf(t.type)===-1?Ri:t.type,i=Ge.indexOf(n.type)===-1?Ri:n.type;return Ge.indexOf(e)-Ge.indexOf(i)}function At(t,n,e={}){t.dispatchEvent(new CustomEvent(n,{detail:e,bubbles:!0,composed:!0,cancelable:!0}))}function it(t,n){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(s=>it(s,n));return}let e=!1;if(n(t,()=>e=!0),e)return;let i=t.firstElementChild;for(;i;)it(i,n),i=i.nextElementSibling}function be(t,...n){console.warn(`Alpine Warning: ${t}`,...n)}var Gs=!1;function Su(){Gs&&be("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Gs=!0,document.body||be("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),At(document,"alpine:init"),At(document,"alpine:initializing"),rs(),ru(n=>Ie(n,it)),ns(n=>yt(n)),Oo((n,e)=>{cs(n,e).forEach(i=>i())});let t=n=>!Mn(n.parentElement,!0);Array.from(document.querySelectorAll(Uo().join(","))).filter(t).forEach(n=>{Ie(n)}),At(document,"alpine:initialized"),setTimeout(()=>{Lu()})}var ds=[],Vo=[];function qo(){return ds.map(t=>t())}function Uo(){return ds.concat(Vo).map(t=>t())}function zo(t){ds.push(t)}function Ko(t){Vo.push(t)}function Mn(t,n=!1){return bt(t,e=>{if((n?Uo():qo()).some(s=>e.matches(s)))return!0})}function bt(t,n){if(t){if(n(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return bt(t.parentElement,n)}}function Eu(t){return qo().some(n=>t.matches(n))}var Yo=[];function Au(t){Yo.push(t)}var Du=1;function Ie(t,n=it,e=()=>{}){bt(t,i=>i._x_ignore)||_u(()=>{n(t,(i,s)=>{i._x_marker||(e(i,s),Yo.forEach(o=>o(i,s)),cs(i,i.attributes).forEach(o=>o()),i._x_ignore||(i._x_marker=Du++),i._x_ignore&&s())})})}function yt(t,n=it){n(t,e=>{ou(e),xo(e),delete e._x_marker})}function Lu(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,e,i])=>{wu(e)||i.some(s=>{if(document.querySelector(s))return be(`found "${s}", but missing ${n} plugin`),!0})})}var $i=[],fs=!1;function hs(t=()=>{}){return queueMicrotask(()=>{fs||setTimeout(()=>{Hi()})}),new Promise(n=>{$i.push(()=>{t(),n()})})}function Hi(){for(fs=!1;$i.length;)$i.shift()()}function Tu(){fs=!0}function ps(t,n){return Array.isArray(n)?Qs(t,n.join(" ")):typeof n=="object"&&n!==null?ku(t,n):typeof n=="function"?ps(t,n()):Qs(t,n)}function Qs(t,n){let e=s=>s.split(" ").filter(o=>!t.classList.contains(o)).filter(Boolean),i=s=>(t.classList.add(...s),()=>{t.classList.remove(...s)});return n=n===!0?n="":n||"",i(e(n))}function ku(t,n){let e=a=>a.split(" ").filter(Boolean),i=Object.entries(n).flatMap(([a,c])=>c?e(a):!1).filter(Boolean),s=Object.entries(n).flatMap(([a,c])=>c?!1:e(a)).filter(Boolean),o=[],r=[];return s.forEach(a=>{t.classList.contains(a)&&(t.classList.remove(a),r.push(a))}),i.forEach(a=>{t.classList.contains(a)||(t.classList.add(a),o.push(a))}),()=>{r.forEach(a=>t.classList.add(a)),o.forEach(a=>t.classList.remove(a))}}function In(t,n){return typeof n=="object"&&n!==null?Mu(t,n):Iu(t,n)}function Mu(t,n){let e={};return Object.entries(n).forEach(([i,s])=>{e[i]=t.style[i],i.startsWith("--")||(i=Fu(i)),t.style.setProperty(i,s)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{In(t,e)}}function Iu(t,n){let e=t.getAttribute("style",n);return t.setAttribute("style",n),()=>{t.setAttribute("style",e||"")}}function Fu(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ji(t,n=()=>{}){let e=!1;return function(){e?n.apply(this,arguments):(e=!0,t.apply(this,arguments))}}Z("transition",(t,{value:n,modifiers:e,expression:i},{evaluate:s})=>{typeof i=="function"&&(i=s(i)),i!==!1&&(!i||typeof i=="boolean"?Nu(t,e,n):Pu(t,i,n))});function Pu(t,n,e){Wo(t,ps,""),{enter:s=>{t._x_transition.enter.during=s},"enter-start":s=>{t._x_transition.enter.start=s},"enter-end":s=>{t._x_transition.enter.end=s},leave:s=>{t._x_transition.leave.during=s},"leave-start":s=>{t._x_transition.leave.start=s},"leave-end":s=>{t._x_transition.leave.end=s}}[e](n)}function Nu(t,n,e){Wo(t,In);let i=!n.includes("in")&&!n.includes("out")&&!e,s=i||n.includes("in")||["enter"].includes(e),o=i||n.includes("out")||["leave"].includes(e);n.includes("in")&&!i&&(n=n.filter((d,f)=>f<n.indexOf("out"))),n.includes("out")&&!i&&(n=n.filter((d,f)=>f>n.indexOf("out")));let r=!n.includes("opacity")&&!n.includes("scale"),a=r||n.includes("opacity"),c=r||n.includes("scale"),u=a?0:1,h=c?xt(n,"scale",95)/100:1,v=xt(n,"delay",0)/1e3,y=xt(n,"origin","center"),L="opacity, transform",b=xt(n,"duration",150)/1e3,_=xt(n,"duration",75)/1e3,l="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(t._x_transition.enter.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:L,transitionDuration:`${b}s`,transitionTimingFunction:l},t._x_transition.enter.start={opacity:u,transform:`scale(${h})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),o&&(t._x_transition.leave.during={transformOrigin:y,transitionDelay:`${v}s`,transitionProperty:L,transitionDuration:`${_}s`,transitionTimingFunction:l},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:u,transform:`scale(${h})`})}function Wo(t,n,e={}){t._x_transition||(t._x_transition={enter:{during:e,start:e,end:e},leave:{during:e,start:e,end:e},in(i=()=>{},s=()=>{}){Bi(t,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,s)},out(i=()=>{},s=()=>{}){Bi(t,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,n,e,i){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let o=()=>s(e);if(n){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(e):o():t._x_transition?t._x_transition.in(e):o();return}t._x_hidePromise=t._x_transition?new Promise((r,a)=>{t._x_transition.out(()=>{},()=>r(i)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let r=Jo(t);r?(r._x_hideChildren||(r._x_hideChildren=[]),r._x_hideChildren.push(t)):s(()=>{let a=c=>{let u=Promise.all([c._x_hidePromise,...(c._x_hideChildren||[]).map(a)]).then(([h])=>h==null?void 0:h());return delete c._x_hidePromise,delete c._x_hideChildren,u};a(t).catch(c=>{if(!c.isFromCancelledTransition)throw c})})})};function Jo(t){let n=t.parentNode;if(n)return n._x_hidePromise?n:Jo(n)}function Bi(t,n,{during:e,start:i,end:s}={},o=()=>{},r=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(e).length===0&&Object.keys(i).length===0&&Object.keys(s).length===0){o(),r();return}let a,c,u;Ru(t,{start(){a=n(t,i)},during(){c=n(t,e)},before:o,end(){a(),u=n(t,s)},after:r,cleanup(){c(),u()}})}function Ru(t,n){let e,i,s,o=ji(()=>{J(()=>{e=!0,i||n.before(),s||(n.end(),Hi()),n.after(),t.isConnected&&n.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(r){this.beforeCancels.push(r)},cancel:ji(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();o()}),finish:o},J(()=>{n.start(),n.during()}),Tu(),requestAnimationFrame(()=>{if(e)return;let r=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;r===0&&(r=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),J(()=>{n.before()}),i=!0,requestAnimationFrame(()=>{e||(J(()=>{n.end()}),Hi(),setTimeout(t._x_transitioning.finish,r+a),s=!0)})})}function xt(t,n,e){if(t.indexOf(n)===-1)return e;const i=t[t.indexOf(n)+1];if(!i||n==="scale"&&isNaN(i))return e;if(n==="duration"||n==="delay"){let s=i.match(/([0-9]+)ms/);if(s)return s[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(n)+2])?[i,t[t.indexOf(n)+2]].join(" "):i}var He=!1;function Be(t,n=()=>{}){return(...e)=>He?n(...e):t(...e)}function $u(t){return(...n)=>He&&t(...n)}var Go=[];function Fn(t){Go.push(t)}function Hu(t,n){Go.forEach(e=>e(t,n)),He=!0,Qo(()=>{Ie(n,(e,i)=>{i(e,()=>{})})}),He=!1}var Vi=!1;function ju(t,n){n._x_dataStack||(n._x_dataStack=t._x_dataStack),He=!0,Vi=!0,Qo(()=>{Bu(n)}),He=!1,Vi=!1}function Bu(t){let n=!1;Ie(t,(i,s)=>{it(i,(o,r)=>{if(n&&Eu(o))return r();n=!0,s(o,r)})})}function Qo(t){let n=st;Js((e,i)=>{let s=n(e);return mt(s),()=>{}}),t(),Js(n)}function Xo(t,n,e,i=[]){switch(t._x_bindings||(t._x_bindings=gt({})),t._x_bindings[n]=e,n=i.includes("camel")?Ju(n):n,n){case"value":Vu(t,e);break;case"style":Uu(t,e);break;case"class":qu(t,e);break;case"selected":case"checked":zu(t,n,e);break;default:Zo(t,n,e);break}}function Vu(t,n){if(na(t))t.attributes.value===void 0&&(t.value=n),window.fromModel&&(typeof n=="boolean"?t.checked=dn(t.value)===n:t.checked=Xs(t.value,n));else if(gs(t))Number.isInteger(n)?t.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?t.value=String(n):Array.isArray(n)?t.checked=n.some(e=>Xs(e,t.value)):t.checked=!!n;else if(t.tagName==="SELECT")Wu(t,n);else{if(t.value===n)return;t.value=n===void 0?"":n}}function qu(t,n){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=ps(t,n)}function Uu(t,n){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=In(t,n)}function zu(t,n,e){Zo(t,n,e),Yu(t,n,e)}function Zo(t,n,e){[null,void 0,!1].includes(e)&&Qu(n)?t.removeAttribute(n):(ea(n)&&(e=n),Ku(t,n,e))}function Ku(t,n,e){t.getAttribute(n)!=e&&t.setAttribute(n,e)}function Yu(t,n,e){t[n]!==e&&(t[n]=e)}function Wu(t,n){const e=[].concat(n).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=e.includes(i.value)})}function Ju(t){return t.toLowerCase().replace(/-(\w)/g,(n,e)=>e.toUpperCase())}function Xs(t,n){return t==n}function dn(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}var Gu=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function ea(t){return Gu.has(t)}function Qu(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function Xu(t,n,e){return t._x_bindings&&t._x_bindings[n]!==void 0?t._x_bindings[n]:ta(t,n,e)}function Zu(t,n,e,i=!0){if(t._x_bindings&&t._x_bindings[n]!==void 0)return t._x_bindings[n];if(t._x_inlineBindings&&t._x_inlineBindings[n]!==void 0){let s=t._x_inlineBindings[n];return s.extract=i,To(()=>Ze(t,s.expression))}return ta(t,n,e)}function ta(t,n,e){let i=t.getAttribute(n);return i===null?typeof e=="function"?e():e:i===""?!0:ea(n)?!![n,"true"].includes(i):i}function gs(t){return t.type==="checkbox"||t.localName==="ui-checkbox"||t.localName==="ui-switch"}function na(t){return t.type==="radio"||t.localName==="ui-radio"}function ia(t,n){var e;return function(){var i=this,s=arguments,o=function(){e=null,t.apply(i,s)};clearTimeout(e),e=setTimeout(o,n)}}function sa(t,n){let e;return function(){let i=this,s=arguments;e||(t.apply(i,s),e=!0,setTimeout(()=>e=!1,n))}}function ra({get:t,set:n},{get:e,set:i}){let s=!0,o,r=st(()=>{let a=t(),c=e();if(s)i(ei(a)),s=!1;else{let u=JSON.stringify(a),h=JSON.stringify(c);u!==o?i(ei(a)):u!==h&&n(ei(c))}o=JSON.stringify(t()),JSON.stringify(e())});return()=>{mt(r)}}function ei(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function ed(t){(Array.isArray(t)?t:[t]).forEach(e=>e(Ht))}var We={},Zs=!1;function td(t,n){if(Zs||(We=gt(We),Zs=!0),n===void 0)return We[t];We[t]=n,Ao(We[t]),typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&We[t].init()}function nd(){return We}var oa={};function id(t,n){let e=typeof n!="function"?()=>n:n;return t instanceof Element?aa(t,e()):(oa[t]=e,()=>{})}function sd(t){return Object.entries(oa).forEach(([n,e])=>{Object.defineProperty(t,n,{get(){return(...i)=>e(...i)}})}),t}function aa(t,n,e){let i=[];for(;i.length;)i.pop()();let s=Object.entries(n).map(([r,a])=>({name:r,value:a})),o=Io(s);return s=s.map(r=>o.find(a=>a.name===r.name)?{name:`x-bind:${r.name}`,value:`"${r.value}"`}:r),cs(t,s,e).map(r=>{i.push(r.runCleanups),r()}),()=>{for(;i.length;)i.pop()()}}var la={};function rd(t,n){la[t]=n}function od(t,n){return Object.entries(la).forEach(([e,i])=>{Object.defineProperty(t,e,{get(){return(...s)=>i.bind(n)(...s)},enumerable:!1})}),t}var ad={get reactive(){return gt},get release(){return mt},get effect(){return st},get raw(){return vo},version:"3.14.9",flushAndStopDeferringMutations:cu,dontAutoEvaluateFunctions:To,disableEffectScheduling:nu,startObservingMutations:rs,stopObservingMutations:So,setReactivityEngine:iu,onAttributeRemoved:Co,onAttributesAdded:Oo,closestDataStack:dt,skipDuringClone:Be,onlyDuringClone:$u,addRootSelector:zo,addInitSelector:Ko,interceptClone:Fn,addScopeToNode:Rt,deferMutations:lu,mapAttributes:us,evaluateLater:ae,interceptInit:Au,setEvaluator:gu,mergeProxies:$t,extractProp:Zu,findClosest:bt,onElRemoved:ns,closestRoot:Mn,destroyTree:yt,interceptor:Do,transition:Bi,setStyles:In,mutateDom:J,directive:Z,entangle:ra,throttle:sa,debounce:ia,evaluate:Ze,initTree:Ie,nextTick:hs,prefixed:vt,prefix:yu,plugin:ed,magic:Se,store:td,start:Su,clone:ju,cloneNode:Hu,bound:Xu,$data:Eo,watch:bo,walk:it,data:rd,bind:id},Ht=ad;function ld(t,n){const e=Object.create(null),i=t.split(",");for(let s=0;s<i.length;s++)e[i[s]]=!0;return s=>!!e[s]}var cd=Object.freeze({}),ud=Object.prototype.hasOwnProperty,Pn=(t,n)=>ud.call(t,n),et=Array.isArray,Dt=t=>ca(t)==="[object Map]",dd=t=>typeof t=="string",ms=t=>typeof t=="symbol",Nn=t=>t!==null&&typeof t=="object",fd=Object.prototype.toString,ca=t=>fd.call(t),ua=t=>ca(t).slice(8,-1),vs=t=>dd(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,hd=t=>{const n=Object.create(null);return e=>n[e]||(n[e]=t(e))},pd=hd(t=>t.charAt(0).toUpperCase()+t.slice(1)),da=(t,n)=>t!==n&&(t===t||n===n),qi=new WeakMap,St=[],ke,tt=Symbol("iterate"),Ui=Symbol("Map key iterate");function gd(t){return t&&t._isEffect===!0}function md(t,n=cd){gd(t)&&(t=t.raw);const e=yd(t,n);return n.lazy||e(),e}function vd(t){t.active&&(fa(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var bd=0;function yd(t,n){const e=function(){if(!e.active)return t();if(!St.includes(e)){fa(e);try{return _d(),St.push(e),ke=e,t()}finally{St.pop(),ha(),ke=St[St.length-1]}}};return e.id=bd++,e.allowRecurse=!!n.allowRecurse,e._isEffect=!0,e.active=!0,e.raw=t,e.deps=[],e.options=n,e}function fa(t){const{deps:n}=t;if(n.length){for(let e=0;e<n.length;e++)n[e].delete(t);n.length=0}}var ft=!0,bs=[];function wd(){bs.push(ft),ft=!1}function _d(){bs.push(ft),ft=!0}function ha(){const t=bs.pop();ft=t===void 0?!0:t}function Ce(t,n,e){if(!ft||ke===void 0)return;let i=qi.get(t);i||qi.set(t,i=new Map);let s=i.get(e);s||i.set(e,s=new Set),s.has(ke)||(s.add(ke),ke.deps.push(s),ke.options.onTrack&&ke.options.onTrack({effect:ke,target:t,type:n,key:e}))}function je(t,n,e,i,s,o){const r=qi.get(t);if(!r)return;const a=new Set,c=h=>{h&&h.forEach(v=>{(v!==ke||v.allowRecurse)&&a.add(v)})};if(n==="clear")r.forEach(c);else if(e==="length"&&et(t))r.forEach((h,v)=>{(v==="length"||v>=i)&&c(h)});else switch(e!==void 0&&c(r.get(e)),n){case"add":et(t)?vs(e)&&c(r.get("length")):(c(r.get(tt)),Dt(t)&&c(r.get(Ui)));break;case"delete":et(t)||(c(r.get(tt)),Dt(t)&&c(r.get(Ui)));break;case"set":Dt(t)&&c(r.get(tt));break}const u=h=>{h.options.onTrigger&&h.options.onTrigger({effect:h,target:t,key:e,type:n,newValue:i,oldValue:s,oldTarget:o}),h.options.scheduler?h.options.scheduler(h):h()};a.forEach(u)}var Od=ld("__proto__,__v_isRef,__isVue"),pa=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(ms)),Cd=ga(),xd=ga(!0),er=Sd();function Sd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...e){const i=q(this);for(let o=0,r=this.length;o<r;o++)Ce(i,"get",o+"");const s=i[n](...e);return s===-1||s===!1?i[n](...e.map(q)):s}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...e){wd();const i=q(this)[n].apply(this,e);return ha(),i}}),t}function ga(t=!1,n=!1){return function(i,s,o){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_raw"&&o===(t?n?Hd:ya:n?$d:ba).get(i))return i;const r=et(i);if(!t&&r&&Pn(er,s))return Reflect.get(er,s,o);const a=Reflect.get(i,s,o);return(ms(s)?pa.has(s):Od(s))||(t||Ce(i,"get",s),n)?a:zi(a)?!r||!vs(s)?a.value:a:Nn(a)?t?wa(a):Os(a):a}}var Ed=Ad();function Ad(t=!1){return function(e,i,s,o){let r=e[i];if(!t&&(s=q(s),r=q(r),!et(e)&&zi(r)&&!zi(s)))return r.value=s,!0;const a=et(e)&&vs(i)?Number(i)<e.length:Pn(e,i),c=Reflect.set(e,i,s,o);return e===q(o)&&(a?da(s,r)&&je(e,"set",i,s,r):je(e,"add",i,s)),c}}function Dd(t,n){const e=Pn(t,n),i=t[n],s=Reflect.deleteProperty(t,n);return s&&e&&je(t,"delete",n,void 0,i),s}function Ld(t,n){const e=Reflect.has(t,n);return(!ms(n)||!pa.has(n))&&Ce(t,"has",n),e}function Td(t){return Ce(t,"iterate",et(t)?"length":tt),Reflect.ownKeys(t)}var kd={get:Cd,set:Ed,deleteProperty:Dd,has:Ld,ownKeys:Td},Md={get:xd,set(t,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0},deleteProperty(t,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}},ys=t=>Nn(t)?Os(t):t,ws=t=>Nn(t)?wa(t):t,_s=t=>t,Rn=t=>Reflect.getPrototypeOf(t);function Kt(t,n,e=!1,i=!1){t=t.__v_raw;const s=q(t),o=q(n);n!==o&&!e&&Ce(s,"get",n),!e&&Ce(s,"get",o);const{has:r}=Rn(s),a=i?_s:e?ws:ys;if(r.call(s,n))return a(t.get(n));if(r.call(s,o))return a(t.get(o));t!==s&&t.get(n)}function Yt(t,n=!1){const e=this.__v_raw,i=q(e),s=q(t);return t!==s&&!n&&Ce(i,"has",t),!n&&Ce(i,"has",s),t===s?e.has(t):e.has(t)||e.has(s)}function Wt(t,n=!1){return t=t.__v_raw,!n&&Ce(q(t),"iterate",tt),Reflect.get(t,"size",t)}function tr(t){t=q(t);const n=q(this);return Rn(n).has.call(n,t)||(n.add(t),je(n,"add",t,t)),this}function nr(t,n){n=q(n);const e=q(this),{has:i,get:s}=Rn(e);let o=i.call(e,t);o?va(e,i,t):(t=q(t),o=i.call(e,t));const r=s.call(e,t);return e.set(t,n),o?da(n,r)&&je(e,"set",t,n,r):je(e,"add",t,n),this}function ir(t){const n=q(this),{has:e,get:i}=Rn(n);let s=e.call(n,t);s?va(n,e,t):(t=q(t),s=e.call(n,t));const o=i?i.call(n,t):void 0,r=n.delete(t);return s&&je(n,"delete",t,void 0,o),r}function sr(){const t=q(this),n=t.size!==0,e=Dt(t)?new Map(t):new Set(t),i=t.clear();return n&&je(t,"clear",void 0,void 0,e),i}function Jt(t,n){return function(i,s){const o=this,r=o.__v_raw,a=q(r),c=n?_s:t?ws:ys;return!t&&Ce(a,"iterate",tt),r.forEach((u,h)=>i.call(s,c(u),c(h),o))}}function Gt(t,n,e){return function(...i){const s=this.__v_raw,o=q(s),r=Dt(o),a=t==="entries"||t===Symbol.iterator&&r,c=t==="keys"&&r,u=s[t](...i),h=e?_s:n?ws:ys;return!n&&Ce(o,"iterate",c?Ui:tt),{next(){const{value:v,done:y}=u.next();return y?{value:v,done:y}:{value:a?[h(v[0]),h(v[1])]:h(v),done:y}},[Symbol.iterator](){return this}}}}function Ne(t){return function(...n){{const e=n[0]?`on key "${n[0]}" `:"";console.warn(`${pd(t)} operation ${e}failed: target is readonly.`,q(this))}return t==="delete"?!1:this}}function Id(){const t={get(o){return Kt(this,o)},get size(){return Wt(this)},has:Yt,add:tr,set:nr,delete:ir,clear:sr,forEach:Jt(!1,!1)},n={get(o){return Kt(this,o,!1,!0)},get size(){return Wt(this)},has:Yt,add:tr,set:nr,delete:ir,clear:sr,forEach:Jt(!1,!0)},e={get(o){return Kt(this,o,!0)},get size(){return Wt(this,!0)},has(o){return Yt.call(this,o,!0)},add:Ne("add"),set:Ne("set"),delete:Ne("delete"),clear:Ne("clear"),forEach:Jt(!0,!1)},i={get(o){return Kt(this,o,!0,!0)},get size(){return Wt(this,!0)},has(o){return Yt.call(this,o,!0)},add:Ne("add"),set:Ne("set"),delete:Ne("delete"),clear:Ne("clear"),forEach:Jt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Gt(o,!1,!1),e[o]=Gt(o,!0,!1),n[o]=Gt(o,!1,!0),i[o]=Gt(o,!0,!0)}),[t,e,n,i]}var[Fd,Pd,am,lm]=Id();function ma(t,n){const e=t?Pd:Fd;return(i,s,o)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Pn(e,s)&&s in i?e:i,s,o)}var Nd={get:ma(!1)},Rd={get:ma(!0)};function va(t,n,e){const i=q(e);if(i!==e&&n.call(t,i)){const s=ua(t);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ba=new WeakMap,$d=new WeakMap,ya=new WeakMap,Hd=new WeakMap;function jd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bd(t){return t.__v_skip||!Object.isExtensible(t)?0:jd(ua(t))}function Os(t){return t&&t.__v_isReadonly?t:_a(t,!1,kd,Nd,ba)}function wa(t){return _a(t,!0,Md,Rd,ya)}function _a(t,n,e,i,s){if(!Nn(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(n&&t.__v_isReactive))return t;const o=s.get(t);if(o)return o;const r=Bd(t);if(r===0)return t;const a=new Proxy(t,r===2?i:e);return s.set(t,a),a}function q(t){return t&&q(t.__v_raw)||t}function zi(t){return!!(t&&t.__v_isRef===!0)}Se("nextTick",()=>hs);Se("dispatch",t=>At.bind(At,t));Se("watch",(t,{evaluateLater:n,cleanup:e})=>(i,s)=>{let o=n(i),a=bo(()=>{let c;return o(u=>c=u),c},s);e(a)});Se("store",nd);Se("data",t=>Eo(t));Se("root",t=>Mn(t));Se("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=$t(Vd(t))),t._x_refs_proxy));function Vd(t){let n=[];return bt(t,e=>{e._x_refs&&n.push(e._x_refs)}),n}var ti={};function Oa(t){return ti[t]||(ti[t]=0),++ti[t]}function qd(t,n){return bt(t,e=>{if(e._x_ids&&e._x_ids[n])return!0})}function Ud(t,n){t._x_ids||(t._x_ids={}),t._x_ids[n]||(t._x_ids[n]=Oa(n))}Se("id",(t,{cleanup:n})=>(e,i=null)=>{let s=`${e}${i?`-${i}`:""}`;return zd(t,s,n,()=>{let o=qd(t,e),r=o?o._x_ids[e]:Oa(e);return i?`${e}-${r}-${i}`:`${e}-${r}`})});Fn((t,n)=>{t._x_id&&(n._x_id=t._x_id)});function zd(t,n,e,i){if(t._x_id||(t._x_id={}),t._x_id[n])return t._x_id[n];let s=i();return t._x_id[n]=s,e(()=>{delete t._x_id[n]}),s}Se("el",t=>t);Ca("Focus","focus","focus");Ca("Persist","persist","persist");function Ca(t,n,e){Se(n,i=>be(`You can't use [$${n}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}Z("modelable",(t,{expression:n},{effect:e,evaluateLater:i,cleanup:s})=>{let o=i(n),r=()=>{let h;return o(v=>h=v),h},a=i(`${n} = __placeholder`),c=h=>a(()=>{},{scope:{__placeholder:h}}),u=r();c(u),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let h=t._x_model.get,v=t._x_model.set,y=ra({get(){return h()},set(L){v(L)}},{get(){return r()},set(L){c(L)}});s(y)})});Z("teleport",(t,{modifiers:n,expression:e},{cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&be("x-teleport can only be used on a <template> tag",t);let s=rr(e),o=t.content.cloneNode(!0).firstElementChild;t._x_teleport=o,o._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),o.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(a=>{o.addEventListener(a,c=>{c.stopPropagation(),t.dispatchEvent(new c.constructor(c.type,c))})}),Rt(o,{},t);let r=(a,c,u)=>{u.includes("prepend")?c.parentNode.insertBefore(a,c):u.includes("append")?c.parentNode.insertBefore(a,c.nextSibling):c.appendChild(a)};J(()=>{r(o,s,n),Be(()=>{Ie(o)})()}),t._x_teleportPutBack=()=>{let a=rr(e);J(()=>{r(t._x_teleport,a,n)})},i(()=>J(()=>{o.remove(),yt(o)}))});var Kd=document.createElement("div");function rr(t){let n=Be(()=>document.querySelector(t),()=>Kd)();return n||be(`Cannot find x-teleport element for selector: "${t}"`),n}var xa=()=>{};xa.inline=(t,{modifiers:n},{cleanup:e})=>{n.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,e(()=>{n.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};Z("ignore",xa);Z("effect",Be((t,{expression:n},{effect:e})=>{e(ae(t,n))}));function Ki(t,n,e,i){let s=t,o=c=>i(c),r={},a=(c,u)=>h=>u(c,h);if(e.includes("dot")&&(n=Yd(n)),e.includes("camel")&&(n=Wd(n)),e.includes("passive")&&(r.passive=!0),e.includes("capture")&&(r.capture=!0),e.includes("window")&&(s=window),e.includes("document")&&(s=document),e.includes("debounce")){let c=e[e.indexOf("debounce")+1]||"invalid-wait",u=yn(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=ia(o,u)}if(e.includes("throttle")){let c=e[e.indexOf("throttle")+1]||"invalid-wait",u=yn(c.split("ms")[0])?Number(c.split("ms")[0]):250;o=sa(o,u)}return e.includes("prevent")&&(o=a(o,(c,u)=>{u.preventDefault(),c(u)})),e.includes("stop")&&(o=a(o,(c,u)=>{u.stopPropagation(),c(u)})),e.includes("once")&&(o=a(o,(c,u)=>{c(u),s.removeEventListener(n,o,r)})),(e.includes("away")||e.includes("outside"))&&(s=document,o=a(o,(c,u)=>{t.contains(u.target)||u.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&c(u))})),e.includes("self")&&(o=a(o,(c,u)=>{u.target===t&&c(u)})),(Gd(n)||Sa(n))&&(o=a(o,(c,u)=>{Qd(u,e)||c(u)})),s.addEventListener(n,o,r),()=>{s.removeEventListener(n,o,r)}}function Yd(t){return t.replace(/-/g,".")}function Wd(t){return t.toLowerCase().replace(/-(\w)/g,(n,e)=>e.toUpperCase())}function yn(t){return!Array.isArray(t)&&!isNaN(t)}function Jd(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Gd(t){return["keydown","keyup"].includes(t)}function Sa(t){return["contextmenu","click","mouse"].some(n=>t.includes(n))}function Qd(t,n){let e=n.filter(o=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(o));if(e.includes("debounce")){let o=e.indexOf("debounce");e.splice(o,yn((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.includes("throttle")){let o=e.indexOf("throttle");e.splice(o,yn((e[o+1]||"invalid-wait").split("ms")[0])?2:1)}if(e.length===0||e.length===1&&or(t.key).includes(e[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(o=>e.includes(o));return e=e.filter(o=>!s.includes(o)),!(s.length>0&&s.filter(r=>((r==="cmd"||r==="super")&&(r="meta"),t[`${r}Key`])).length===s.length&&(Sa(t.type)||or(t.key).includes(e[0])))}function or(t){if(!t)return[];t=Jd(t);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[t]=t,Object.keys(n).map(e=>{if(n[e]===t)return e}).filter(e=>e)}Z("model",(t,{modifiers:n,expression:e},{effect:i,cleanup:s})=>{let o=t;n.includes("parent")&&(o=t.parentNode);let r=ae(o,e),a;typeof e=="string"?a=ae(o,`${e} = __placeholder`):typeof e=="function"&&typeof e()=="string"?a=ae(o,`${e()} = __placeholder`):a=()=>{};let c=()=>{let y;return r(L=>y=L),ar(y)?y.get():y},u=y=>{let L;r(b=>L=b),ar(L)?L.set(y):a(()=>{},{scope:{__placeholder:y}})};typeof e=="string"&&t.type==="radio"&&J(()=>{t.hasAttribute("name")||t.setAttribute("name",e)});var h=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||n.includes("lazy")?"change":"input";let v=He?()=>{}:Ki(t,h,n,y=>{u(ni(t,n,y,c()))});if(n.includes("fill")&&([void 0,null,""].includes(c())||gs(t)&&Array.isArray(c())||t.tagName.toLowerCase()==="select"&&t.multiple)&&u(ni(t,n,{target:t},c())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=v,s(()=>t._x_removeModelListeners.default()),t.form){let y=Ki(t.form,"reset",[],L=>{hs(()=>t._x_model&&t._x_model.set(ni(t,n,{target:t},c())))});s(()=>y())}t._x_model={get(){return c()},set(y){u(y)}},t._x_forceModelUpdate=y=>{y===void 0&&typeof e=="string"&&e.match(/\./)&&(y=""),window.fromModel=!0,J(()=>Xo(t,"value",y)),delete window.fromModel},i(()=>{let y=c();n.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(y)})});function ni(t,n,e,i){return J(()=>{if(e instanceof CustomEvent&&e.detail!==void 0)return e.detail!==null&&e.detail!==void 0?e.detail:e.target.value;if(gs(t))if(Array.isArray(i)){let s=null;return n.includes("number")?s=ii(e.target.value):n.includes("boolean")?s=dn(e.target.value):s=e.target.value,e.target.checked?i.includes(s)?i:i.concat([s]):i.filter(o=>!Xd(o,s))}else return e.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return n.includes("number")?Array.from(e.target.selectedOptions).map(s=>{let o=s.value||s.text;return ii(o)}):n.includes("boolean")?Array.from(e.target.selectedOptions).map(s=>{let o=s.value||s.text;return dn(o)}):Array.from(e.target.selectedOptions).map(s=>s.value||s.text);{let s;return na(t)?e.target.checked?s=e.target.value:s=i:s=e.target.value,n.includes("number")?ii(s):n.includes("boolean")?dn(s):n.includes("trim")?s.trim():s}}})}function ii(t){let n=t?parseFloat(t):null;return Zd(n)?n:t}function Xd(t,n){return t==n}function Zd(t){return!Array.isArray(t)&&!isNaN(t)}function ar(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}Z("cloak",t=>queueMicrotask(()=>J(()=>t.removeAttribute(vt("cloak")))));Ko(()=>`[${vt("init")}]`);Z("init",Be((t,{expression:n},{evaluate:e})=>typeof n=="string"?!!n.trim()&&e(n,{},!1):e(n,{},!1)));Z("text",(t,{expression:n},{effect:e,evaluateLater:i})=>{let s=i(n);e(()=>{s(o=>{J(()=>{t.textContent=o})})})});Z("html",(t,{expression:n},{effect:e,evaluateLater:i})=>{let s=i(n);e(()=>{s(o=>{J(()=>{t.innerHTML=o,t._x_ignoreSelf=!0,Ie(t),delete t._x_ignoreSelf})})})});us(No(":",Ro(vt("bind:"))));var Ea=(t,{value:n,modifiers:e,expression:i,original:s},{effect:o,cleanup:r})=>{if(!n){let c={};sd(c),ae(t,i)(h=>{aa(t,h,s)},{scope:c});return}if(n==="key")return ef(t,i);if(t._x_inlineBindings&&t._x_inlineBindings[n]&&t._x_inlineBindings[n].extract)return;let a=ae(t,i);o(()=>a(c=>{c===void 0&&typeof i=="string"&&i.match(/\./)&&(c=""),J(()=>Xo(t,n,c,e))})),r(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Ea.inline=(t,{value:n,modifiers:e,expression:i})=>{n&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[n]={expression:i,extract:!1})};Z("bind",Ea);function ef(t,n){t._x_keyExpression=n}zo(()=>`[${vt("data")}]`);Z("data",(t,{expression:n},{cleanup:e})=>{if(tf(t))return;n=n===""?"{}":n;let i={};Pi(i,t);let s={};od(s,i);let o=Ze(t,n,{scope:s});(o===void 0||o===!0)&&(o={}),Pi(o,t);let r=gt(o);Ao(r);let a=Rt(t,r);r.init&&Ze(t,r.init),e(()=>{r.destroy&&Ze(t,r.destroy),a()})});Fn((t,n)=>{t._x_dataStack&&(n._x_dataStack=t._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function tf(t){return He?Vi?!0:t.hasAttribute("data-has-alpine-state"):!1}Z("show",(t,{modifiers:n,expression:e},{effect:i})=>{let s=ae(t,e);t._x_doHide||(t._x_doHide=()=>{J(()=>{t.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{J(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let o=()=>{t._x_doHide(),t._x_isShown=!1},r=()=>{t._x_doShow(),t._x_isShown=!0},a=()=>setTimeout(r),c=ji(v=>v?r():o(),v=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,v,r,o):v?a():o()}),u,h=!0;i(()=>s(v=>{!h&&v===u||(n.includes("immediate")&&(v?a():o()),c(v),u=v,h=!1)}))});Z("for",(t,{expression:n},{effect:e,cleanup:i})=>{let s=sf(n),o=ae(t,s.items),r=ae(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},e(()=>nf(t,s,o,r)),i(()=>{Object.values(t._x_lookup).forEach(a=>J(()=>{yt(a),a.remove()})),delete t._x_prevKeys,delete t._x_lookup})});function nf(t,n,e,i){let s=r=>typeof r=="object"&&!Array.isArray(r),o=t;e(r=>{rf(r)&&r>=0&&(r=Array.from(Array(r).keys(),l=>l+1)),r===void 0&&(r=[]);let a=t._x_lookup,c=t._x_prevKeys,u=[],h=[];if(s(r))r=Object.entries(r).map(([l,d])=>{let f=lr(n,d,l,r);i(g=>{h.includes(g)&&be("Duplicate key on x-for",t),h.push(g)},{scope:{index:l,...f}}),u.push(f)});else for(let l=0;l<r.length;l++){let d=lr(n,r[l],l,r);i(f=>{h.includes(f)&&be("Duplicate key on x-for",t),h.push(f)},{scope:{index:l,...d}}),u.push(d)}let v=[],y=[],L=[],b=[];for(let l=0;l<c.length;l++){let d=c[l];h.indexOf(d)===-1&&L.push(d)}c=c.filter(l=>!L.includes(l));let _="template";for(let l=0;l<h.length;l++){let d=h[l],f=c.indexOf(d);if(f===-1)c.splice(l,0,d),v.push([_,l]);else if(f!==l){let g=c.splice(l,1)[0],O=c.splice(f-1,1)[0];c.splice(l,0,O),c.splice(f,0,g),y.push([g,O])}else b.push(d);_=d}for(let l=0;l<L.length;l++){let d=L[l];d in a&&(J(()=>{yt(a[d]),a[d].remove()}),delete a[d])}for(let l=0;l<y.length;l++){let[d,f]=y[l],g=a[d],O=a[f],T=document.createElement("div");J(()=>{O||be('x-for ":key" is undefined or invalid',o,f,a),O.after(T),g.after(O),O._x_currentIfEl&&O.after(O._x_currentIfEl),T.before(g),g._x_currentIfEl&&g.after(g._x_currentIfEl),T.remove()}),O._x_refreshXForScope(u[h.indexOf(f)])}for(let l=0;l<v.length;l++){let[d,f]=v[l],g=d==="template"?o:a[d];g._x_currentIfEl&&(g=g._x_currentIfEl);let O=u[f],T=h[f],D=document.importNode(o.content,!0).firstElementChild,C=gt(O);Rt(D,C,o),D._x_refreshXForScope=A=>{Object.entries(A).forEach(([E,I])=>{C[E]=I})},J(()=>{g.after(D),Be(()=>Ie(D))()}),typeof T=="object"&&be("x-for key cannot be an object, it must be a string or an integer",o),a[T]=D}for(let l=0;l<b.length;l++)a[b[l]]._x_refreshXForScope(u[h.indexOf(b[l])]);o._x_prevKeys=h})}function sf(t){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,e=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=t.match(i);if(!s)return;let o={};o.items=s[2].trim();let r=s[1].replace(e,"").trim(),a=r.match(n);return a?(o.item=r.replace(n,"").trim(),o.index=a[1].trim(),a[2]&&(o.collection=a[2].trim())):o.item=r,o}function lr(t,n,e,i){let s={};return/^\[.*\]$/.test(t.item)&&Array.isArray(n)?t.item.replace("[","").replace("]","").split(",").map(r=>r.trim()).forEach((r,a)=>{s[r]=n[a]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(n)&&typeof n=="object"?t.item.replace("{","").replace("}","").split(",").map(r=>r.trim()).forEach(r=>{s[r]=n[r]}):s[t.item]=n,t.index&&(s[t.index]=e),t.collection&&(s[t.collection]=i),s}function rf(t){return!Array.isArray(t)&&!isNaN(t)}function Aa(){}Aa.inline=(t,{expression:n},{cleanup:e})=>{let i=Mn(t);i._x_refs||(i._x_refs={}),i._x_refs[n]=t,e(()=>delete i._x_refs[n])};Z("ref",Aa);Z("if",(t,{expression:n},{effect:e,cleanup:i})=>{t.tagName.toLowerCase()!=="template"&&be("x-if can only be used on a <template> tag",t);let s=ae(t,n),o=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let a=t.content.cloneNode(!0).firstElementChild;return Rt(a,{},t),J(()=>{t.after(a),Be(()=>Ie(a))()}),t._x_currentIfEl=a,t._x_undoIf=()=>{J(()=>{yt(a),a.remove()}),delete t._x_currentIfEl},a},r=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};e(()=>s(a=>{a?o():r()})),i(()=>t._x_undoIf&&t._x_undoIf())});Z("id",(t,{expression:n},{evaluate:e})=>{e(n).forEach(s=>Ud(t,s))});Fn((t,n)=>{t._x_ids&&(n._x_ids=t._x_ids)});us(No("@",Ro(vt("on:"))));Z("on",Be((t,{value:n,modifiers:e,expression:i},{cleanup:s})=>{let o=i?ae(t,i):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(n)||t._x_forwardEvents.push(n));let r=Ki(t,n,e,a=>{o(()=>{},{scope:{$event:a},params:[a]})});s(()=>r())}));$n("Collapse","collapse","collapse");$n("Intersect","intersect","intersect");$n("Focus","trap","focus");$n("Mask","mask","mask");function $n(t,n,e){Z(n,i=>be(`You can't use [x-${n}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${e}`,i))}Ht.setEvaluator(Mo);Ht.setReactivityEngine({reactive:Os,effect:md,release:vd,raw:q});var of=Ht,Da=of,af=Object.defineProperty,lf=(t,n,e)=>n in t?af(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,lt=(t,n,e)=>lf(t,typeof n!="symbol"?n+"":n,e);document.addEventListener("alpine:init",()=>{window.Alpine.store("editOnClickValidation",{pending:[],set(t,n){this.pending=this.pending.filter(e=>e.value!==t),this.pending.push({value:t,textContent:n})},has(t){return this.pending.some(n=>n.value===t)},get(t){return this.pending.find(n=>n.value===t)},notContains(t){return this.pending.length>0&&!this.has(t)},clear(){this.pending=[]},getTextContent(t){const n=this.pending.find(e=>e.value===t);return n?n.textContent:null}}),window.editOnClickValidation=window.Alpine.store("editOnClickValidation")});document.addEventListener("alpine:init",()=>{window.Alpine.store("pgBulkActions",{selected:[],init(){window.addEventListener("pgBulkActions::addMore",t=>{const n=t.__livewire.params[0];typeof this.selected[n.tableName]>"u"&&(this.selected[n.tableName]=[]),this.selected[n.tableName].push(n.value)}),window.addEventListener("pgBulkActions::clear",t=>{this.clear(t.detail)}),window.addEventListener("pgBulkActions::clearAll",()=>{this.clearAll()})},add(t,n){if(typeof this.selected[n]>"u"&&(this.selected[n]=[]),!this.selected[n].includes(t)){this.selected[n].push(t);return}this.remove(t,n)},remove(t,n){const e=this.selected[n].indexOf(t);e>-1&&this.selected[n].splice(e,1)},get(t){return this.selected[t]??""},count(t){return typeof this.selected[t]>"u"?0:this.selected[t].length},clear(t){this.selected[t]=[]},clearAll(){this.selected=[]}}),window.pgBulkActions=window.Alpine.store("pgBulkActions")});const cf=t=>({field:t.field??null,tableName:t.tableName??null,enabled:t.enabled??!1,id:t.id,trueValue:t.trueValue,falseValue:t.falseValue,toggle:t.toggle,save(){this.toggle=this.toggle===0?1:0,this.$wire.dispatch("pg:toggleable-"+this.tableName,{id:this.id,field:this.field,value:this.toggle})}}),uf=(t,n,e)=>{const i=t[n];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((s,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+n+(n.split("/").length!==e?". Note that variables only represent file names one level deep.":""))))})},df=t=>({dataField:t.dataField,tableName:t.tableName,label:t.label??null,locale:t.locale??{locale:"default",dateFormat:"Y-m-d H:i",time_24hr:!1,enableTime:!0},onlyFuture:t.onlyFuture??!1,noWeekEnds:t.noWeekEnds??!1,customConfig:t.customConfig??null,type:t.type,element:null,selectedDates:null,async init(){typeof flatpickr>"u"&&(console.log("%c%s","color: #f59e0c; font-size: 1.2em; font-weight: bold; line-height: 1.5"," PowerGrid"),console.error("%c%s","font-size: 1em; line-height: 1.5",`
Failed to mount filter: Filter::datetime('${this.dataField}') on table ['${this.tableName}']

• Install flatpickr: npm install flatpickr

• Add 'import flatpickr from "flatpickr"' in resources/js/app.js file
  `)),window.addEventListener(`pg:clear_flatpickr::${this.tableName}:${this.dataField}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()}),window.addEventListener(`pg:clear_all_flatpickr::${this.tableName}`,()=>{this.$refs.rangeInput&&this.element&&this.element.clear()});try{const e=await uf(Object.assign({}),`./flatpickr/dist/l10n/${this.locale.locale}.js`,5);flatpickr.localize(e.default||e)}catch{}const n=this.getOptions();this.$refs.rangeInput&&typeof flatpickr<"u"&&(this.element=flatpickr(this.$refs.rangeInput,n),this.selectedDates=this.$wire.get(`filters.${this.type}.${this.dataField}.formatted`),this.element.setDate(this.selectedDates))},getOptions(){const n={mode:"range",defaultHour:0,...this.locale,...this.customConfig};return this.onlyFuture&&(n.minDate="today"),this.noWeekEnds&&(n.disable=[function(e){return e.getDay()===0||e.getDay()===6}]),n.onClose=(e,i,s)=>{e=e.map(o=>this.element.formatDate(o,"Y-m-d")),e.length>0&&this.selectedDates!==i&&Livewire.dispatch("pg:datePicker-"+this.tableName,{selectedDates:e,dateStr:i,timezone:this.customConfig.timezone??new Date().toString().match(/([-\+][0-9]+)\s/)[1],type:this.type,field:this.dataField,label:this.label,dateFormat:this.locale.dateFormat??"Y-m-d H:i"})},n}}),ff=t=>({theme:t.theme,id:t.id??null,dataField:t.dataField??null,content:t.content,fallback:t.fallback,inputClass:t.inputClass,saveOnMouseOut:t.saveOnMouseOut,oldContent:null,editable:!1,hash:null,hashError:!0,showEditable:!1,editableInput:"",init(){this.content.length===0&&this.fallback&&(this.content=this.htmlSpecialChars(this.fallback)),this.hash=this.dataField+"-"+this.id,window.addEventListener("toggle-"+this.hash,()=>{this.observe(()=>document.getElementById("clickable-"+this.hash),n=>{n.click(),this.observe(()=>document.getElementById("editable-"+this.hash),e=>{setTimeout(()=>this.setFocusToEnd(e),100)})})}),this.$watch("editable",n=>{if(n){let e=!1;if(this.showEditable=!1,this.content=this.htmlSpecialChars(this.content),this.oldContent=this.content,this.hashError=this.store().notContains(this.hash),this.observe(()=>document.getElementById("editable-"+this.hash),i=>{setTimeout(()=>{this.setFocusToEnd(i),this.store().getTextContent(this.hash)&&(i.textContent=this.store().getTextContent(this.hash))},30)}),this.hashError){const i=this.store().get(this.hash),s=document.getElementById("clickable-"+i);s&&s.click()}e=!0,this.editableInput=`
                <div
                    x-ref="editable"
                    x-text="content"
                    value="${this.content}"
                    placeholder="${this.content}"
                    contenteditable
                    class="pg-single-line ${this.inputClass}"
                    ${this.saveOnMouseOut?'x-on:mousedown.outside="save()"':""}
                    x-on:keydown.enter="save()"
                    id="${"editable-"+this.dataField+"-"+this.id}"
                    x-on:keydown.esc="cancel"
                >
                </div>`,this.$nextTick(()=>setTimeout(()=>{this.showEditable=e,this.focus()},150))}}),this.content=this.htmlSpecialChars(this.content)},store(){return window.editOnClickValidation},save(){this.store().clear(),this.store().set(this.hash,this.$el.textContent),this.observe(()=>document.getElementById("clickable-"+this.hash),n=>{n.textContent=this.$el.textContent}),window.addEventListener("pg:editable-close-"+this.id,()=>{this.store().clear(),this.editable=!1,this.showEditable=!1}),this.store().has(this.hash)||this.store().set(this.hash,this.$el.textContent),this.$wire.dispatch("pg:editable-"+this.$wire.tableName,{id:this.id,value:this.$el.textContent,field:this.dataField}),this.oldContent=this.store().getTextContent(this.hash),this.$nextTick(()=>{this.focus(),this.$el.setAttribute("value","")}),this.content=this.htmlSpecialChars(this.$el.textContent)},focus(){this.setFocusToEnd(this.$el)},cancel(){this.store().clear(),this.$refs.editable.textContent=this.oldContent,this.content=this.oldContent,this.editable=!1,this.showEditable=!1,this.$refs.error&&(this.$refs.error.innerHTML="")},htmlSpecialChars(n){const e=document.createElement("div");return e.innerHTML=n,e.textContent},observe(n,e){new MutationObserver((i,s)=>{for(let o of i)if(o.type==="childList"){const r=n();if(r){e(r),s.disconnect();break}}}).observe(document.body,{childList:!0,subtree:!0})},setFocusToEnd(n){if(!n)return;const e=window.getSelection(),i=document.createRange();i.selectNodeContents(n),i.collapse(!1),e.removeAllRanges(),e.addRange(i),n.focus()}});function hf(t){t.querySelectorAll("tbody tr td").forEach(n=>{n.classList.remove("hidden")}),t.querySelectorAll("thead tr th").forEach(n=>{n.classList.remove("hidden")})}function pf(t){let n=0;const e=t.querySelectorAll("table thead tr:nth-child(1) th[fixed]"),i=Yi(t);return e.forEach(s=>{n+=Yi(s)}),i-n}function gf(t,n){const e=[].slice.call(t.querySelectorAll("table thead tr:nth-child(1) th")),i=Array.from(e).filter(c=>getComputedStyle(c).display!=="none"),s=[].slice.call(i).sort(function(c,u){const h=c.getAttribute("sort_order")??999,v=u.getAttribute("sort_order")??999;return h-v});let o=0,r=!0;const a=[];return s.forEach(c=>{const u=Yi(c);c.getAttribute("fixed")===null&&(r&&o<=n&&o+u<=n?o+=u:(a.push(i.indexOf(c)+1),r=!1))}),a}function mf(t,n){for(const e of n)t.querySelectorAll(`tbody:not(tbody[expand]) tr td:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")}),t.querySelectorAll(`thead tr th:nth-child(${e})`).forEach(i=>{i.classList.add("hidden")})}function vf(t,n){var e,i;if(t.querySelectorAll("table tbody[expand] tr td div").length){for(const s of t.querySelectorAll("table tbody[expand] tr td div"))s.innerHTML="";if(n.length)for(const s of n){const o=t.querySelectorAll("table tbody:not(tbody[expand])");for(const r of o){const a=(e=r.nextElementSibling)==null?void 0:e.querySelector("tr td div");if(!a)continue;let c=t.querySelector(`table thead tr th:nth-child(${s}) span[data-value]`).textContent;const u=(i=r.querySelector(`tr:last-child td:nth-child(${s})`))==null?void 0:i.innerHTML;c.length&&(c+=":"),a.querySelector(`div[data-expand-item-${s}]`)||(a.innerHTML+=`<div class="responsive-row-expand-item-container" data-expand-item-${s}>
                    <span class="font-bold responsive-row-expand-item-name">${c}</span>
                    <span class="responsive-row-expand-item-value">${u}</span>
                </div>`)}}}}function Yi(t){return parseFloat(t.getBoundingClientRect().width.toFixed(2))}function bf(t){hf(t);const n=pf(t),e=gf(t,n);vf(t,e),mf(t,e)}const yf=()=>({running:!1,expanded:null,element:null,hasHiddenElements:!1,size:0,toggleExpanded(t){this.expanded=this.expanded==t?null:t},init(){this.$nextTick(()=>{this.handleResize(),this.observeElement(),window.addEventListener("pg-livewire-request-finished",()=>{setTimeout(()=>this.handleResize(),5)})})},handleResize(){var t;const n=this.$el;bf(n),this.hasHiddenElements=(t=n.querySelector("table tbody[expand] tr td div"))==null?void 0:t.innerHTML,this.hasHiddenElements||(this.expanded=null)},observeElement(){new ResizeObserver(t=>{t.forEach(n=>{if(n.contentRect.width>0){if(this.size===this.$el.getBoundingClientRect().width)return;this.size=this.$el.getBoundingClientRect().width,this.handleResize()}})}).observe(this.$el)}}),wf=(t,n,e)=>{Livewire.dispatch(`${t}-${n.tableName}`,{label:n.label,field:n.dataField,values:e})},La=(t,n)=>{wf("pg:multiSelect",t,n)};function si(t,n){t.split(/\s+/).forEach(e=>{n(e)})}class _f{constructor(){this._events={}}on(n,e){si(n,i=>{const s=this._events[i]||[];s.push(e),this._events[i]=s})}off(n,e){var i=arguments.length;if(i===0){this._events={};return}si(n,s=>{if(i===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[s]=o)})}trigger(n,...e){var i=this;si(n,s=>{const o=i._events[s];o!==void 0&&o.forEach(r=>{r.apply(i,e)})})}}function Of(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){t.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,i;const s=this,o=[];if(Array.isArray(n))n.forEach(r=>{typeof r=="string"?o.push(r):(s.plugins.settings[r.name]=r.options,o.push(r.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(s.plugins.settings[e]=n[e],o.push(e));for(;i=o.shift();)s.require(i)}loadPlugin(n){var e=this,i=e.plugins,s=t.plugins[n];if(!t.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');i.requested[n]=!0,i.loaded[n]=s.fn.apply(e,[e.plugins.settings[n]||{}]),i.names.push(n)}require(n){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(i.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return i.loaded[n]}}}const Hn=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":xf(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),Ta=t=>{if(!Cf(t))return t.join("");let n="",e=0;const i=()=>{e>1&&(n+="{"+e+"}")};return t.forEach((s,o)=>{if(s===t[o-1]){e++;return}i(),n+=s,e=1}),i(),n},ka=t=>{let n=Array.from(t);return Hn(n)},Cf=t=>new Set(t).size!==t.length,Mt=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),xf=t=>t.reduce((n,e)=>Math.max(n,Sf(e)),0),Sf=t=>Array.from(t).length,Ma=t=>{if(t.length===1)return[[t]];let n=[];const e=t.substring(1);return Ma(e).forEach(function(i){let s=i.slice(0);s[0]=t.charAt(0)+s[0],n.push(s),s=i.slice(0),s.unshift(t.charAt(0)),n.push(s)}),n},Ef=[[0,65535]],Af="[̀-ͯ·ʾʼ]";let wn,Ia;const Df=3,Cs={},cr={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in cr){let n=cr[t]||"";for(let e=0;e<n.length;e++){let i=n.substring(e,e+1);Cs[i]=t}}const Lf=new RegExp(Object.keys(Cs).join("|")+"|"+Af,"gu"),Tf=t=>{wn===void 0&&(wn=Ff(Ef))},ur=(t,n="NFKD")=>t.normalize(n),_n=t=>Array.from(t).reduce((n,e)=>n+kf(e),""),kf=t=>(t=ur(t).toLowerCase().replace(Lf,n=>Cs[n]||""),ur(t,"NFC"));function*Mf(t){for(const[n,e]of t)for(let i=n;i<=e;i++){let s=String.fromCharCode(i),o=_n(s);o!=s.toLowerCase()&&(o.length>Df||o.length!=0&&(yield{folded:o,composed:s,code_point:i}))}}const If=t=>{const n={},e=(i,s)=>{const o=n[i]||new Set,r=new RegExp("^"+ka(o)+"$","iu");s.match(r)||(o.add(Mt(s)),n[i]=o)};for(let i of Mf(t))e(i.folded,i.folded),e(i.folded,i.composed);return n},Ff=t=>{const n=If(t),e={};let i=[];for(let o in n){let r=n[o];r&&(e[o]=ka(r)),o.length>1&&i.push(Mt(o))}i.sort((o,r)=>r.length-o.length);const s=Hn(i);return Ia=new RegExp("^"+s,"u"),e},Pf=(t,n=1)=>{let e=0;return t=t.map(i=>(wn[i]&&(e+=i.length),wn[i]||i)),e>=n?Ta(t):""},Nf=(t,n=1)=>(n=Math.max(n,t.length-1),Hn(Ma(t).map(e=>Pf(e,n)))),dr=(t,n=!0)=>{let e=t.length>1?1:0;return Hn(t.map(i=>{let s=[];const o=n?i.length():i.length()-1;for(let r=0;r<o;r++)s.push(Nf(i.substrs[r]||"",e));return Ta(s)}))},Rf=(t,n)=>{for(const e of n){if(e.start!=t.start||e.end!=t.end||e.substrs.join("")!==t.substrs.join(""))continue;let i=t.parts;const s=o=>{for(const r of i){if(r.start===o.start&&r.substr===o.substr)return!1;if(!(o.length==1||r.length==1)&&(o.start<r.start&&o.end>r.start||r.start<o.start&&r.end>o.start))return!0}return!1};if(!(e.parts.filter(s).length>0))return!0}return!1};class On{constructor(){lt(this,"parts"),lt(this,"substrs"),lt(this,"start"),lt(this,"end"),this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let i=new On,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const c of s)i.add(c);let r=e.substr.substring(0,n-o.start),a=r.length;return i.add({start:o.start,end:o.start+a,length:a,substr:r}),i}}const $f=t=>{Tf(),t=_n(t);let n="",e=[new On];for(let i=0;i<t.length;i++){let s=t.substring(i).match(Ia);const o=t.substring(i,i+1),r=s?s[0]:null;let a=[],c=new Set;for(const u of e){const h=u.last();if(!h||h.length==1||h.end<=i)if(r){const v=r.length;u.add({start:i,end:i+v,length:v,substr:r}),c.add("1")}else u.add({start:i,end:i+1,length:1,substr:o}),c.add("2");else if(r){let v=u.clone(i,h);const y=r.length;v.add({start:i,end:i+y,length:y,substr:r}),a.push(v)}else c.add("3")}if(a.length>0){a=a.sort((u,h)=>u.length()-h.length());for(let u of a)Rf(u,e)||e.push(u);continue}if(i>0&&c.size==1&&!c.has("3")){n+=dr(e,!1);let u=new On;const h=e[0];h&&u.add(h.last()),e=[u]}}return n+=dr(e,!0),n},Hf=(t,n)=>{if(t)return t[n]},jf=(t,n)=>{if(t){for(var e,i=n.split(".");(e=i.shift())&&(t=t[e]););return t}},ri=(t,n,e)=>{var i,s;return!t||(t=t+"",n.regex==null)||(s=t.search(n.regex),s===-1)?0:(i=n.string.length/t.length,s===0&&(i+=.5),i*e)},oi=(t,n)=>{var e=t[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(t[n]=[e])},Qt=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Bf=(t,n)=>typeof t=="number"&&typeof n=="number"?t>n?1:t<n?-1:0:(t=_n(t+"").toLowerCase(),n=_n(n+"").toLowerCase(),t>n?1:n>t?-1:0);class Vf{constructor(n,e){lt(this,"items"),lt(this,"settings"),this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,i){if(!n||!n.length)return[];const s=[],o=n.split(/\s+/);var r;return i&&(r=new RegExp("^("+Object.keys(i).map(Mt).join("|")+"):(.*)$")),o.forEach(a=>{let c,u=null,h=null;r&&(c=a.match(r))&&(u=c[1],a=c[2]),a.length>0&&(this.settings.diacritics?h=$f(a)||null:h=Mt(a),h&&e&&(h="\\b"+h)),s.push({string:a,regex:h?new RegExp(h,"iu"):null,field:u})}),s}getScoreFunction(n,e){var i=this.prepareSearch(n,e);return this._getScoreFunction(i)}_getScoreFunction(n){const e=n.tokens,i=e.length;if(!i)return function(){return 0};const s=n.options.fields,o=n.weights,r=s.length,a=n.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(u,h){const v=s[0].field;return ri(a(h,v),u,o[v]||1)}:function(u,h){var v=0;if(u.field){const y=a(h,u.field);!u.regex&&y?v+=1/r:v+=ri(y,u,1)}else Qt(o,(y,L)=>{v+=ri(a(h,L),u,y)});return v/r}}();return i===1?function(u){return c(e[0],u)}:n.options.conjunction==="and"?function(u){var h,v=0;for(let y of e){if(h=c(y,u),h<=0)return 0;v+=h}return v/i}:function(u){var h=0;return Qt(e,v=>{h+=c(v,u)}),h/i}}getSortFunction(n,e){var i=this.prepareSearch(n,e);return this._getSortFunction(i)}_getSortFunction(n){var e,i=[];const s=this,o=n.options,r=!n.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const a=function(c,u){return c==="$score"?u.score:n.getAttrFn(s.items[u.id],c)};if(r)for(let c of r)(n.query||c.field!=="$score")&&i.push(c);if(n.query){e=!0;for(let c of i)if(c.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(c=>c.field!=="$score");return i.length?function(c,u){var h,v;for(let y of i)if(v=y.field,h=(y.direction==="desc"?-1:1)*Bf(a(v,c),a(v,u)),h)return h;return 0}:null}prepareSearch(n,e){const i={};var s=Object.assign({},e);if(oi(s,"sort"),oi(s,"sort_empty"),s.fields){oi(s,"fields");const o=[];s.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),i[r.field]="weight"in r?r.weight:1}),s.fields=o}return{options:s,query:n.toLowerCase().trim(),tokens:this.tokenize(n,s.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:s.nesting?jf:Hf}}search(n,e){var i=this,s,o;o=this.prepareSearch(n,e),e=o.options,n=o.query;const r=e.score||i._getScoreFunction(o);n.length?Qt(i.items,(c,u)=>{s=r(c),(e.filter===!1||s>0)&&o.items.push({score:s,id:u})}):Qt(i.items,(c,u)=>{o.items.push({score:1,id:u})});const a=i._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const we=t=>typeof t>"u"||t===null?null:fn(t),fn=t=>typeof t=="boolean"?t?"1":"0":t+"",ai=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),qf=(t,n)=>n>0?window.setTimeout(t,n):(t.call(null),null),Uf=(t,n)=>{var e;return function(i,s){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[i]=!0,t.call(o,i,s)},n)}},fr=(t,n,e)=>{var i,s=t.trigger,o={};t.trigger=function(){var r=arguments[0];if(n.indexOf(r)!==-1)o[r]=arguments;else return s.apply(t,arguments)},e.apply(t,[]),t.trigger=s;for(i of n)i in o&&s.apply(t,o[i])},zf=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),Q=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},se=(t,n,e,i)=>{t.addEventListener(n,e,i)},Ue=(t,n)=>{if(!n||!n[t])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},li=(t,n)=>t.getAttribute("id")||(t.setAttribute("id",n),n),hr=t=>t.replace(/[\\"']/g,"\\$&"),ze=(t,n)=>{n&&t.append(n)},te=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Le=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Fa(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Fa=t=>typeof t=="string"&&t.indexOf("<")>-1,Kf=t=>t.replace(/['"\\]/g,"\\$&"),ci=(t,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),t.dispatchEvent(e)},Xt=(t,n)=>{Object.assign(t.style,n)},he=(t,...n)=>{var e=Pa(n);t=Na(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},Re=(t,...n)=>{var e=Pa(n);t=Na(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},Pa=t=>{var n=[];return te(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Na=t=>(Array.isArray(t)||(t=[t]),t),ui=(t,n,e)=>{if(!(e&&!e.contains(t)))for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},pr=(t,n=0)=>n>0?t[t.length-1]:t[0],Yf=t=>Object.keys(t).length===0,gr=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e},K=(t,n)=>{te(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},Wi=(t,n)=>{t.parentNode&&t.parentNode.replaceChild(n,t)},Wf=(t,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}const e=o=>{var r=o.data.match(n);if(r&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var u=c.cloneNode(!0);return a.appendChild(u),Wi(c,a),1}return 0},i=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{s(r)})},s=o=>o.nodeType===3?e(o):(i(o),0);s(t)},Jf=t=>{var n=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Gf=65,Qf=13,Xf=27,Zf=37,eh=38,th=39,nh=40,mr=8,ih=46,vr=9,sh=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),Zt=sh?"metaKey":"ctrlKey",br={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function yr(t,n){var e=Object.assign({},br,n),i=e.dataAttr,s=e.labelField,o=e.valueField,r=e.disabledField,a=e.optgroupField,c=e.optgroupLabelField,u=e.optgroupValueField,h=t.tagName.toLowerCase(),v=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let _=t.querySelector('option[value=""]');_&&(v=_.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},L=()=>{var _,l=y.options,d={},f=1;let g=0;var O=C=>{var A=Object.assign({},C.dataset),E=i&&A[i];return typeof E=="string"&&E.length&&(A=Object.assign(A,JSON.parse(E))),A},T=(C,A)=>{var E=we(C.value);if(E!=null&&!(!E&&!e.allowEmptyOption)){if(d.hasOwnProperty(E)){if(A){var I=d[E][a];I?Array.isArray(I)?I.push(A):d[E][a]=[I,A]:d[E][a]=A}}else{var M=O(C);M[s]=M[s]||C.textContent,M[o]=M[o]||E,M[r]=M[r]||C.disabled,M[a]=M[a]||A,M.$option=C,M.$order=M.$order||++g,d[E]=M,l.push(M)}C.selected&&y.items.push(E)}},D=C=>{var A,E;E=O(C),E[c]=E[c]||C.getAttribute("label")||"",E[u]=E[u]||f++,E[r]=E[r]||C.disabled,E.$order=E.$order||++g,y.optgroups.push(E),A=E[u],te(C.children,I=>{T(I,A)})};y.maxItems=t.hasAttribute("multiple")?null:1,te(t.children,C=>{_=C.tagName.toLowerCase(),_==="optgroup"?D(C):_==="option"&&T(C)})},b=()=>{const _=t.getAttribute(i);if(_)y.options=JSON.parse(_),te(y.options,d=>{y.items.push(d[o])});else{var l=t.value.trim()||"";if(!e.allowEmptyOption&&!l.length)return;const d=l.split(e.delimiter);te(d,f=>{const g={};g[s]=f,g[o]=f,y.options.push(g)}),y.items=d}};return h==="select"?L():b(),Object.assign({},br,y,n)}var wr=0;class le extends Of(_f){constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,wr++;var i,s=Le(n);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);i=o.getPropertyValue("direction");const r=yr(s,e);this.settings=r,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=li(s,"tomselect-"+wr),this.isRequired=s.required,this.sifter=new Vf(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var a=r.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?r.createFilter=l=>a.test(l):r.createFilter=l=>this.settings.duplicates||!this.options[l]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=Le("<div>"),u=Le("<div>"),h=this._render("dropdown"),v=Le('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",L=r.mode;var b;if(he(c,r.wrapperClass,y,L),he(u,r.controlClass),ze(c,u),he(h,r.dropdownClass,L),r.copyClassesToDropdown&&he(h,y),he(v,r.dropdownContentClass),ze(h,v),Le(r.dropdownParent||c).appendChild(h),Fa(r.controlInput)){b=Le(r.controlInput);var _=["autocorrect","autocapitalize","autocomplete","spellcheck"];te(_,l=>{s.getAttribute(l)&&K(b,{[l]:s.getAttribute(l)})}),b.tabIndex=-1,u.appendChild(b),this.focus_node=b}else r.controlInput?(b=Le(r.controlInput),this.focus_node=b):(b=Le("<input/>"),this.focus_node=u);this.wrapper=c,this.dropdown=h,this.dropdown_content=v,this.control=u,this.control_input=b,this.setup()}setup(){const n=this,e=n.settings,i=n.control_input,s=n.dropdown,o=n.dropdown_content,r=n.wrapper,a=n.control,c=n.input,u=n.focus_node,h={passive:!0},v=n.inputId+"-ts-dropdown";K(o,{id:v}),K(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=li(u,n.inputId+"-ts-control"),L="label[for='"+Kf(n.inputId)+"']",b=document.querySelector(L),_=n.focus.bind(n);if(b){se(b,"click",_),K(b,{for:y});const f=li(b,n.inputId+"-ts-label");K(u,{"aria-labelledby":f}),K(o,{"aria-labelledby":f})}if(r.style.width=c.style.width,n.plugins.names.length){const f="plugin-"+n.plugins.names.join(" plugin-");he([r,s],f)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&K(c,{multiple:"multiple"}),e.placeholder&&K(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+Mt(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=Uf(e.load,e.loadThrottle)),se(s,"mousemove",()=>{n.ignoreHover=!1}),se(s,"mouseenter",f=>{var g=ui(f.target,"[data-selectable]",s);g&&n.onOptionHover(f,g)},{capture:!0}),se(s,"click",f=>{const g=ui(f.target,"[data-selectable]");g&&(n.onOptionSelect(f,g),Q(f,!0))}),se(a,"click",f=>{var g=ui(f.target,"[data-ts-item]",a);if(g&&n.onItemSelect(f,g)){Q(f,!0);return}i.value==""&&(n.onClick(),Q(f,!0))}),se(u,"keydown",f=>n.onKeyDown(f)),se(i,"keypress",f=>n.onKeyPress(f)),se(i,"input",f=>n.onInput(f)),se(u,"blur",f=>n.onBlur(f)),se(u,"focus",f=>n.onFocus(f)),se(i,"paste",f=>n.onPaste(f));const l=f=>{const g=f.composedPath()[0];if(!r.contains(g)&&!s.contains(g)){n.isFocused&&n.blur(),n.inputState();return}g==i&&n.isOpen?f.stopPropagation():Q(f,!0)},d=()=>{n.isOpen&&n.positionDropdown()};se(document,"mousedown",l),se(window,"scroll",d,h),se(window,"resize",d,h),this._destroy=()=>{document.removeEventListener("mousedown",l),window.removeEventListener("scroll",d),window.removeEventListener("resize",d),b&&b.removeEventListener("click",_)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,se(c,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,c.disabled?n.disable():c.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),he(c,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),te(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var n=this,e=n.settings.labelField,i=n.settings.optgroupLabelField,s={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[i])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};n.settings.render=Object.assign({},s,n.settings.render)}setupCallbacks(){var n,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in i)e=this.settings[i[n]],e&&this.on(n,e)}sync(n=!0){const e=this,i=n?yr(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){ci(this.input,"input"),ci(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){Q(n);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var s=i.trim().split(e.settings.splitOn);te(s,o=>{we(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){Q(n);return}var i=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),Q(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==vr&&Q(n);return}switch(n.keyCode){case Gf:if(Ue(Zt,n)&&e.control_input.value==""){Q(n),e.selectAll();return}break;case Xf:e.isOpen&&(Q(n,!0),e.close()),e.clearActiveItems();return;case nh:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}Q(n);return;case eh:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}Q(n);return;case Qf:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),Q(n)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&Q(n);return;case Zf:e.advanceSelection(-1,n);return;case th:e.advanceSelection(1,n);return;case vr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),Q(n)),e.settings.create&&e.createItem()&&Q(n));return;case mr:case ih:e.deleteSelection(n);return}e.isInputHidden&&!Ue(Zt,n)&&Q(n)}onInput(n){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=qf(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),Q(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(n,e){var i,s=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(i=e.dataset.value,typeof i<"u"&&(s.lastQuery=null,s.addItem(i),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&n.type&&/click/.test(n.type)&&s.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(Q(n),i.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){const e=this;if(!e.canLoad(n))return;he(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,n,i)}loadCallback(n,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(n,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||Re(i.wrapper,i.settings.loadingClass),i.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,i=e.value!==n;i&&(e.value=n,ci(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var i=e?[]:["change"];fr(this,i,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var i=this,s,o,r,a,c,u;if(i.settings.mode!=="single"){if(!n){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(s=e&&e.type.toLowerCase(),s==="click"&&Ue("shiftKey",e)&&i.activeItems.length){for(u=i.getLastActive(),r=Array.prototype.indexOf.call(i.control.children,u),a=Array.prototype.indexOf.call(i.control.children,n),r>a&&(c=r,r=a,a=c),o=r;o<=a;o++)n=i.control.children[o],i.activeItems.indexOf(n)===-1&&i.setActiveItemClass(n);Q(e)}else s==="click"&&Ue(Zt,e)||s==="keydown"&&Ue("shiftKey",e)?n.classList.contains("active")?i.removeActiveItem(n):i.setActiveItemClass(n):(i.clearActiveItems(),i.setActiveItemClass(n));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(n){const e=this,i=e.control.querySelector(".last-active");i&&Re(i,"last-active"),he(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),Re(n,"active")}clearActiveItems(){Re(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,K(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),K(n,{"aria-selected":"true"}),he(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;const i=this.dropdown_content,s=i.clientHeight,o=i.scrollTop||0,r=n.offsetHeight,a=n.getBoundingClientRect().top-i.getBoundingClientRect().top+o;a+r>s+o?this.scroll(a-s+r,e):a<o&&this.scroll(a,e)}scroll(n,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=n,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(Re(this.activeOption,"active"),K(this.activeOption,{"aria-selected":null})),this.activeOption=null,K(this.focus_node,{"aria-activedescendant":null})}selectAll(){const n=this;if(n.settings.mode==="single")return;const e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,te(e,i=>{n.setActiveItemClass(i)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(K(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&K(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,i,s=this,o=this.getSearchOptions();if(s.settings.score&&(i=s.settings.score.call(s,n),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==s.lastQuery?(s.lastQuery=n,e=s.sifter.search(n,Object.assign(o,{score:i})),s.currentResults=e):e=Object.assign({},s.currentResults),s.settings.hideSelected&&(e.items=e.items.filter(r=>{let a=we(r.id);return!(a&&s.items.indexOf(a)!==-1)})),e}refreshOptions(n=!0){var e,i,s,o,r,a,c,u,h,v;const y={},L=[];var b=this,_=b.inputValue();const l=_===b.lastQuery||_==""&&b.lastQuery==null;var d=b.search(_),f=null,g=b.settings.shouldOpen||!1,O=b.dropdown_content;l&&(f=b.activeOption,f&&(h=f.closest("[data-group]"))),o=d.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(g=!0);const T=(C,A)=>{let E=y[C];if(E!==void 0){let M=L[E];if(M!==void 0)return[E,M.fragment]}let I=document.createDocumentFragment();return E=L.length,L.push({fragment:I,order:A,optgroup:C}),[E,I]};for(e=0;e<o;e++){let C=d.items[e];if(!C)continue;let A=C.id,E=b.options[A];if(E===void 0)continue;let I=fn(A),M=b.getOption(I,!0);for(b.settings.hideSelected||M.classList.toggle("selected",b.items.includes(I)),r=E[b.settings.optgroupField]||"",a=Array.isArray(r)?r:[r],i=0,s=a&&a.length;i<s;i++){r=a[i];let U=E.$order,z=b.optgroups[r];z===void 0?r="":U=z.$order;const[Ee,Ae]=T(r,U);i>0&&(M=M.cloneNode(!0),K(M,{id:E.$id+"-clone-"+i,"aria-selected":null}),M.classList.add("ts-cloned"),Re(M,"active"),b.activeOption&&b.activeOption.dataset.value==A&&h&&h.dataset.group===r.toString()&&(f=M)),Ae.appendChild(M),r!=""&&(y[r]=Ee)}}b.settings.lockOptgroupOrder&&L.sort((C,A)=>C.order-A.order),c=document.createDocumentFragment(),te(L,C=>{let A=C.fragment,E=C.optgroup;if(!A||!A.children.length)return;let I=b.optgroups[E];if(I!==void 0){let M=document.createDocumentFragment(),U=b.render("optgroup_header",I);ze(M,U),ze(M,A);let z=b.render("optgroup",{group:I,options:M});ze(c,z)}else ze(c,A)}),O.innerHTML="",ze(O,c),b.settings.highlight&&(Jf(O),d.query.length&&d.tokens.length&&te(d.tokens,C=>{Wf(O,C.regex)}));var D=C=>{let A=b.render(C,{input:_});return A&&(g=!0,O.insertBefore(A,O.firstChild)),A};if(b.loading?D("loading"):b.settings.shouldLoad.call(b,_)?d.items.length===0&&D("no_results"):D("not_loading"),u=b.canCreate(_),u&&(v=D("option_create")),b.hasOptions=d.items.length>0||u,g){if(d.items.length>0){if(!f&&b.settings.mode==="single"&&b.items[0]!=null&&(f=b.getOption(b.items[0])),!O.contains(f)){let C=0;v&&!b.settings.addPrecedence&&(C=1),f=b.selectable()[C]}}else v&&(f=v);n&&!b.isOpen&&(b.open(),b.scrollToOption(f,"auto")),b.setActiveOption(f)}else b.clearActiveOption(),n&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){const i=this;if(Array.isArray(n))return i.addOptions(n,e),!1;const s=we(n[i.settings.valueField]);return s===null||i.options.hasOwnProperty(s)?!1:(n.$order=n.$order||++i.order,n.$id=i.inputId+"-opt-"+n.$order,i.options[s]=n,i.lastQuery=null,e&&(i.userOptions[s]=e,i.trigger("option_add",s,n)),s)}addOptions(n,e=!1){te(n,i=>{this.addOption(i,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=we(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var i;e[this.settings.optgroupValueField]=n,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){const i=this;var s,o;const r=we(n),a=we(e[i.settings.valueField]);if(r===null)return;const c=i.options[r];if(c==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=i.getOption(r),h=i.getItem(r);if(e.$order=e.$order||c.$order,delete i.options[r],i.uncacheValue(a),i.options[a]=e,u){if(i.dropdown_content.contains(u)){const v=i._render("option",e);Wi(u,v),i.activeOption===u&&i.setActiveOption(v)}u.remove()}h&&(o=i.items.indexOf(r),o!==-1&&i.items.splice(o,1,a),s=i._render("item",e),h.classList.contains("active")&&he(s,"active"),Wi(h,s)),i.lastQuery=null}removeOption(n,e){const i=this;n=fn(n),i.uncacheValue(n),delete i.userOptions[n],delete i.options[n],i.lastQuery=null,i.trigger("option_remove",n),i.removeItem(n,e)}clearOptions(n){const e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};te(this.options,(s,o)=>{e(s,o)&&(i[o]=s)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){const i=we(n);if(i===null)return null;const s=this.options[i];if(s!=null){if(s.$div)return s.$div;if(e)return this._render("option",s)}return null}getAdjacent(n,e,i="option"){var s=this,o;if(!n)return null;i=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==n)return e>0?o[r+1]:o[r-1];return null}getItem(n){if(typeof n=="object")return n;var e=we(n);return e!==null?this.control.querySelector(`[data-value="${hr(e)}"]`):null}addItems(n,e){var i=this,s=Array.isArray(n)?n:[n];s=s.filter(r=>i.items.indexOf(r)===-1);const o=s[s.length-1];s.forEach(r=>{i.isPending=r!==o,i.addItem(r,e)})}addItem(n,e){var i=e?[]:["change","dropdown_close"];fr(this,i,()=>{var s,o;const r=this,a=r.settings.mode,c=we(n);if(!(c&&r.items.indexOf(c)!==-1&&(a==="single"&&r.close(),a==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(a==="single"&&r.clear(e),!(a==="multi"&&r.isFull()))){if(s=r._render("item",r.options[c]),r.control.contains(s)&&(s=s.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(s),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let u=r.getOption(c),h=r.getAdjacent(u,1);h&&r.setActiveOption(h)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&a!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,s),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(n=null,e){const i=this;if(n=i.getItem(n),!n)return;var s,o;const r=n.dataset.value;s=gr(n),n.remove(),n.classList.contains("active")&&(o=i.activeItems.indexOf(n),i.activeItems.splice(o,1),Re(n,"active")),i.items.splice(s,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(r)&&i.removeOption(r,e),s<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",r,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,s=i.caretPos,o;if(n=n||i.inputValue(),!i.canCreate(n))return e(),!1;i.lock();var r=!1,a=c=>{if(i.unlock(),!c||typeof c!="object")return e();var u=we(c[i.settings.valueField]);if(typeof u!="string")return e();i.setTextboxValue(),i.addOption(c,!0),i.setCaret(s),i.addItem(u),e(c),r=!0};return typeof i.settings.create=="function"?o=i.settings.create.call(this,n,a):o={[i.settings.labelField]:n,[i.settings.valueField]:n},r||a(o),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){const n=this;n.refreshValidityState();const e=n.isFull(),i=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);const s=n.wrapper.classList;s.toggle("focus",n.isFocused),s.toggle("disabled",n.isDisabled),s.toggle("readonly",n.isReadOnly),s.toggle("required",n.isRequired),s.toggle("invalid",!n.isValid),s.toggle("locked",i),s.toggle("full",e),s.toggle("input-active",n.isFocused&&!n.isInputHidden),s.toggle("dropdown-active",n.isOpen),s.toggle("has-options",Yf(n.options)),s.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){const e=this;var i,s;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let r=function(u,h,v){return u||(u=Le('<option value="'+ai(h)+'">'+ai(v)+"</option>")),u!=o&&e.input.append(u),a.push(u),(u!=o||c>0)&&(u.selected=!0),u};const a=[],c=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(u=>{u.selected=!1}),e.items.length==0&&e.settings.mode=="single"?r(o,"",""):e.items.forEach(u=>{if(i=e.options[u],s=i[e.settings.labelField]||"",a.includes(i.$option)){const h=e.input.querySelector(`option[value="${hr(u)}"]:not(:checked)`);r(h,u,s)}else i.$option=r(i.$option,u,s)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,K(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),Xt(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),Xt(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,i=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,K(e.focus_node,{"aria-expanded":"false"}),Xt(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),i=n.offsetHeight+e.top+window.scrollY,s=e.left+window.scrollX;Xt(this.dropdown,{width:e.width+"px",top:i+"px",left:s+"px"})}}clear(n){var e=this;if(e.items.length){var i=e.controlChildren();te(i,s=>{e.removeItem(s,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){const e=this,i=e.caretPos,s=e.control;s.insertBefore(n,s.children[i]||null),e.setCaret(i+1)}deleteSelection(n){var e,i,s,o,r=this;e=n&&n.keyCode===mr?-1:1,i=zf(r.control_input);const a=[];if(r.activeItems.length)o=pr(r.activeItems,e),s=gr(o),e>0&&s++,te(r.activeItems,c=>a.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let u;e<0&&i.start===0&&i.length===0?u=c[r.caretPos-1]:e>0&&i.start===r.inputValue().length&&(u=c[r.caretPos]),u!==void 0&&a.push(u)}if(!r.shouldDelete(a,n))return!1;for(Q(n,!0),typeof s<"u"&&r.setCaret(s);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(n,e){const i=n.map(s=>s.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(n,e){var i,s,o=this;o.rtl&&(n*=-1),!o.inputValue().length&&(Ue(Zt,e)||Ue("shiftKey",e)?(i=o.getLastActive(n),i?i.classList.contains("active")?s=o.getAdjacent(i,n,"item"):s=i:n>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(s))):o.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return pr(i,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,Re(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var i,s;const o=this;if(typeof this.settings.render[n]!="function"||(s=o.settings.render[n].call(this,e,ai),!s))return null;if(s=Le(s),n==="option"||n==="option_create"?e[o.settings.disabledField]?K(s,{"aria-disabled":"true"}):K(s,{"data-selectable":""}):n==="optgroup"&&(i=e.group[o.settings.optgroupValueField],K(s,{"data-group":i}),e.group[o.settings.disabledField]&&K(s,{"data-disabled":""})),n==="option"||n==="item"){const r=fn(e[o.settings.valueField]);K(s,{"data-value":r}),n==="item"?(he(s,o.settings.itemClass),K(s,{"data-ts-item":""})):(he(s,o.settings.optionClass),K(s,{role:"option",id:e.$id}),e.$div=s,o.options[r]=e)}return s}_render(n,e){const i=this.render(n,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){te(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){const e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,i){var s=this,o=s[e];s[e]=function(){var r,a;return n==="after"&&(r=o.apply(s,arguments)),a=i.apply(s,arguments),n==="instead"?a:(n==="before"&&(r=o.apply(s,arguments)),r)}}}const rh=(t,n,e,i)=>{t.addEventListener(n,e,i)};function oh(){rh(this.input,"change",()=>{this.sync()})}const ah=t=>typeof t>"u"||t===null?null:lh(t),lh=t=>typeof t=="boolean"?t?"1":"0":t+"",_r=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},ch=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(uh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},uh=t=>typeof t=="string"&&t.indexOf("<")>-1;function dh(t){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(r,a){a?(r.checked=!0,i.uncheckedClassNames&&r.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&r.classList.add(...i.checkedClassNames)):(r.checked=!1,i.checkedClassNames&&r.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&r.classList.add(...i.uncheckedClassNames))},o=function(r){setTimeout(()=>{var a=r.querySelector("input."+i.className);a instanceof HTMLInputElement&&s(a,r.classList.contains("selected"))},1)};n.hook("after","setupTemplates",()=>{var r=n.settings.render.option;n.settings.render.option=(a,c)=>{var u=ch(r.call(n,a,c)),h=document.createElement("input");i.className&&h.classList.add(i.className),h.addEventListener("click",function(y){_r(y)}),h.type="checkbox";const v=ah(a[n.settings.valueField]);return s(h,!!(v&&n.items.indexOf(v)>-1)),u.prepend(h),u}}),n.on("item_remove",r=>{var a=n.getOption(r);a&&(a.classList.remove("selected"),o(a))}),n.on("item_add",r=>{var a=n.getOption(r);a&&o(a)}),n.hook("instead","onOptionSelect",(r,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),n.removeItem(a.dataset.value),n.refreshOptions(),_r(r,!0);return}e.call(n,r,a),o(a)})}const fh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(hh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},hh=t=>typeof t=="string"&&t.indexOf("<")>-1;function ph(t){const n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},t);n.on("initialize",()=>{var i=fh(e.html(e));i.addEventListener("click",s=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),s.preventDefault(),s.stopPropagation())}),n.control.appendChild(i)})}const gh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},ot=(t,n,e,i)=>{t.addEventListener(n,e,i)},mh=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},vh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(bh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},bh=t=>typeof t=="string"&&t.indexOf("<")>-1,yh=(t,n)=>{mh(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},wh=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t.nextSibling)},_h=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t)},Oh=(t,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,t==n)return!0}while(n&&n.previousElementSibling);return!1};function Ch(){var t=this;if(t.settings.mode!=="multi")return;var n=t.lock,e=t.unlock;let i=!0,s;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(r,a)=>{const c=vh(o.call(t,r,a));yh(c,{draggable:"true"});const u=_=>{i||gh(_),_.stopPropagation()},h=_=>{s=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=_=>{_.preventDefault(),c.classList.add("ts-drag-over"),L(c,s)},y=()=>{c.classList.remove("ts-drag-over")},L=(_,l)=>{l!==void 0&&(Oh(l,c)?wh(_,l):_h(_,l))},b=()=>{var _;document.querySelectorAll(".ts-drag-over").forEach(d=>d.classList.remove("ts-drag-over")),(_=s)==null||_.classList.remove("ts-dragging"),s=void 0;var l=[];t.control.querySelectorAll("[data-value]").forEach(d=>{if(d.dataset.value){let f=d.dataset.value;f&&l.push(f)}}),t.setValue(l)};return ot(c,"mousedown",u),ot(c,"dragstart",h),ot(c,"dragenter",v),ot(c,"dragover",v),ot(c,"dragleave",y),ot(c,"dragend",b),c}}),t.hook("instead","lock",()=>(i=!1,n.call(t))),t.hook("instead","unlock",()=>(i=!0,e.call(t)))}const xh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Sh=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Eh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Eh=t=>typeof t=="string"&&t.indexOf("<")>-1;function Ah(t){const n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},t);n.on("initialize",()=>{var i=Sh(e.html(e)),s=i.querySelector("."+e.closeClass);s&&s.addEventListener("click",o=>{xh(o,!0),n.close()}),n.dropdown.insertBefore(i,n.dropdown.firstChild)})}const Dh=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Lh=(t,...n)=>{var e=Th(n);t=kh(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},Th=t=>{var n=[];return Dh(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},kh=t=>(Array.isArray(t)||(t=[t]),t),Mh=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Ih(){var t=this;t.hook("instead","setCaret",n=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?n=t.items.length:(n=Math.max(0,Math.min(t.items.length,n)),n!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((e,i)=>{i<n?t.control_input.insertAdjacentElement("beforebegin",e):t.control.appendChild(e)})),t.caretPos=n}),t.hook("instead","moveCaret",n=>{if(!t.isFocused)return;const e=t.getLastActive(n);if(e){const i=Mh(e);t.setCaret(n>0?i+1:i),t.setActiveItem(),Lh(e,"last-active")}else t.setCaret(t.caretPos+n)})}const Fh=27,Ph=9,Nh=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Rh=(t,n,e,i)=>{t.addEventListener(n,e,i)},$h=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Or=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Hh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Hh=t=>typeof t=="string"&&t.indexOf("<")>-1,jh=(t,...n)=>{var e=Bh(n);t=Vh(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},Bh=t=>{var n=[];return $h(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Vh=t=>(Array.isArray(t)||(t=[t]),t);function qh(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,jh(t.control_input,"dropdown-input");const n=Or('<div class="dropdown-input-wrap">');n.append(t.control_input),t.dropdown.insertBefore(n,t.dropdown.firstChild);const e=Or('<input class="items-placeholder" tabindex="-1" />');e.placeholder=t.settings.placeholder||"",t.control.append(e)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case Fh:t.isOpen&&(Nh(e,!0),t.close()),t.clearActiveItems();return;case Ph:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,e)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const n=t.onBlur;t.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==t.control_input))return n.call(t)}),Rh(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const en=(t,n,e,i)=>{t.addEventListener(n,e,i)};function Uh(){var t=this;t.on("initialize",()=>{var n=document.createElement("span"),e=t.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(n);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of i)n.style[o]=e.style[o];var s=()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"};s(),t.on("update item_add item_remove",s),en(e,"input",s),en(e,"keyup",s),en(e,"blur",s),en(e,"update",s)})}function zh(){var t=this,n=t.deleteSelection;this.hook("instead","deleteSelection",e=>t.activeItems.length?n.call(t,e):!1)}function Kh(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const Cr=37,Yh=39,Wh=(t,n,e)=>{for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Jh=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Gh(){var t=this,n=t.onKeyDown;t.hook("instead","onKeyDown",e=>{var i,s,o,r;if(!t.isOpen||!(e.keyCode===Cr||e.keyCode===Yh))return n.call(t,e);t.ignoreHover=!0,r=Wh(t.activeOption,"[data-group]"),i=Jh(t.activeOption,"[data-selectable]"),r&&(e.keyCode===Cr?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,i)],s&&t.setActiveOption(s)))})}const Qh=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),xr=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Sr=(t,n,e,i)=>{t.addEventListener(n,e,i)},Er=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Xh(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Xh=t=>typeof t=="string"&&t.indexOf("<")>-1;function Zh(t){const n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var e=this;if(n.append){var i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+Qh(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var s=e.settings.render.item;e.settings.render.item=(o,r)=>{var a=Er(s.call(e,o,r)),c=Er(i);return a.appendChild(c),Sr(c,"mousedown",u=>{xr(u,!0)}),Sr(c,"click",u=>{e.isLocked||(xr(u,!0),!e.isLocked&&e.shouldDelete([a],u)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function ep(t){const n=this,e=Object.assign({text:i=>i[n.settings.labelField]},t);n.on("item_remove",function(i){if(n.isFocused&&n.control_input.value.trim()===""){var s=n.options[i];s&&n.setTextboxValue(e.text.call(n,s))}})}const tp=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},np=(t,...n)=>{var e=ip(n);t=sp(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},ip=t=>{var n=[];return tp(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},sp=t=>(Array.isArray(t)||(t=[t]),t);function rp(){const t=this,n=t.canLoad,e=t.clearActiveOption,i=t.loadCallback;var s={},o,r=!1,a,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var v=t.selectable(),y=Array.from(v).indexOf(t.activeOption);if(y>=v.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const u=v=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(v in s&&s[v]),h=(v,y)=>t.items.indexOf(y)>=0||c.indexOf(y)>=0;t.setNextUrl=(v,y)=>{s[v]=y},t.getUrl=v=>{if(v in s){const y=s[v];return s[v]=!1,y}return t.clearPagination(),t.settings.firstUrl.call(t,v)},t.clearPagination=()=>{s={}},t.hook("instead","clearActiveOption",()=>{if(!r)return e.call(t)}),t.hook("instead","canLoad",v=>v in s?u(v):n.call(t,v)),t.hook("instead","loadCallback",(v,y)=>{if(!r)t.clearOptions(h);else if(a){const L=v[0];L!==void 0&&(a.dataset.value=L[t.settings.valueField])}i.call(t,v,y),r=!1}),t.hook("after","refreshOptions",()=>{const v=t.lastValue;var y;u(v)?(y=t.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),a=y)):v in s&&!o.querySelector(".no-results")&&(y=t.render("no_more_results",{query:v})),y&&(np(y,t.settings.optionClass),o.append(y))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&u(t.lastValue)&&(r||(r=!0,t.load.call(t,t.lastValue)))})})}le.define("change_listener",oh);le.define("checkbox_options",dh);le.define("clear_button",ph);le.define("drag_drop",Ch);le.define("dropdown_header",Ah);le.define("caret_position",Ih);le.define("dropdown_input",qh);le.define("input_autogrow",Uh);le.define("no_backspace_delete",zh);le.define("no_active_items",Kh);le.define("optgroup_columns",Gh);le.define("remove_button",Zh);le.define("restore_on_backspace",ep);le.define("virtual_scroll",rp);const op=t=>({init(){const n=this.$refs[`select_picker_${t.dataField}_${t.tableName}`],e={items:t.initialValues,...t.framework,onChange:o=>{La(t,o)},onInitialize:()=>{t.appliedFilters&&t.dataField&&this.applyFilterForDataField(t.appliedFilters,t.dataField,n),window.addEventListener(`pg:clear_multi_select::${t.tableName}:${t.dataField}`,()=>{n&&n.tomselect.clear(!0)}),window.addEventListener(`pg:clear_all_multi_select::${t.tableName}`,()=>{n&&n.tomselect.clear(!0)})}},i={valueField:t.optionValue,labelField:t.optionLabel,searchField:t.optionLabel,load:async function(o,r){function a(c,u){var h;const{method:v,url:y}=c,L=new Request(y,{method:v,body:v.toLowerCase()==="post"?JSON.stringify({search:u,...s}):void 0});L.headers.set("Content-Type","application/json"),L.headers.set("Accept","application/json"),L.headers.set("X-Requested-With","XMLHttpRequest");const b=(h=document.head.querySelector('[name="csrf-token"]'))==null?void 0:h.getAttribute("content");return b&&L.headers.set("X-CSRF-TOKEN",b),L}fetch(a(t.asyncData,o)).then(c=>c.json()).then(c=>{r(c)}).catch(()=>{r()})},render:{option:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[t.optionLabel])}</span></div>`},item:function(o,r){return`<div class="py-2 mb-1"><span>${r(o[t.optionLabel])}</span></div>`}}};let s=e;t.hasOwnProperty("asyncData")&&(s=Object.assign(e,i)),new le(n,s)},applyFilterForDataField(n,e,i){const s=e.split(".");let o=n;for(const r of s)if(o&&typeof o=="object"&&o.hasOwnProperty(r))o=o[r];else return;Array.isArray(o)&&o.length>0&&i.tomselect.addItems(o)}}),ap=t=>({initialValues:t.initialValues,framework:t.framework,init(){const n=this.$refs["select_picker_"+t.dataField+"_"+t.tableName],e=this.deepCopy(this.framework);new window.SlimSelect({select:n,...e,events:{afterChange:i=>{let s=i.map(o=>o.value);La(t,s)}}}),t.appliedFilters&&t.dataField&&this.applyFilterForDataField(t.appliedFilters,t.dataField,n),window.addEventListener("pg:clear_multi_select::"+t.tableName+":"+t.dataField,()=>{n.slim.setSelected([],!1)}),window.addEventListener("pg:clear_all_multi_select::"+t.tableName,()=>{n.slim.setSelected([],!1)})},applyFilterForDataField(n,e,i){const s=e.split(".");let o=n;for(const r of s)if(o&&typeof o=="object"&&o.hasOwnProperty(r))o=o[r];else return;Array.isArray(o)&&o.length>0&&i.slim.setSelected(o,!1)},deepCopy(n){if(n===null||typeof n!="object")return n;if(Array.isArray(n))return n.map(this.deepCopy);const e={};for(const i in n)n.hasOwnProperty(i)&&(e[i]=this.deepCopy(n[i]));return e}}),lp=()=>({init(){Livewire.on("pg:scrollTop",t=>{setTimeout(()=>{document.querySelector("body").scrollIntoView({behavior:"auto"})},0)}),new IntersectionObserver(t=>{t[0].isIntersecting&&this.$wire.call("loadMore")},{rootMargin:"300px"}).observe(this.$el)}}),cp=t=>({rowId:(t==null?void 0:t.rowId)??null,parentId:(t==null?void 0:t.parentId)??null,toHtml(){let n=null;const e=this.parentId??this.$wire.id;if(this.rowId){const s=window[`pgActions_${e}`];s&&s[this.rowId]!==void 0&&(n=s[this.rowId])}else n=window[`pgActionsHeader_${e}`];if(typeof n!="object"||n===null)return"";let i="";return n.forEach(s=>{let o=this.shouldHideAction(s),r=this.getReplaceHtml(s);if(!o)if(r)i+=r;else{let a=this.buildAttributesString(s);if(s.icon){let c=this.processIcon(s);if(!c)return;i+=this.buildActionHtmlWithIcon(s,a,c)}else i+=this.buildActionHtml(s,a)}}),i},shouldHideAction(n){if(n.can===!1)return!0;let e=!1;return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.action.includes(n.action)&&i.apply&&i.rule.hide&&(e=!0)}),e},getReplaceHtml(n){let e=null;return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.apply&&i.action.includes(n.action)&&i.replaceHtml&&(e=i.replaceHtml)}),e},buildAttributesString(n){let e=n.attributes??[];return n.rules&&Object.values(n.rules).length>0&&Object.values(n.rules).forEach(i=>{i.apply&&i.action.includes(n.action)&&i.rule.setAttribute&&i.rule.setAttribute.length>0&&Object.values(i.rule.setAttribute).forEach(s=>{e[s.attribute]=s.value})}),Object.entries(e).map(([i,s])=>` ${i}="${s}"`).join("")},processIcon(n){const e=Object.entries(n.iconAttributes??[]).map(([s,o])=>` ${s}="${o}"`).join("");let i=window.pgResourceIcons[n.icon];return typeof i>"u"?(console.warn(`PowerGrid: Unable to load icons in javascript window in row: [${this.rowId}]`),null):this.replaceIconAttributes(i,e)},replaceIconAttributes(n,e){return n.replace(/<([^\s>]+)([^>]*)>/,(i,s,o)=>{let r=o.trim();const a=e.replace(/class="([^"]*)"/,(c,u)=>(r.includes("class=")?r=r.replace(/class="([^"]*)"/,(h,v)=>`class="${v} ${u.trim()}"`):r+=` ${c}`,""));return`<${s} ${r} ${a}>`})},buildActionHtmlWithIcon(n,e,i){return n.slot?`<${n.tag??"button"} ${e}>${i} ${n.slot}</${n.tag??"button"}>`:`<${n.tag??"button"} ${e}>${i}</${n.tag??"button"}>`},buildActionHtml(n,e){return`<${n.tag??"button"} ${e}>${n.slot}</${n.tag??"button"}>`}}),up=t=>({templateContent:(t==null?void 0:t.templateContent)??null,rendered:null,parentId:(t==null?void 0:t.parentId)??null,init(){const n=Object.keys(this.templateContent)[0],e=window[`pgRowTemplates_${this.parentId??this.$wire.id}`][n],i=this.templateContent[n];if(i){let s=e;for(const[o,r]of Object.entries(i)){const a=`{{ ${o} }}`,c=String(r).replace(/'/g,"\\'");s=s.replaceAll(a,c)}this.rendered=s}}}),dp=t=>({rowId:t.rowId,rules:t.rules,defaultClasses:t.defaultClasses,attributes:[],theme:[],init(){this.rules&&Object.values(this.rules).forEach(n=>{(n.applyLoop||n.apply)&&n!=null&&n.attributes&&this.attributes.push(n.attributes)})},getAttributes(){let n={class:this.defaultClasses};return this.attributes.forEach(e=>{Object.keys(e).forEach(i=>{typeof e[i]=="object"?n[e[i].key]=e[i].value:n[i]+=n[i]?` ${e[i]}`:e[i]})}),n}});window.pgToggleable=cf;window.pgFlatpickr=df;window.pgEditable=ff;window.pgResponsive=yf;window.pgTomSelect=op;window.pgSlimSelect=ap;window.pgLoadMore=lp;window.pgRenderActions=cp;window.pgRowAttributes=dp;window.pgRenderRowTemplate=up;document.addEventListener("DOMContentLoaded",()=>{Livewire.hook("commit",({component:t,succeed:n,fail:e})=>{t.ephemeral.setUp&&t.ephemeral.setUp.hasOwnProperty("responsive")&&(n(()=>{queueMicrotask(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))})}),e(()=>{window.dispatchEvent(new CustomEvent("pg-livewire-request-finished"))}))})});document.addEventListener("DOMContentLoaded",()=>{window.Alpine.directive("multisort-shift-click",(t,{expression:n})=>{t.addEventListener("click",e=>{window.Livewire.find(n).set("multiSort",e.shiftKey)})})});var di=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],ct={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var n=new Date(t.getTime());n.setHours(0,0,0,0),n.setDate(n.getDate()+3-(n.getDay()+6)%7);var e=new Date(n.getFullYear(),0,4);return 1+Math.round(((n.getTime()-e.getTime())/864e5-3+(e.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},It={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var n=t%100;if(n>3&&n<21)return"th";switch(n%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ue=function(t,n){return n===void 0&&(n=2),("000"+t).slice(n*-1)},ve=function(t){return t===!0?1:0};function Ar(t,n){var e;return function(){var i=this,s=arguments;clearTimeout(e),e=setTimeout(function(){return t.apply(i,s)},n)}}var fi=function(t){return t instanceof Array?t:[t]};function re(t,n,e){if(e===!0)return t.classList.add(n);t.classList.remove(n)}function B(t,n,e){var i=window.document.createElement(t);return n=n||"",e=e||"",i.className=n,e!==void 0&&(i.textContent=e),i}function tn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ra(t,n){if(n(t))return t;if(t.parentNode)return Ra(t.parentNode,n)}function nn(t,n){var e=B("div","numInputWrapper"),i=B("input","numInput "+t),s=B("span","arrowUp"),o=B("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?i.type="number":(i.type="text",i.pattern="\\d*"),n!==void 0)for(var r in n)i.setAttribute(r,n[r]);return e.appendChild(i),e.appendChild(s),e.appendChild(o),e}function pe(t){try{if(typeof t.composedPath=="function"){var n=t.composedPath();return n[0]}return t.target}catch{return t.target}}var hi=function(){},Cn=function(t,n,e){return e.months[n?"shorthand":"longhand"][t]},fp={D:hi,F:function(t,n,e){t.setMonth(e.months.longhand.indexOf(n))},G:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},H:function(t,n){t.setHours(parseFloat(n))},J:function(t,n){t.setDate(parseFloat(n))},K:function(t,n,e){t.setHours(t.getHours()%12+12*ve(new RegExp(e.amPM[1],"i").test(n)))},M:function(t,n,e){t.setMonth(e.months.shorthand.indexOf(n))},S:function(t,n){t.setSeconds(parseFloat(n))},U:function(t,n){return new Date(parseFloat(n)*1e3)},W:function(t,n,e){var i=parseInt(n),s=new Date(t.getFullYear(),0,2+(i-1)*7,0,0,0,0);return s.setDate(s.getDate()-s.getDay()+e.firstDayOfWeek),s},Y:function(t,n){t.setFullYear(parseFloat(n))},Z:function(t,n){return new Date(n)},d:function(t,n){t.setDate(parseFloat(n))},h:function(t,n){t.setHours((t.getHours()>=12?12:0)+parseFloat(n))},i:function(t,n){t.setMinutes(parseFloat(n))},j:function(t,n){t.setDate(parseFloat(n))},l:hi,m:function(t,n){t.setMonth(parseFloat(n)-1)},n:function(t,n){t.setMonth(parseFloat(n)-1)},s:function(t,n){t.setSeconds(parseFloat(n))},u:function(t,n){return new Date(parseFloat(n))},w:hi,y:function(t,n){t.setFullYear(2e3+parseFloat(n))}},Je={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Lt={Z:function(t){return t.toISOString()},D:function(t,n,e){return n.weekdays.shorthand[Lt.w(t,n,e)]},F:function(t,n,e){return Cn(Lt.n(t,n,e)-1,!1,n)},G:function(t,n,e){return ue(Lt.h(t,n,e))},H:function(t){return ue(t.getHours())},J:function(t,n){return n.ordinal!==void 0?t.getDate()+n.ordinal(t.getDate()):t.getDate()},K:function(t,n){return n.amPM[ve(t.getHours()>11)]},M:function(t,n){return Cn(t.getMonth(),!0,n)},S:function(t){return ue(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,n,e){return e.getWeek(t)},Y:function(t){return ue(t.getFullYear(),4)},d:function(t){return ue(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return ue(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,n){return n.weekdays.longhand[t.getDay()]},m:function(t){return ue(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},$a=function(t){var n=t.config,e=n===void 0?ct:n,i=t.l10n,s=i===void 0?It:i,o=t.isMobile,r=o===void 0?!1:o;return function(a,c,u){var h=u||s;return e.formatDate!==void 0&&!r?e.formatDate(a,c,h):c.split("").map(function(v,y,L){return Lt[v]&&L[y-1]!=="\\"?Lt[v](a,h,e):v!=="\\"?v:""}).join("")}},Ji=function(t){var n=t.config,e=n===void 0?ct:n,i=t.l10n,s=i===void 0?It:i;return function(o,r,a,c){if(!(o!==0&&!o)){var u=c||s,h,v=o;if(o instanceof Date)h=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)h=new Date(o);else if(typeof o=="string"){var y=r||(e||ct).dateFormat,L=String(o).trim();if(L==="today")h=new Date,a=!0;else if(e&&e.parseDate)h=e.parseDate(o,y);else if(/Z$/.test(L)||/GMT$/.test(L))h=new Date(o);else{for(var b=void 0,_=[],l=0,d=0,f="";l<y.length;l++){var g=y[l],O=g==="\\",T=y[l-1]==="\\"||O;if(Je[g]&&!T){f+=Je[g];var D=new RegExp(f).exec(o);D&&(b=!0)&&_[g!=="Y"?"push":"unshift"]({fn:fp[g],val:D[++d]})}else O||(f+=".")}h=!e||!e.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),_.forEach(function(C){var A=C.fn,E=C.val;return h=A(h,E,u)||h}),h=b?h:void 0}}if(!(h instanceof Date&&!isNaN(h.getTime()))){e.errorHandler(new Error("Invalid date provided: "+v));return}return a===!0&&h.setHours(0,0,0,0),h}}};function me(t,n,e){return e===void 0&&(e=!0),e!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(n.getTime()).setHours(0,0,0,0):t.getTime()-n.getTime()}var hp=function(t,n,e){return t>Math.min(n,e)&&t<Math.max(n,e)},pi=function(t,n,e){return t*3600+n*60+e},pp=function(t){var n=Math.floor(t/3600),e=(t-n*3600)/60;return[n,e,t-n*3600-e*60]},gp={DAY:864e5};function gi(t){var n=t.defaultHour,e=t.defaultMinute,i=t.defaultSeconds;if(t.minDate!==void 0){var s=t.minDate.getHours(),o=t.minDate.getMinutes(),r=t.minDate.getSeconds();n<s&&(n=s),n===s&&e<o&&(e=o),n===s&&e===o&&i<r&&(i=t.minDate.getSeconds())}if(t.maxDate!==void 0){var a=t.maxDate.getHours(),c=t.maxDate.getMinutes();n=Math.min(n,a),n===a&&(e=Math.min(c,e)),n===a&&e===c&&(i=t.maxDate.getSeconds())}return{hours:n,minutes:e,seconds:i}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var i=function(a){a&&Object.keys(a).forEach(function(c){return t[c]=a[c]})},s=0,o=n;s<o.length;s++){var r=o[s];i(r)}return t});var ie=function(){return ie=Object.assign||function(t){for(var n,e=1,i=arguments.length;e<i;e++){n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ie.apply(this,arguments)},Dr=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;for(var i=Array(t),s=0,n=0;n<e;n++)for(var o=arguments[n],r=0,a=o.length;r<a;r++,s++)i[s]=o[r];return i},mp=300;function vp(t,n){var e={config:ie(ie({},ct),ee.defaultConfig),l10n:It};e.parseDate=Ji({config:e.config,l10n:e.l10n}),e._handlers=[],e.pluginElements=[],e.loadedPlugins=[],e._bind=_,e._setHoursFromDate=y,e._positionCalendar=qt,e.changeMonth=Vn,e.changeYear=jt,e.clear=Wa,e.close=Ja,e.onMouseOver=Vt,e._createElement=B,e.createDay=D,e.destroy=Ga,e.isEnabled=Ve,e.jumpToDate=f,e.updateValue=Me,e.open=Za,e.redraw=ks,e.set=il,e.setDate=sl,e.toggle=ll;function i(){e.utils={getDaysInMonth:function(p,m){return p===void 0&&(p=e.currentMonth),m===void 0&&(m=e.currentYear),p===1&&(m%4===0&&m%100!==0||m%400===0)?29:e.l10n.daysInMonth[p]}}}function s(){e.element=e.input=t,e.isOpen=!1,el(),Ts(),ol(),rl(),i(),e.isMobile||T(),d(),(e.selectedDates.length||e.config.noCalendar)&&(e.config.enableTime&&y(e.config.noCalendar?e.latestSelectedDateObj:void 0),Me(!1)),a();var p=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!e.isMobile&&p&&qt(),W("onReady")}function o(){var p;return((p=e.calendarContainer)===null||p===void 0?void 0:p.getRootNode()).activeElement||document.activeElement}function r(p){return p.bind(e)}function a(){var p=e.config;p.weekNumbers===!1&&p.showMonths===1||p.noCalendar!==!0&&window.requestAnimationFrame(function(){if(e.calendarContainer!==void 0&&(e.calendarContainer.style.visibility="hidden",e.calendarContainer.style.display="block"),e.daysContainer!==void 0){var m=(e.days.offsetWidth+1)*p.showMonths;e.daysContainer.style.width=m+"px",e.calendarContainer.style.width=m+(e.weekWrapper!==void 0?e.weekWrapper.offsetWidth:0)+"px",e.calendarContainer.style.removeProperty("visibility"),e.calendarContainer.style.removeProperty("display")}})}function c(p){if(e.selectedDates.length===0){var m=e.config.minDate===void 0||me(new Date,e.config.minDate)>=0?new Date:new Date(e.config.minDate.getTime()),w=gi(e.config);m.setHours(w.hours,w.minutes,w.seconds,m.getMilliseconds()),e.selectedDates=[m],e.latestSelectedDateObj=m}p!==void 0&&p.type!=="blur"&&dl(p);var x=e._input.value;v(),Me(),e._input.value!==x&&e._debouncedChange()}function u(p,m){return p%12+12*ve(m===e.l10n.amPM[1])}function h(p){switch(p%24){case 0:case 12:return 12;default:return p%12}}function v(){if(!(e.hourElement===void 0||e.minuteElement===void 0)){var p=(parseInt(e.hourElement.value.slice(-2),10)||0)%24,m=(parseInt(e.minuteElement.value,10)||0)%60,w=e.secondElement!==void 0?(parseInt(e.secondElement.value,10)||0)%60:0;e.amPM!==void 0&&(p=u(p,e.amPM.textContent));var x=e.config.minTime!==void 0||e.config.minDate&&e.minDateHasTime&&e.latestSelectedDateObj&&me(e.latestSelectedDateObj,e.config.minDate,!0)===0,k=e.config.maxTime!==void 0||e.config.maxDate&&e.maxDateHasTime&&e.latestSelectedDateObj&&me(e.latestSelectedDateObj,e.config.maxDate,!0)===0;if(e.config.maxTime!==void 0&&e.config.minTime!==void 0&&e.config.minTime>e.config.maxTime){var F=pi(e.config.minTime.getHours(),e.config.minTime.getMinutes(),e.config.minTime.getSeconds()),H=pi(e.config.maxTime.getHours(),e.config.maxTime.getMinutes(),e.config.maxTime.getSeconds()),N=pi(p,m,w);if(N>H&&N<F){var j=pp(F);p=j[0],m=j[1],w=j[2]}}else{if(k){var P=e.config.maxTime!==void 0?e.config.maxTime:e.config.maxDate;p=Math.min(p,P.getHours()),p===P.getHours()&&(m=Math.min(m,P.getMinutes())),m===P.getMinutes()&&(w=Math.min(w,P.getSeconds()))}if(x){var R=e.config.minTime!==void 0?e.config.minTime:e.config.minDate;p=Math.max(p,R.getHours()),p===R.getHours()&&m<R.getMinutes()&&(m=R.getMinutes()),m===R.getMinutes()&&(w=Math.max(w,R.getSeconds()))}}L(p,m,w)}}function y(p){var m=p||e.latestSelectedDateObj;m&&m instanceof Date&&L(m.getHours(),m.getMinutes(),m.getSeconds())}function L(p,m,w){e.latestSelectedDateObj!==void 0&&e.latestSelectedDateObj.setHours(p%24,m,w||0,0),!(!e.hourElement||!e.minuteElement||e.isMobile)&&(e.hourElement.value=ue(e.config.time_24hr?p:(12+p)%12+12*ve(p%12===0)),e.minuteElement.value=ue(m),e.amPM!==void 0&&(e.amPM.textContent=e.l10n.amPM[ve(p>=12)]),e.secondElement!==void 0&&(e.secondElement.value=ue(w)))}function b(p){var m=pe(p),w=parseInt(m.value)+(p.delta||0);(w/1e3>1||p.key==="Enter"&&!/[^\d]/.test(w.toString()))&&jt(w)}function _(p,m,w,x){if(m instanceof Array)return m.forEach(function(k){return _(p,k,w,x)});if(p instanceof Array)return p.forEach(function(k){return _(k,m,w,x)});p.addEventListener(m,w,x),e._handlers.push({remove:function(){return p.removeEventListener(m,w,x)}})}function l(){W("onChange")}function d(){if(e.config.wrap&&["open","close","toggle","clear"].forEach(function(w){Array.prototype.forEach.call(e.element.querySelectorAll("[data-"+w+"]"),function(x){return _(x,"click",e[w])})}),e.isMobile){al();return}var p=Ar(Xa,50);if(e._debouncedChange=Ar(l,mp),e.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(e.daysContainer,"mouseover",function(w){e.config.mode==="range"&&Vt(pe(w))}),_(e._input,"keydown",As),e.calendarContainer!==void 0&&_(e.calendarContainer,"keydown",As),!e.config.inline&&!e.config.static&&_(window,"resize",p),window.ontouchstart!==void 0?_(window.document,"touchstart",qn):_(window.document,"mousedown",qn),_(window.document,"focus",qn,{capture:!0}),e.config.clickOpens===!0&&(_(e._input,"focus",e.open),_(e._input,"click",e.open)),e.daysContainer!==void 0&&(_(e.monthNav,"click",ul),_(e.monthNav,["keyup","increment"],b),_(e.daysContainer,"click",Ms)),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0){var m=function(w){return pe(w).select()};_(e.timeContainer,["increment"],c),_(e.timeContainer,"blur",c,{capture:!0}),_(e.timeContainer,"click",g),_([e.hourElement,e.minuteElement],["focus","click"],m),e.secondElement!==void 0&&_(e.secondElement,"focus",function(){return e.secondElement&&e.secondElement.select()}),e.amPM!==void 0&&_(e.amPM,"click",function(w){c(w)})}e.config.allowInput&&_(e._input,"blur",Qa)}function f(p,m){var w=p!==void 0?e.parseDate(p):e.latestSelectedDateObj||(e.config.minDate&&e.config.minDate>e.now?e.config.minDate:e.config.maxDate&&e.config.maxDate<e.now?e.config.maxDate:e.now),x=e.currentYear,k=e.currentMonth;try{w!==void 0&&(e.currentYear=w.getFullYear(),e.currentMonth=w.getMonth())}catch(F){F.message="Invalid date supplied: "+w,e.config.errorHandler(F)}m&&e.currentYear!==x&&(W("onYearChange"),z()),m&&(e.currentYear!==x||e.currentMonth!==k)&&W("onMonthChange"),e.redraw()}function g(p){var m=pe(p);~m.className.indexOf("arrow")&&O(p,m.classList.contains("arrowUp")?1:-1)}function O(p,m,w){var x=p&&pe(p),k=w||x&&x.parentNode&&x.parentNode.firstChild,F=zn("increment");F.delta=m,k&&k.dispatchEvent(F)}function T(){var p=window.document.createDocumentFragment();if(e.calendarContainer=B("div","flatpickr-calendar"),e.calendarContainer.tabIndex=-1,!e.config.noCalendar){if(p.appendChild(Fe()),e.innerContainer=B("div","flatpickr-innerContainer"),e.config.weekNumbers){var m=Ya(),w=m.weekWrapper,x=m.weekNumbers;e.innerContainer.appendChild(w),e.weekNumbers=x,e.weekWrapper=w}e.rContainer=B("div","flatpickr-rContainer"),e.rContainer.appendChild(Ss()),e.daysContainer||(e.daysContainer=B("div","flatpickr-days"),e.daysContainer.tabIndex=-1),U(),e.rContainer.appendChild(e.daysContainer),e.innerContainer.appendChild(e.rContainer),p.appendChild(e.innerContainer)}e.config.enableTime&&p.appendChild(Bn()),re(e.calendarContainer,"rangeMode",e.config.mode==="range"),re(e.calendarContainer,"animate",e.config.animate===!0),re(e.calendarContainer,"multiMonth",e.config.showMonths>1),e.calendarContainer.appendChild(p);var k=e.config.appendTo!==void 0&&e.config.appendTo.nodeType!==void 0;if((e.config.inline||e.config.static)&&(e.calendarContainer.classList.add(e.config.inline?"inline":"static"),e.config.inline&&(!k&&e.element.parentNode?e.element.parentNode.insertBefore(e.calendarContainer,e._input.nextSibling):e.config.appendTo!==void 0&&e.config.appendTo.appendChild(e.calendarContainer)),e.config.static)){var F=B("div","flatpickr-wrapper");e.element.parentNode&&e.element.parentNode.insertBefore(F,e.element),F.appendChild(e.element),e.altInput&&F.appendChild(e.altInput),F.appendChild(e.calendarContainer)}!e.config.static&&!e.config.inline&&(e.config.appendTo!==void 0?e.config.appendTo:window.document.body).appendChild(e.calendarContainer)}function D(p,m,w,x){var k=Ve(m,!0),F=B("span",p,m.getDate().toString());return F.dateObj=m,F.$i=x,F.setAttribute("aria-label",e.formatDate(m,e.config.ariaDateFormat)),p.indexOf("hidden")===-1&&me(m,e.now)===0&&(e.todayDateElem=F,F.classList.add("today"),F.setAttribute("aria-current","date")),k?(F.tabIndex=-1,Kn(m)&&(F.classList.add("selected"),e.selectedDateElem=F,e.config.mode==="range"&&(re(F,"startRange",e.selectedDates[0]&&me(m,e.selectedDates[0],!0)===0),re(F,"endRange",e.selectedDates[1]&&me(m,e.selectedDates[1],!0)===0),p==="nextMonthDay"&&F.classList.add("inRange")))):F.classList.add("flatpickr-disabled"),e.config.mode==="range"&&cl(m)&&!Kn(m)&&F.classList.add("inRange"),e.weekNumbers&&e.config.showMonths===1&&p!=="prevMonthDay"&&x%7===6&&e.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+e.config.getWeek(m)+"</span>"),W("onDayCreate",F),F}function C(p){p.focus(),e.config.mode==="range"&&Vt(p)}function A(p){for(var m=p>0?0:e.config.showMonths-1,w=p>0?e.config.showMonths:-1,x=m;x!=w;x+=p)for(var k=e.daysContainer.children[x],F=p>0?0:k.children.length-1,H=p>0?k.children.length:-1,N=F;N!=H;N+=p){var j=k.children[N];if(j.className.indexOf("hidden")===-1&&Ve(j.dateObj))return j}}function E(p,m){for(var w=p.className.indexOf("Month")===-1?p.dateObj.getMonth():e.currentMonth,x=m>0?e.config.showMonths:-1,k=m>0?1:-1,F=w-e.currentMonth;F!=x;F+=k)for(var H=e.daysContainer.children[F],N=w-e.currentMonth===F?p.$i+m:m<0?H.children.length-1:0,j=H.children.length,P=N;P>=0&&P<j&&P!=(m>0?j:-1);P+=k){var R=H.children[P];if(R.className.indexOf("hidden")===-1&&Ve(R.dateObj)&&Math.abs(p.$i-P)>=Math.abs(m))return C(R)}e.changeMonth(k),I(A(k),0)}function I(p,m){var w=o(),x=Bt(w||document.body),k=p!==void 0?p:x?w:e.selectedDateElem!==void 0&&Bt(e.selectedDateElem)?e.selectedDateElem:e.todayDateElem!==void 0&&Bt(e.todayDateElem)?e.todayDateElem:A(m>0?1:-1);k===void 0?e._input.focus():x?E(k,m):C(k)}function M(p,m){for(var w=(new Date(p,m,1).getDay()-e.l10n.firstDayOfWeek+7)%7,x=e.utils.getDaysInMonth((m-1+12)%12,p),k=e.utils.getDaysInMonth(m,p),F=window.document.createDocumentFragment(),H=e.config.showMonths>1,N=H?"prevMonthDay hidden":"prevMonthDay",j=H?"nextMonthDay hidden":"nextMonthDay",P=x+1-w,R=0;P<=x;P++,R++)F.appendChild(D("flatpickr-day "+N,new Date(p,m-1,P),P,R));for(P=1;P<=k;P++,R++)F.appendChild(D("flatpickr-day",new Date(p,m,P),P,R));for(var V=k+1;V<=42-w&&(e.config.showMonths===1||R%7!==0);V++,R++)F.appendChild(D("flatpickr-day "+j,new Date(p,m+1,V%k),V,R));var De=B("div","dayContainer");return De.appendChild(F),De}function U(){if(e.daysContainer!==void 0){tn(e.daysContainer),e.weekNumbers&&tn(e.weekNumbers);for(var p=document.createDocumentFragment(),m=0;m<e.config.showMonths;m++){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),p.appendChild(M(w.getFullYear(),w.getMonth()))}e.daysContainer.appendChild(p),e.days=e.daysContainer.firstChild,e.config.mode==="range"&&e.selectedDates.length===1&&Vt()}}function z(){if(!(e.config.showMonths>1||e.config.monthSelectorType!=="dropdown")){var p=function(x){return e.config.minDate!==void 0&&e.currentYear===e.config.minDate.getFullYear()&&x<e.config.minDate.getMonth()?!1:!(e.config.maxDate!==void 0&&e.currentYear===e.config.maxDate.getFullYear()&&x>e.config.maxDate.getMonth())};e.monthsDropdownContainer.tabIndex=-1,e.monthsDropdownContainer.innerHTML="";for(var m=0;m<12;m++)if(p(m)){var w=B("option","flatpickr-monthDropdown-month");w.value=new Date(e.currentYear,m).getMonth().toString(),w.textContent=Cn(m,e.config.shorthandCurrentMonth,e.l10n),w.tabIndex=-1,e.currentMonth===m&&(w.selected=!0),e.monthsDropdownContainer.appendChild(w)}}}function Ee(){var p=B("div","flatpickr-month"),m=window.document.createDocumentFragment(),w;e.config.showMonths>1||e.config.monthSelectorType==="static"?w=B("span","cur-month"):(e.monthsDropdownContainer=B("select","flatpickr-monthDropdown-months"),e.monthsDropdownContainer.setAttribute("aria-label",e.l10n.monthAriaLabel),_(e.monthsDropdownContainer,"change",function(H){var N=pe(H),j=parseInt(N.value,10);e.changeMonth(j-e.currentMonth),W("onMonthChange")}),z(),w=e.monthsDropdownContainer);var x=nn("cur-year",{tabindex:"-1"}),k=x.getElementsByTagName("input")[0];k.setAttribute("aria-label",e.l10n.yearAriaLabel),e.config.minDate&&k.setAttribute("min",e.config.minDate.getFullYear().toString()),e.config.maxDate&&(k.setAttribute("max",e.config.maxDate.getFullYear().toString()),k.disabled=!!e.config.minDate&&e.config.minDate.getFullYear()===e.config.maxDate.getFullYear());var F=B("div","flatpickr-current-month");return F.appendChild(w),F.appendChild(x),m.appendChild(F),p.appendChild(m),{container:p,yearElement:k,monthElement:w}}function Ae(){tn(e.monthNav),e.monthNav.appendChild(e.prevMonthNav),e.config.showMonths&&(e.yearElements=[],e.monthElements=[]);for(var p=e.config.showMonths;p--;){var m=Ee();e.yearElements.push(m.yearElement),e.monthElements.push(m.monthElement),e.monthNav.appendChild(m.container)}e.monthNav.appendChild(e.nextMonthNav)}function Fe(){return e.monthNav=B("div","flatpickr-months"),e.yearElements=[],e.monthElements=[],e.prevMonthNav=B("span","flatpickr-prev-month"),e.prevMonthNav.innerHTML=e.config.prevArrow,e.nextMonthNav=B("span","flatpickr-next-month"),e.nextMonthNav.innerHTML=e.config.nextArrow,Ae(),Object.defineProperty(e,"_hidePrevMonthArrow",{get:function(){return e.__hidePrevMonthArrow},set:function(p){e.__hidePrevMonthArrow!==p&&(re(e.prevMonthNav,"flatpickr-disabled",p),e.__hidePrevMonthArrow=p)}}),Object.defineProperty(e,"_hideNextMonthArrow",{get:function(){return e.__hideNextMonthArrow},set:function(p){e.__hideNextMonthArrow!==p&&(re(e.nextMonthNav,"flatpickr-disabled",p),e.__hideNextMonthArrow=p)}}),e.currentYearElement=e.yearElements[0],zt(),e.monthNav}function Bn(){e.calendarContainer.classList.add("hasTime"),e.config.noCalendar&&e.calendarContainer.classList.add("noCalendar");var p=gi(e.config);e.timeContainer=B("div","flatpickr-time"),e.timeContainer.tabIndex=-1;var m=B("span","flatpickr-time-separator",":"),w=nn("flatpickr-hour",{"aria-label":e.l10n.hourAriaLabel});e.hourElement=w.getElementsByTagName("input")[0];var x=nn("flatpickr-minute",{"aria-label":e.l10n.minuteAriaLabel});if(e.minuteElement=x.getElementsByTagName("input")[0],e.hourElement.tabIndex=e.minuteElement.tabIndex=-1,e.hourElement.value=ue(e.latestSelectedDateObj?e.latestSelectedDateObj.getHours():e.config.time_24hr?p.hours:h(p.hours)),e.minuteElement.value=ue(e.latestSelectedDateObj?e.latestSelectedDateObj.getMinutes():p.minutes),e.hourElement.setAttribute("step",e.config.hourIncrement.toString()),e.minuteElement.setAttribute("step",e.config.minuteIncrement.toString()),e.hourElement.setAttribute("min",e.config.time_24hr?"0":"1"),e.hourElement.setAttribute("max",e.config.time_24hr?"23":"12"),e.hourElement.setAttribute("maxlength","2"),e.minuteElement.setAttribute("min","0"),e.minuteElement.setAttribute("max","59"),e.minuteElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(w),e.timeContainer.appendChild(m),e.timeContainer.appendChild(x),e.config.time_24hr&&e.timeContainer.classList.add("time24hr"),e.config.enableSeconds){e.timeContainer.classList.add("hasSeconds");var k=nn("flatpickr-second");e.secondElement=k.getElementsByTagName("input")[0],e.secondElement.value=ue(e.latestSelectedDateObj?e.latestSelectedDateObj.getSeconds():p.seconds),e.secondElement.setAttribute("step",e.minuteElement.getAttribute("step")),e.secondElement.setAttribute("min","0"),e.secondElement.setAttribute("max","59"),e.secondElement.setAttribute("maxlength","2"),e.timeContainer.appendChild(B("span","flatpickr-time-separator",":")),e.timeContainer.appendChild(k)}return e.config.time_24hr||(e.amPM=B("span","flatpickr-am-pm",e.l10n.amPM[ve((e.latestSelectedDateObj?e.hourElement.value:e.config.defaultHour)>11)]),e.amPM.title=e.l10n.toggleTitle,e.amPM.tabIndex=-1,e.timeContainer.appendChild(e.amPM)),e.timeContainer}function Ss(){e.weekdayContainer?tn(e.weekdayContainer):e.weekdayContainer=B("div","flatpickr-weekdays");for(var p=e.config.showMonths;p--;){var m=B("div","flatpickr-weekdaycontainer");e.weekdayContainer.appendChild(m)}return Es(),e.weekdayContainer}function Es(){if(e.weekdayContainer){var p=e.l10n.firstDayOfWeek,m=Dr(e.l10n.weekdays.shorthand);p>0&&p<m.length&&(m=Dr(m.splice(p,m.length),m.splice(0,p)));for(var w=e.config.showMonths;w--;)e.weekdayContainer.children[w].innerHTML=`
      <span class='flatpickr-weekday'>
        `+m.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Ya(){e.calendarContainer.classList.add("hasWeeks");var p=B("div","flatpickr-weekwrapper");p.appendChild(B("span","flatpickr-weekday",e.l10n.weekAbbreviation));var m=B("div","flatpickr-weeks");return p.appendChild(m),{weekWrapper:p,weekNumbers:m}}function Vn(p,m){m===void 0&&(m=!0);var w=m?p:p-e.currentMonth;w<0&&e._hidePrevMonthArrow===!0||w>0&&e._hideNextMonthArrow===!0||(e.currentMonth+=w,(e.currentMonth<0||e.currentMonth>11)&&(e.currentYear+=e.currentMonth>11?1:-1,e.currentMonth=(e.currentMonth+12)%12,W("onYearChange"),z()),U(),W("onMonthChange"),zt())}function Wa(p,m){if(p===void 0&&(p=!0),m===void 0&&(m=!0),e.input.value="",e.altInput!==void 0&&(e.altInput.value=""),e.mobileInput!==void 0&&(e.mobileInput.value=""),e.selectedDates=[],e.latestSelectedDateObj=void 0,m===!0&&(e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth()),e.config.enableTime===!0){var w=gi(e.config),x=w.hours,k=w.minutes,F=w.seconds;L(x,k,F)}e.redraw(),p&&W("onChange")}function Ja(){e.isOpen=!1,e.isMobile||(e.calendarContainer!==void 0&&e.calendarContainer.classList.remove("open"),e._input!==void 0&&e._input.classList.remove("active")),W("onClose")}function Ga(){e.config!==void 0&&W("onDestroy");for(var p=e._handlers.length;p--;)e._handlers[p].remove();if(e._handlers=[],e.mobileInput)e.mobileInput.parentNode&&e.mobileInput.parentNode.removeChild(e.mobileInput),e.mobileInput=void 0;else if(e.calendarContainer&&e.calendarContainer.parentNode)if(e.config.static&&e.calendarContainer.parentNode){var m=e.calendarContainer.parentNode;if(m.lastChild&&m.removeChild(m.lastChild),m.parentNode){for(;m.firstChild;)m.parentNode.insertBefore(m.firstChild,m);m.parentNode.removeChild(m)}}else e.calendarContainer.parentNode.removeChild(e.calendarContainer);e.altInput&&(e.input.type="text",e.altInput.parentNode&&e.altInput.parentNode.removeChild(e.altInput),delete e.altInput),e.input&&(e.input.type=e.input._type,e.input.classList.remove("flatpickr-input"),e.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(w){try{delete e[w]}catch{}})}function wt(p){return e.calendarContainer.contains(p)}function qn(p){if(e.isOpen&&!e.config.inline){var m=pe(p),w=wt(m),x=m===e.input||m===e.altInput||e.element.contains(m)||p.path&&p.path.indexOf&&(~p.path.indexOf(e.input)||~p.path.indexOf(e.altInput)),k=!x&&!w&&!wt(p.relatedTarget),F=!e.config.ignoredFocusElements.some(function(H){return H.contains(m)});k&&F&&(e.config.allowInput&&e.setDate(e._input.value,!1,e.config.altInput?e.config.altFormat:e.config.dateFormat),e.timeContainer!==void 0&&e.minuteElement!==void 0&&e.hourElement!==void 0&&e.input.value!==""&&e.input.value!==void 0&&c(),e.close(),e.config&&e.config.mode==="range"&&e.selectedDates.length===1&&e.clear(!1))}}function jt(p){if(!(!p||e.config.minDate&&p<e.config.minDate.getFullYear()||e.config.maxDate&&p>e.config.maxDate.getFullYear())){var m=p,w=e.currentYear!==m;e.currentYear=m||e.currentYear,e.config.maxDate&&e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth=Math.min(e.config.maxDate.getMonth(),e.currentMonth):e.config.minDate&&e.currentYear===e.config.minDate.getFullYear()&&(e.currentMonth=Math.max(e.config.minDate.getMonth(),e.currentMonth)),w&&(e.redraw(),W("onYearChange"),z())}}function Ve(p,m){var w;m===void 0&&(m=!0);var x=e.parseDate(p,void 0,m);if(e.config.minDate&&x&&me(x,e.config.minDate,m!==void 0?m:!e.minDateHasTime)<0||e.config.maxDate&&x&&me(x,e.config.maxDate,m!==void 0?m:!e.maxDateHasTime)>0)return!1;if(!e.config.enable&&e.config.disable.length===0)return!0;if(x===void 0)return!1;for(var k=!!e.config.enable,F=(w=e.config.enable)!==null&&w!==void 0?w:e.config.disable,H=0,N=void 0;H<F.length;H++){if(N=F[H],typeof N=="function"&&N(x))return k;if(N instanceof Date&&x!==void 0&&N.getTime()===x.getTime())return k;if(typeof N=="string"){var j=e.parseDate(N,void 0,!0);return j&&j.getTime()===x.getTime()?k:!k}else if(typeof N=="object"&&x!==void 0&&N.from&&N.to&&x.getTime()>=N.from.getTime()&&x.getTime()<=N.to.getTime())return k}return!k}function Bt(p){return e.daysContainer!==void 0?p.className.indexOf("hidden")===-1&&p.className.indexOf("flatpickr-disabled")===-1&&e.daysContainer.contains(p):!1}function Qa(p){var m=p.target===e._input,w=e._input.value.trimEnd()!==Yn();m&&w&&!(p.relatedTarget&&wt(p.relatedTarget))&&e.setDate(e._input.value,!0,p.target===e.altInput?e.config.altFormat:e.config.dateFormat)}function As(p){var m=pe(p),w=e.config.wrap?t.contains(m):m===e._input,x=e.config.allowInput,k=e.isOpen&&(!x||!w),F=e.config.inline&&w&&!x;if(p.keyCode===13&&w){if(x)return e.setDate(e._input.value,!0,m===e.altInput?e.config.altFormat:e.config.dateFormat),e.close(),m.blur();e.open()}else if(wt(m)||k||F){var H=!!e.timeContainer&&e.timeContainer.contains(m);switch(p.keyCode){case 13:H?(p.preventDefault(),c(),Un()):Ms(p);break;case 27:p.preventDefault(),Un();break;case 8:case 46:w&&!e.config.allowInput&&(p.preventDefault(),e.clear());break;case 37:case 39:if(!H&&!w){p.preventDefault();var N=o();if(e.daysContainer!==void 0&&(x===!1||N&&Bt(N))){var j=p.keyCode===39?1:-1;p.ctrlKey?(p.stopPropagation(),Vn(j),I(A(1),0)):I(void 0,j)}}else e.hourElement&&e.hourElement.focus();break;case 38:case 40:p.preventDefault();var P=p.keyCode===40?1:-1;e.daysContainer&&m.$i!==void 0||m===e.input||m===e.altInput?p.ctrlKey?(p.stopPropagation(),jt(e.currentYear-P),I(A(1),0)):H||I(void 0,P*7):m===e.currentYearElement?jt(e.currentYear-P):e.config.enableTime&&(!H&&e.hourElement&&e.hourElement.focus(),c(p),e._debouncedChange());break;case 9:if(H){var R=[e.hourElement,e.minuteElement,e.secondElement,e.amPM].concat(e.pluginElements).filter(function(fe){return fe}),V=R.indexOf(m);if(V!==-1){var De=R[V+(p.shiftKey?-1:1)];p.preventDefault(),(De||e._input).focus()}}else!e.config.noCalendar&&e.daysContainer&&e.daysContainer.contains(m)&&p.shiftKey&&(p.preventDefault(),e._input.focus());break}}if(e.amPM!==void 0&&m===e.amPM)switch(p.key){case e.l10n.amPM[0].charAt(0):case e.l10n.amPM[0].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[0],v(),Me();break;case e.l10n.amPM[1].charAt(0):case e.l10n.amPM[1].charAt(0).toLowerCase():e.amPM.textContent=e.l10n.amPM[1],v(),Me();break}(w||wt(m))&&W("onKeyDown",p)}function Vt(p,m){if(m===void 0&&(m="flatpickr-day"),!(e.selectedDates.length!==1||p&&(!p.classList.contains(m)||p.classList.contains("flatpickr-disabled")))){for(var w=p?p.dateObj.getTime():e.days.firstElementChild.dateObj.getTime(),x=e.parseDate(e.selectedDates[0],void 0,!0).getTime(),k=Math.min(w,e.selectedDates[0].getTime()),F=Math.max(w,e.selectedDates[0].getTime()),H=!1,N=0,j=0,P=k;P<F;P+=gp.DAY)Ve(new Date(P),!0)||(H=H||P>k&&P<F,P<x&&(!N||P>N)?N=P:P>x&&(!j||P<j)&&(j=P));var R=Array.from(e.rContainer.querySelectorAll("*:nth-child(-n+"+e.config.showMonths+") > ."+m));R.forEach(function(V){var De=V.dateObj,fe=De.getTime(),_t=N>0&&fe<N||j>0&&fe>j;if(_t){V.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(rt){V.classList.remove(rt)});return}else if(H&&!_t)return;["startRange","inRange","endRange","notAllowed"].forEach(function(rt){V.classList.remove(rt)}),p!==void 0&&(p.classList.add(w<=e.selectedDates[0].getTime()?"startRange":"endRange"),x<w&&fe===x?V.classList.add("startRange"):x>w&&fe===x&&V.classList.add("endRange"),fe>=N&&(j===0||fe<=j)&&hp(fe,x,w)&&V.classList.add("inRange"))})}}function Xa(){e.isOpen&&!e.config.static&&!e.config.inline&&qt()}function Za(p,m){if(m===void 0&&(m=e._positionElement),e.isMobile===!0){if(p){p.preventDefault();var w=pe(p);w&&w.blur()}e.mobileInput!==void 0&&(e.mobileInput.focus(),e.mobileInput.click()),W("onOpen");return}else if(e._input.disabled||e.config.inline)return;var x=e.isOpen;e.isOpen=!0,x||(e.calendarContainer.classList.add("open"),e._input.classList.add("active"),W("onOpen"),qt(m)),e.config.enableTime===!0&&e.config.noCalendar===!0&&e.config.allowInput===!1&&(p===void 0||!e.timeContainer.contains(p.relatedTarget))&&setTimeout(function(){return e.hourElement.select()},50)}function Ds(p){return function(m){var w=e.config["_"+p+"Date"]=e.parseDate(m,e.config.dateFormat),x=e.config["_"+(p==="min"?"max":"min")+"Date"];w!==void 0&&(e[p==="min"?"minDateHasTime":"maxDateHasTime"]=w.getHours()>0||w.getMinutes()>0||w.getSeconds()>0),e.selectedDates&&(e.selectedDates=e.selectedDates.filter(function(k){return Ve(k)}),!e.selectedDates.length&&p==="min"&&y(w),Me()),e.daysContainer&&(ks(),w!==void 0?e.currentYearElement[p]=w.getFullYear().toString():e.currentYearElement.removeAttribute(p),e.currentYearElement.disabled=!!x&&w!==void 0&&x.getFullYear()===w.getFullYear())}}function el(){var p=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],m=ie(ie({},JSON.parse(JSON.stringify(t.dataset||{}))),n),w={};e.config.parseDate=m.parseDate,e.config.formatDate=m.formatDate,Object.defineProperty(e.config,"enable",{get:function(){return e.config._enable},set:function(R){e.config._enable=Fs(R)}}),Object.defineProperty(e.config,"disable",{get:function(){return e.config._disable},set:function(R){e.config._disable=Fs(R)}});var x=m.mode==="time";if(!m.dateFormat&&(m.enableTime||x)){var k=ee.defaultConfig.dateFormat||ct.dateFormat;w.dateFormat=m.noCalendar||x?"H:i"+(m.enableSeconds?":S":""):k+" H:i"+(m.enableSeconds?":S":"")}if(m.altInput&&(m.enableTime||x)&&!m.altFormat){var F=ee.defaultConfig.altFormat||ct.altFormat;w.altFormat=m.noCalendar||x?"h:i"+(m.enableSeconds?":S K":" K"):F+(" h:i"+(m.enableSeconds?":S":"")+" K")}Object.defineProperty(e.config,"minDate",{get:function(){return e.config._minDate},set:Ds("min")}),Object.defineProperty(e.config,"maxDate",{get:function(){return e.config._maxDate},set:Ds("max")});var H=function(R){return function(V){e.config[R==="min"?"_minTime":"_maxTime"]=e.parseDate(V,"H:i:S")}};Object.defineProperty(e.config,"minTime",{get:function(){return e.config._minTime},set:H("min")}),Object.defineProperty(e.config,"maxTime",{get:function(){return e.config._maxTime},set:H("max")}),m.mode==="time"&&(e.config.noCalendar=!0,e.config.enableTime=!0),Object.assign(e.config,w,m);for(var N=0;N<p.length;N++)e.config[p[N]]=e.config[p[N]]===!0||e.config[p[N]]==="true";di.filter(function(R){return e.config[R]!==void 0}).forEach(function(R){e.config[R]=fi(e.config[R]||[]).map(r)}),e.isMobile=!e.config.disableMobile&&!e.config.inline&&e.config.mode==="single"&&!e.config.disable.length&&!e.config.enable&&!e.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var N=0;N<e.config.plugins.length;N++){var j=e.config.plugins[N](e)||{};for(var P in j)di.indexOf(P)>-1?e.config[P]=fi(j[P]).map(r).concat(e.config[P]):typeof m[P]>"u"&&(e.config[P]=j[P])}m.altInputClass||(e.config.altInputClass=Ls().className+" "+e.config.altInputClass),W("onParseConfig")}function Ls(){return e.config.wrap?t.querySelector("[data-input]"):t}function Ts(){typeof e.config.locale!="object"&&typeof ee.l10ns[e.config.locale]>"u"&&e.config.errorHandler(new Error("flatpickr: invalid locale "+e.config.locale)),e.l10n=ie(ie({},ee.l10ns.default),typeof e.config.locale=="object"?e.config.locale:e.config.locale!=="default"?ee.l10ns[e.config.locale]:void 0),Je.D="("+e.l10n.weekdays.shorthand.join("|")+")",Je.l="("+e.l10n.weekdays.longhand.join("|")+")",Je.M="("+e.l10n.months.shorthand.join("|")+")",Je.F="("+e.l10n.months.longhand.join("|")+")",Je.K="("+e.l10n.amPM[0]+"|"+e.l10n.amPM[1]+"|"+e.l10n.amPM[0].toLowerCase()+"|"+e.l10n.amPM[1].toLowerCase()+")";var p=ie(ie({},n),JSON.parse(JSON.stringify(t.dataset||{})));p.time_24hr===void 0&&ee.defaultConfig.time_24hr===void 0&&(e.config.time_24hr=e.l10n.time_24hr),e.formatDate=$a(e),e.parseDate=Ji({config:e.config,l10n:e.l10n})}function qt(p){if(typeof e.config.position=="function")return void e.config.position(e,p);if(e.calendarContainer!==void 0){W("onPreCalendarPosition");var m=p||e._positionElement,w=Array.prototype.reduce.call(e.calendarContainer.children,function(yl,wl){return yl+wl.offsetHeight},0),x=e.calendarContainer.offsetWidth,k=e.config.position.split(" "),F=k[0],H=k.length>1?k[1]:null,N=m.getBoundingClientRect(),j=window.innerHeight-N.bottom,P=F==="above"||F!=="below"&&j<w&&N.top>w,R=window.pageYOffset+N.top+(P?-w-2:m.offsetHeight+2);if(re(e.calendarContainer,"arrowTop",!P),re(e.calendarContainer,"arrowBottom",P),!e.config.inline){var V=window.pageXOffset+N.left,De=!1,fe=!1;H==="center"?(V-=(x-N.width)/2,De=!0):H==="right"&&(V-=x-N.width,fe=!0),re(e.calendarContainer,"arrowLeft",!De&&!fe),re(e.calendarContainer,"arrowCenter",De),re(e.calendarContainer,"arrowRight",fe);var _t=window.document.body.offsetWidth-(window.pageXOffset+N.right),rt=V+x>window.document.body.offsetWidth,fl=_t+x>window.document.body.offsetWidth;if(re(e.calendarContainer,"rightMost",rt),!e.config.static)if(e.calendarContainer.style.top=R+"px",!rt)e.calendarContainer.style.left=V+"px",e.calendarContainer.style.right="auto";else if(!fl)e.calendarContainer.style.left="auto",e.calendarContainer.style.right=_t+"px";else{var Wn=tl();if(Wn===void 0)return;var hl=window.document.body.offsetWidth,pl=Math.max(0,hl/2-x/2),gl=".flatpickr-calendar.centerMost:before",ml=".flatpickr-calendar.centerMost:after",vl=Wn.cssRules.length,bl="{left:"+N.left+"px;right:auto;}";re(e.calendarContainer,"rightMost",!1),re(e.calendarContainer,"centerMost",!0),Wn.insertRule(gl+","+ml+bl,vl),e.calendarContainer.style.left=pl+"px",e.calendarContainer.style.right="auto"}}}}function tl(){for(var p=null,m=0;m<document.styleSheets.length;m++){var w=document.styleSheets[m];if(w.cssRules){try{w.cssRules}catch{continue}p=w;break}}return p??nl()}function nl(){var p=document.createElement("style");return document.head.appendChild(p),p.sheet}function ks(){e.config.noCalendar||e.isMobile||(z(),zt(),U())}function Un(){e._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(e.close,0):e.close()}function Ms(p){p.preventDefault(),p.stopPropagation();var m=function(R){return R.classList&&R.classList.contains("flatpickr-day")&&!R.classList.contains("flatpickr-disabled")&&!R.classList.contains("notAllowed")},w=Ra(pe(p),m);if(w!==void 0){var x=w,k=e.latestSelectedDateObj=new Date(x.dateObj.getTime()),F=(k.getMonth()<e.currentMonth||k.getMonth()>e.currentMonth+e.config.showMonths-1)&&e.config.mode!=="range";if(e.selectedDateElem=x,e.config.mode==="single")e.selectedDates=[k];else if(e.config.mode==="multiple"){var H=Kn(k);H?e.selectedDates.splice(parseInt(H),1):e.selectedDates.push(k)}else e.config.mode==="range"&&(e.selectedDates.length===2&&e.clear(!1,!1),e.latestSelectedDateObj=k,e.selectedDates.push(k),me(k,e.selectedDates[0],!0)!==0&&e.selectedDates.sort(function(R,V){return R.getTime()-V.getTime()}));if(v(),F){var N=e.currentYear!==k.getFullYear();e.currentYear=k.getFullYear(),e.currentMonth=k.getMonth(),N&&(W("onYearChange"),z()),W("onMonthChange")}if(zt(),U(),Me(),!F&&e.config.mode!=="range"&&e.config.showMonths===1?C(x):e.selectedDateElem!==void 0&&e.hourElement===void 0&&e.selectedDateElem&&e.selectedDateElem.focus(),e.hourElement!==void 0&&e.hourElement!==void 0&&e.hourElement.focus(),e.config.closeOnSelect){var j=e.config.mode==="single"&&!e.config.enableTime,P=e.config.mode==="range"&&e.selectedDates.length===2&&!e.config.enableTime;(j||P)&&Un()}l()}}var Ut={locale:[Ts,Es],showMonths:[Ae,a,Ss],minDate:[f],maxDate:[f],positionElement:[Ps],clickOpens:[function(){e.config.clickOpens===!0?(_(e._input,"focus",e.open),_(e._input,"click",e.open)):(e._input.removeEventListener("focus",e.open),e._input.removeEventListener("click",e.open))}]};function il(p,m){if(p!==null&&typeof p=="object"){Object.assign(e.config,p);for(var w in p)Ut[w]!==void 0&&Ut[w].forEach(function(x){return x()})}else e.config[p]=m,Ut[p]!==void 0?Ut[p].forEach(function(x){return x()}):di.indexOf(p)>-1&&(e.config[p]=fi(m));e.redraw(),Me(!0)}function Is(p,m){var w=[];if(p instanceof Array)w=p.map(function(x){return e.parseDate(x,m)});else if(p instanceof Date||typeof p=="number")w=[e.parseDate(p,m)];else if(typeof p=="string")switch(e.config.mode){case"single":case"time":w=[e.parseDate(p,m)];break;case"multiple":w=p.split(e.config.conjunction).map(function(x){return e.parseDate(x,m)});break;case"range":w=p.split(e.l10n.rangeSeparator).map(function(x){return e.parseDate(x,m)});break}else e.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(p)));e.selectedDates=e.config.allowInvalidPreload?w:w.filter(function(x){return x instanceof Date&&Ve(x,!1)}),e.config.mode==="range"&&e.selectedDates.sort(function(x,k){return x.getTime()-k.getTime()})}function sl(p,m,w){if(m===void 0&&(m=!1),w===void 0&&(w=e.config.dateFormat),p!==0&&!p||p instanceof Array&&p.length===0)return e.clear(m);Is(p,w),e.latestSelectedDateObj=e.selectedDates[e.selectedDates.length-1],e.redraw(),f(void 0,m),y(),e.selectedDates.length===0&&e.clear(!1),Me(m),m&&W("onChange")}function Fs(p){return p.slice().map(function(m){return typeof m=="string"||typeof m=="number"||m instanceof Date?e.parseDate(m,void 0,!0):m&&typeof m=="object"&&m.from&&m.to?{from:e.parseDate(m.from,void 0),to:e.parseDate(m.to,void 0)}:m}).filter(function(m){return m})}function rl(){e.selectedDates=[],e.now=e.parseDate(e.config.now)||new Date;var p=e.config.defaultDate||((e.input.nodeName==="INPUT"||e.input.nodeName==="TEXTAREA")&&e.input.placeholder&&e.input.value===e.input.placeholder?null:e.input.value);p&&Is(p,e.config.dateFormat),e._initialDate=e.selectedDates.length>0?e.selectedDates[0]:e.config.minDate&&e.config.minDate.getTime()>e.now.getTime()?e.config.minDate:e.config.maxDate&&e.config.maxDate.getTime()<e.now.getTime()?e.config.maxDate:e.now,e.currentYear=e._initialDate.getFullYear(),e.currentMonth=e._initialDate.getMonth(),e.selectedDates.length>0&&(e.latestSelectedDateObj=e.selectedDates[0]),e.config.minTime!==void 0&&(e.config.minTime=e.parseDate(e.config.minTime,"H:i")),e.config.maxTime!==void 0&&(e.config.maxTime=e.parseDate(e.config.maxTime,"H:i")),e.minDateHasTime=!!e.config.minDate&&(e.config.minDate.getHours()>0||e.config.minDate.getMinutes()>0||e.config.minDate.getSeconds()>0),e.maxDateHasTime=!!e.config.maxDate&&(e.config.maxDate.getHours()>0||e.config.maxDate.getMinutes()>0||e.config.maxDate.getSeconds()>0)}function ol(){if(e.input=Ls(),!e.input){e.config.errorHandler(new Error("Invalid input element specified"));return}e.input._type=e.input.type,e.input.type="text",e.input.classList.add("flatpickr-input"),e._input=e.input,e.config.altInput&&(e.altInput=B(e.input.nodeName,e.config.altInputClass),e._input=e.altInput,e.altInput.placeholder=e.input.placeholder,e.altInput.disabled=e.input.disabled,e.altInput.required=e.input.required,e.altInput.tabIndex=e.input.tabIndex,e.altInput.type="text",e.input.setAttribute("type","hidden"),!e.config.static&&e.input.parentNode&&e.input.parentNode.insertBefore(e.altInput,e.input.nextSibling)),e.config.allowInput||e._input.setAttribute("readonly","readonly"),Ps()}function Ps(){e._positionElement=e.config.positionElement||e._input}function al(){var p=e.config.enableTime?e.config.noCalendar?"time":"datetime-local":"date";e.mobileInput=B("input",e.input.className+" flatpickr-mobile"),e.mobileInput.tabIndex=1,e.mobileInput.type=p,e.mobileInput.disabled=e.input.disabled,e.mobileInput.required=e.input.required,e.mobileInput.placeholder=e.input.placeholder,e.mobileFormatStr=p==="datetime-local"?"Y-m-d\\TH:i:S":p==="date"?"Y-m-d":"H:i:S",e.selectedDates.length>0&&(e.mobileInput.defaultValue=e.mobileInput.value=e.formatDate(e.selectedDates[0],e.mobileFormatStr)),e.config.minDate&&(e.mobileInput.min=e.formatDate(e.config.minDate,"Y-m-d")),e.config.maxDate&&(e.mobileInput.max=e.formatDate(e.config.maxDate,"Y-m-d")),e.input.getAttribute("step")&&(e.mobileInput.step=String(e.input.getAttribute("step"))),e.input.type="hidden",e.altInput!==void 0&&(e.altInput.type="hidden");try{e.input.parentNode&&e.input.parentNode.insertBefore(e.mobileInput,e.input.nextSibling)}catch{}_(e.mobileInput,"change",function(m){e.setDate(pe(m).value,!1,e.mobileFormatStr),W("onChange"),W("onClose")})}function ll(p){if(e.isOpen===!0)return e.close();e.open(p)}function W(p,m){if(e.config!==void 0){var w=e.config[p];if(w!==void 0&&w.length>0)for(var x=0;w[x]&&x<w.length;x++)w[x](e.selectedDates,e.input.value,e,m);p==="onChange"&&(e.input.dispatchEvent(zn("change")),e.input.dispatchEvent(zn("input")))}}function zn(p){var m=document.createEvent("Event");return m.initEvent(p,!0,!0),m}function Kn(p){for(var m=0;m<e.selectedDates.length;m++){var w=e.selectedDates[m];if(w instanceof Date&&me(w,p)===0)return""+m}return!1}function cl(p){return e.config.mode!=="range"||e.selectedDates.length<2?!1:me(p,e.selectedDates[0])>=0&&me(p,e.selectedDates[1])<=0}function zt(){e.config.noCalendar||e.isMobile||!e.monthNav||(e.yearElements.forEach(function(p,m){var w=new Date(e.currentYear,e.currentMonth,1);w.setMonth(e.currentMonth+m),e.config.showMonths>1||e.config.monthSelectorType==="static"?e.monthElements[m].textContent=Cn(w.getMonth(),e.config.shorthandCurrentMonth,e.l10n)+" ":e.monthsDropdownContainer.value=w.getMonth().toString(),p.value=w.getFullYear().toString()}),e._hidePrevMonthArrow=e.config.minDate!==void 0&&(e.currentYear===e.config.minDate.getFullYear()?e.currentMonth<=e.config.minDate.getMonth():e.currentYear<e.config.minDate.getFullYear()),e._hideNextMonthArrow=e.config.maxDate!==void 0&&(e.currentYear===e.config.maxDate.getFullYear()?e.currentMonth+1>e.config.maxDate.getMonth():e.currentYear>e.config.maxDate.getFullYear()))}function Yn(p){var m=p||(e.config.altInput?e.config.altFormat:e.config.dateFormat);return e.selectedDates.map(function(w){return e.formatDate(w,m)}).filter(function(w,x,k){return e.config.mode!=="range"||e.config.enableTime||k.indexOf(w)===x}).join(e.config.mode!=="range"?e.config.conjunction:e.l10n.rangeSeparator)}function Me(p){p===void 0&&(p=!0),e.mobileInput!==void 0&&e.mobileFormatStr&&(e.mobileInput.value=e.latestSelectedDateObj!==void 0?e.formatDate(e.latestSelectedDateObj,e.mobileFormatStr):""),e.input.value=Yn(e.config.dateFormat),e.altInput!==void 0&&(e.altInput.value=Yn(e.config.altFormat)),p!==!1&&W("onValueUpdate")}function ul(p){var m=pe(p),w=e.prevMonthNav.contains(m),x=e.nextMonthNav.contains(m);w||x?Vn(w?-1:1):e.yearElements.indexOf(m)>=0?m.select():m.classList.contains("arrowUp")?e.changeYear(e.currentYear+1):m.classList.contains("arrowDown")&&e.changeYear(e.currentYear-1)}function dl(p){p.preventDefault();var m=p.type==="keydown",w=pe(p),x=w;e.amPM!==void 0&&w===e.amPM&&(e.amPM.textContent=e.l10n.amPM[ve(e.amPM.textContent===e.l10n.amPM[0])]);var k=parseFloat(x.getAttribute("min")),F=parseFloat(x.getAttribute("max")),H=parseFloat(x.getAttribute("step")),N=parseInt(x.value,10),j=p.delta||(m?p.which===38?1:-1:0),P=N+H*j;if(typeof x.value<"u"&&x.value.length===2){var R=x===e.hourElement,V=x===e.minuteElement;P<k?(P=F+P+ve(!R)+(ve(R)&&ve(!e.amPM)),V&&O(void 0,-1,e.hourElement)):P>F&&(P=x===e.hourElement?P-F-ve(!e.amPM):k,V&&O(void 0,1,e.hourElement)),e.amPM&&R&&(H===1?P+N===23:Math.abs(P-N)>H)&&(e.amPM.textContent=e.l10n.amPM[ve(e.amPM.textContent===e.l10n.amPM[0])]),x.value=ue(P)}}return s(),e}function ut(t,n){for(var e=Array.prototype.slice.call(t).filter(function(r){return r instanceof HTMLElement}),i=[],s=0;s<e.length;s++){var o=e[s];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=vp(o,n||{}),i.push(o._flatpickr)}catch(r){console.error(r)}}return i.length===1?i[0]:i}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return ut(this,t)},HTMLElement.prototype.flatpickr=function(t){return ut([this],t)});var ee=function(t,n){return typeof t=="string"?ut(window.document.querySelectorAll(t),n):t instanceof Node?ut([t],n):ut(t,n)};ee.defaultConfig={};ee.l10ns={en:ie({},It),default:ie({},It)};ee.localize=function(t){ee.l10ns.default=ie(ie({},ee.l10ns.default),t)};ee.setDefaults=function(t){ee.defaultConfig=ie(ie({},ee.defaultConfig),t)};ee.parseDate=Ji({});ee.formatDate=$a({});ee.compareDates=me;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return ut(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=ee);var Ha={exports:{}};(function(t,n){(function(e,i){t.exports=i()})(Cl,function(){class e{constructor(l){l||(l={}),this.main=l.main||"ss-main",this.placeholder=l.placeholder||"ss-placeholder",this.values=l.values||"ss-values",this.single=l.single||"ss-single",this.max=l.max||"ss-max",this.value=l.value||"ss-value",this.valueText=l.valueText||"ss-value-text",this.valueDelete=l.valueDelete||"ss-value-delete",this.valueOut=l.valueOut||"ss-value-out",this.deselect=l.deselect||"ss-deselect",this.deselectPath=l.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=l.arrow||"ss-arrow",this.arrowClose=l.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=l.arrowOpen||"M10,70 L50,30 L90,70",this.content=l.content||"ss-content",this.openAbove=l.openAbove||"ss-open-above",this.openBelow=l.openBelow||"ss-open-below",this.search=l.search||"ss-search",this.searchHighlighter=l.searchHighlighter||"ss-search-highlight",this.searching=l.searching||"ss-searching",this.addable=l.addable||"ss-addable",this.addablePath=l.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=l.list||"ss-list",this.optgroup=l.optgroup||"ss-optgroup",this.optgroupLabel=l.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=l.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=l.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=l.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=l.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=l.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=l.optgroupClosable||"ss-closable",this.option=l.option||"ss-option",this.optionDelete=l.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=l.highlighted||"ss-highlighted",this.open=l.open||"ss-open",this.close=l.close||"ss-close",this.selected=l.selected||"ss-selected",this.error=l.error||"ss-error",this.disabled=l.disabled||"ss-disabled",this.hide=l.hide||"ss-hide"}}function i(){return Math.random().toString(36).substring(2,10)}function s(_,l){function d(g,O){return O&&g&&g.classList&&g.classList.contains(O)||O&&g&&g.dataset&&g.dataset.id&&g.dataset.id===l?g:null}function f(g,O){return!g||g===document?null:d(g,O)?g:f(g.parentNode,O)}return d(_,l)||f(_,l)}function o(_,l=50,d=!1){let f;return function(...g){const O=self,T=()=>{f=null,d||_.apply(O,g)},D=d&&!f;clearTimeout(f),f=setTimeout(T,l),D&&_.apply(O,g)}}function r(_,l){return JSON.stringify(_)===JSON.stringify(l)}function a(_){const l=_.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,d=>"-"+d.toLowerCase());return _[0]===_[0].toUpperCase()?l.substring(1):l}class c{constructor(l){if(this.id=!l.id||l.id===""?i():l.id,this.label=l.label||"",this.selectAll=l.selectAll===void 0?!1:l.selectAll,this.selectAllText=l.selectAllText||"Select All",this.closable=l.closable||"off",this.options=[],l.options)for(const d of l.options)this.options.push(new u(d))}}class u{constructor(l){this.id=!l.id||l.id===""?i():l.id,this.value=l.value===void 0?l.text:l.value,this.text=l.text||"",this.html=l.html||"",this.selected=l.selected!==void 0?l.selected:!1,this.display=l.display!==void 0?l.display:!0,this.disabled=l.disabled!==void 0?l.disabled:!1,this.mandatory=l.mandatory!==void 0?l.mandatory:!1,this.placeholder=l.placeholder!==void 0?l.placeholder:!1,this.class=l.class||"",this.style=l.style||"",this.data=l.data||{}}}class h{constructor(l,d){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=l,this.setData(d)}validateDataArray(l){if(!Array.isArray(l))return new Error("Data must be an array");for(let d of l)if(d instanceof c||"label"in d){if(!("label"in d))return new Error("Optgroup must have a label");if("options"in d&&d.options)for(let f of d.options){const g=this.validateOption(f);if(g)return g}}else if(d instanceof u||"text"in d){const f=this.validateOption(d);if(f)return f}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(l){return"text"in l?null:new Error("Option must have a text")}partialToFullData(l){let d=[];return l.forEach(f=>{if(f instanceof c||"label"in f){let g=[];"options"in f&&f.options&&f.options.forEach(O=>{g.push(new u(O))}),g.length>0&&d.push(new c(f))}(f instanceof u||"text"in f)&&d.push(new u(f))}),d}setData(l){this.data=this.partialToFullData(l),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(l,d=!1){if(d){let f=[new u(l)];this.setData(f.concat(this.getData()))}else this.setData(this.getData().concat(new u(l)))}setSelectedBy(l,d){let f=null,g=!1;const O=[];for(let D of this.data){if(D instanceof c)for(let C of D.options)f||(f=C),C.selected=g?!1:d.includes(C[l]),C.selected&&(O.push(C),this.selectType==="single"&&(g=!0));D instanceof u&&(f||(f=D),D.selected=g?!1:d.includes(D[l]),D.selected&&(O.push(D),this.selectType==="single"&&(g=!0)))}this.selectType==="single"&&f&&!g&&(f.selected=!0,O.push(f));const T=d.map(D=>{var C;return((C=O.find(A=>A[l]===D))===null||C===void 0?void 0:C.id)||""});this.selectedOrder=T}getSelected(){return this.getSelectedOptions().map(l=>l.id)}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}getSelectedOptions(){return this.filter(l=>l.selected,!1)}getOptgroupByID(l){for(let d of this.data)if(d instanceof c&&d.id===l)return d;return null}getOptionByID(l){let d=this.filter(f=>f.id===l,!1);return d.length?d[0]:null}getSelectType(){return this.selectType}getFirstOption(){let l=null;for(let d of this.data)if(d instanceof c?l=d.options[0]:d instanceof u&&(l=d),l)break;return l}search(l,d){return l=l.trim(),l===""?this.getData():this.filter(f=>d(f,l),!0)}filter(l,d){const f=[];return this.data.forEach(g=>{if(g instanceof c){let O=[];if(g.options.forEach(T=>{(!l||l(T))&&(d?O.push(new u(T)):f.push(new u(T)))}),O.length>0){let T=new c(g);T.options=O,f.push(T)}}g instanceof u&&(!l||l(g))&&f.push(new u(g))}),f}selectedOrderOptions(l){const d=[];return this.selectedOrder.forEach(f=>{const g=l.find(O=>O.id===f);g&&d.push(g)}),l.forEach(f=>{let g=!1;d.forEach(O=>{if(f.id===O.id){g=!0;return}}),g||d.push(f)}),d}}class v{constructor(l,d,f,g){this.store=f,this.settings=l,this.classes=d,this.callbacks=g,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const l=this.store.getSelectedOptions();if(l.length){const d=l[l.length-1].id,f=this.content.list.querySelector('[data-id="'+d+'"]');f&&this.ensureElementInView(this.content.list,f)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const l of this.settings.class)l.trim()!==""&&(this.main.main.classList.add(l.trim()),this.content.main.classList.add(l.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",this.content.main.id),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var l;const d=document.createElement("div");d.dataset.id=this.settings.id,d.setAttribute("aria-label",this.settings.ariaLabel),d.tabIndex=0,d.onkeydown=E=>{switch(E.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),E.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const I=this.content.list.querySelector("."+this.classes.highlighted);return I&&I.click(),!1;case"Escape":return this.callbacks.close(),!1}return E.key.length===1&&this.callbacks.open(),!0},d.onclick=E=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const f=document.createElement("div");f.classList.add(this.classes.values),d.appendChild(f);const g=document.createElement("div");g.classList.add(this.classes.deselect);const O=(l=this.store)===null||l===void 0?void 0:l.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&O&&O.length<=0?g.classList.add(this.classes.hide):g.classList.remove(this.classes.hide),g.onclick=E=>{if(E.stopPropagation(),this.settings.disabled)return;let I=!0;const M=this.store.getSelectedOptions(),U=[];if(this.callbacks.beforeChange&&(I=this.callbacks.beforeChange(U,M)===!0),I){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const z=this.store.getFirstOption(),Ee=z?z.id:"";this.callbacks.setSelected(Ee,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const T=document.createElementNS("http://www.w3.org/2000/svg","svg");T.setAttribute("viewBox","0 0 100 100");const D=document.createElementNS("http://www.w3.org/2000/svg","path");D.setAttribute("d",this.classes.deselectPath),T.appendChild(D),g.appendChild(T),d.appendChild(g);const C=document.createElementNS("http://www.w3.org/2000/svg","svg");C.classList.add(this.classes.arrow),C.setAttribute("viewBox","0 0 100 100");const A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&C.classList.add(this.classes.hide),C.appendChild(A),d.appendChild(C),{main:d,values:f,deselect:{main:g,svg:T,path:D},arrow:{main:C,path:A}}}mainFocus(l){l!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const l=this.store.filter(g=>g.placeholder,!1);let d=this.settings.placeholderText;l.length&&(l[0].html!==""?d=l[0].html:l[0].text!==""&&(d=l[0].text));const f=document.createElement("div");return f.classList.add(this.classes.placeholder),f.innerHTML=d,f}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const l=this.store.filter(f=>f.selected&&!f.placeholder,!1),d=l.length>0?l[0]:null;if(!d)this.main.values.innerHTML=this.placeholder().outerHTML;else{const f=document.createElement("div");f.classList.add(this.classes.single),d.html?f.innerHTML=d.html:f.innerText=d.text,this.main.values.innerHTML=f.outerHTML}!this.settings.allowDeselect||!l.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let l=this.main.values.childNodes,d=this.store.filter(g=>g.selected&&g.display,!1);if(d.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const g=this.main.values.querySelector("."+this.classes.placeholder);g&&g.remove()}if(d.length>this.settings.maxValuesShown){const g=document.createElement("div");g.classList.add(this.classes.max),g.textContent=this.settings.maxValuesMessage.replace("{number}",d.length.toString()),this.main.values.innerHTML=g.outerHTML;return}else{const g=this.main.values.querySelector("."+this.classes.max);g&&g.remove()}this.settings.keepOrder&&(d=this.store.selectedOrderOptions(d));let f=[];for(let g=0;g<l.length;g++){const O=l[g],T=O.getAttribute("data-id");T&&(d.filter(C=>C.id===T,!1).length||f.push(O))}for(const g of f)g.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(g)&&this.main.values.removeChild(g)},100);l=this.main.values.childNodes;for(let g=0;g<d.length;g++){let O=!0;for(let T=0;T<l.length;T++)d[g].id===String(l[T].dataset.id)&&(O=!1);O&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(d[g])):l.length===0?this.main.values.appendChild(this.multipleValue(d[g])):g===0?this.main.values.insertBefore(this.multipleValue(d[g]),l[g]):l[g-1].insertAdjacentElement("afterend",this.multipleValue(d[g])))}}multipleValue(l){const d=document.createElement("div");d.classList.add(this.classes.value),d.dataset.id=l.id;const f=document.createElement("div");if(f.classList.add(this.classes.valueText),f.textContent=l.text,d.appendChild(f),!l.mandatory){const g=document.createElement("div");g.classList.add(this.classes.valueDelete),g.onclick=D=>{if(D.preventDefault(),D.stopPropagation(),this.settings.disabled)return;let C=!0;const A=this.store.getSelectedOptions(),E=A.filter(I=>I.selected&&I.id!==l.id,!0);if(!(this.settings.minSelected&&E.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(C=this.callbacks.beforeChange(E,A)===!0),C)){let I=[];for(const M of E){if(M instanceof c)for(const U of M.options)I.push(U.id);M instanceof u&&I.push(M.id)}this.callbacks.setSelected(I,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(E),this.updateDeselectAll()}};const O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("viewBox","0 0 100 100");const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.optionDelete),O.appendChild(T),g.appendChild(O),d.appendChild(g)}return d}contentDiv(){const l=document.createElement("div");l.dataset.id=this.settings.id;const d=this.searchDiv();l.appendChild(d.main);const f=this.listDiv();return l.appendChild(f),{main:l,search:d,list:f}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const l=document.createElement("div"),d=document.createElement("input"),f=document.createElement("div");l.classList.add(this.classes.search);const g={main:l,input:d};if(this.settings.showSearch||(l.classList.add(this.classes.hide),d.readOnly=!0),d.type="search",d.placeholder=this.settings.searchPlaceholder,d.tabIndex=-1,d.setAttribute("aria-label",this.settings.searchPlaceholder),d.setAttribute("autocapitalize","off"),d.setAttribute("autocomplete","off"),d.setAttribute("autocorrect","off"),d.oninput=o(O=>{this.callbacks.search(O.target.value)},100),d.onkeydown=O=>{switch(O.key){case"ArrowUp":case"ArrowDown":return O.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const T=this.content.list.querySelector("."+this.classes.highlighted);return T?(T.click(),!1):!0;case"Enter":if(this.callbacks.addable)return f.click(),!1;{const D=this.content.list.querySelector("."+this.classes.highlighted);if(D)return D.click(),!1}return!0}return!0},l.appendChild(d),this.callbacks.addable){f.classList.add(this.classes.addable);const O=document.createElementNS("http://www.w3.org/2000/svg","svg");O.setAttribute("viewBox","0 0 100 100");const T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",this.classes.addablePath),O.appendChild(T),f.appendChild(O),f.onclick=D=>{if(D.preventDefault(),D.stopPropagation(),!this.callbacks.addable)return;const C=this.content.search.input.value.trim();if(C===""){this.content.search.input.focus();return}const A=I=>{let M=new u(I);if(this.callbacks.addOption(M),this.settings.isMultiple){let U=this.store.getSelected();U.push(M.id),this.callbacks.setSelected(U,!0)}else this.callbacks.setSelected([M.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},E=this.callbacks.addable(C);E===!1||E===void 0||E===null||(E instanceof Promise?E.then(I=>{typeof I=="string"?A({text:I,value:I}):E instanceof Error?this.renderError(E.message):A(I)}):typeof E=="string"?A({text:E,value:E}):E instanceof Error?this.renderError(E.message):A(E))},l.appendChild(f),g.addable={main:f,svg:O,path:T}}return g}searchFocus(){this.content.search.input.focus()}getOptions(l=!1,d=!1,f=!1){let g="."+this.classes.option;return l&&(g+=":not(."+this.classes.placeholder+")"),d&&(g+=":not(."+this.classes.disabled+")"),f&&(g+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(g))}highlight(l){const d=this.getOptions(!0,!0,!0);if(d.length===0)return;if(d.length===1&&!d[0].classList.contains(this.classes.highlighted)){d[0].classList.add(this.classes.highlighted);return}let f=!1;for(const g of d)g.classList.contains(this.classes.highlighted)&&(f=!0);if(!f){for(const g of d)if(g.classList.contains(this.classes.selected)){g.classList.add(this.classes.highlighted);break}}for(let g=0;g<d.length;g++)if(d[g].classList.contains(this.classes.highlighted)){const O=d[g];O.classList.remove(this.classes.highlighted);const T=O.parentElement;if(T&&T.classList.contains(this.classes.open)){const A=T.querySelector("."+this.classes.optgroupLabel);A&&A.click()}let D=d[l==="down"?g+1<d.length?g+1:0:g-1>=0?g-1:d.length-1];D.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,D);const C=D.parentElement;if(C&&C.classList.contains(this.classes.close)){const A=C.querySelector("."+this.classes.optgroupLabel);A&&A.click()}return}d[l==="down"?0:d.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,d[l==="down"?0:d.length-1])}listDiv(){const l=document.createElement("div");return l.classList.add(this.classes.list),l}renderError(l){this.content.list.innerHTML="";const d=document.createElement("div");d.classList.add(this.classes.error),d.textContent=l,this.content.list.appendChild(d)}renderSearching(){this.content.list.innerHTML="";const l=document.createElement("div");l.classList.add(this.classes.searching),l.textContent=this.settings.searchingText,this.content.list.appendChild(l)}renderOptions(l){if(this.content.list.innerHTML="",l.length===0){const f=document.createElement("div");f.classList.add(this.classes.search),this.callbacks.addable?f.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):f.innerHTML=this.settings.searchText,this.content.list.appendChild(f);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(g=>g.placeholder,!1).length||this.store.addOption(new u({text:"",value:"",selected:!1,placeholder:!0}),!0));const d=document.createDocumentFragment();for(const f of l){if(f instanceof c){const g=document.createElement("div");g.classList.add(this.classes.optgroup);const O=document.createElement("div");O.classList.add(this.classes.optgroupLabel),g.appendChild(O);const T=document.createElement("div");T.classList.add(this.classes.optgroupLabelText),T.textContent=f.label,O.appendChild(T);const D=document.createElement("div");if(D.classList.add(this.classes.optgroupActions),O.appendChild(D),this.settings.isMultiple&&f.selectAll){const C=document.createElement("div");C.classList.add(this.classes.optgroupSelectAll);let A=!0;for(const z of f.options)if(!z.selected){A=!1;break}A&&C.classList.add(this.classes.selected);const E=document.createElement("span");E.textContent=f.selectAllText,C.appendChild(E);const I=document.createElementNS("http://www.w3.org/2000/svg","svg");I.setAttribute("viewBox","0 0 100 100"),C.appendChild(I);const M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("d",this.classes.optgroupSelectAllBox),I.appendChild(M);const U=document.createElementNS("http://www.w3.org/2000/svg","path");U.setAttribute("d",this.classes.optgroupSelectAllCheck),I.appendChild(U),C.addEventListener("click",z=>{z.preventDefault(),z.stopPropagation();const Ee=this.store.getSelected();if(A){const Ae=Ee.filter(Fe=>{for(const Bn of f.options)if(Fe===Bn.id)return!1;return!0});this.callbacks.setSelected(Ae,!0);return}else{const Ae=Ee.concat(f.options.map(Fe=>Fe.id));for(const Fe of f.options)this.store.getOptionByID(Fe.id)||this.callbacks.addOption(Fe);this.callbacks.setSelected(Ae,!0);return}}),D.appendChild(C)}if(f.closable!=="off"){const C=document.createElement("div");C.classList.add(this.classes.optgroupClosable);const A=document.createElementNS("http://www.w3.org/2000/svg","svg");A.setAttribute("viewBox","0 0 100 100"),A.classList.add(this.classes.arrow),C.appendChild(A);const E=document.createElementNS("http://www.w3.org/2000/svg","path");A.appendChild(E),f.options.some(I=>I.selected)||this.content.search.input.value.trim()!==""?(C.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):f.closable==="open"?(g.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):f.closable==="close"&&(g.classList.add(this.classes.close),E.setAttribute("d",this.classes.arrowClose)),O.addEventListener("click",I=>{I.preventDefault(),I.stopPropagation(),g.classList.contains(this.classes.close)?(g.classList.remove(this.classes.close),g.classList.add(this.classes.open),E.setAttribute("d",this.classes.arrowOpen)):(g.classList.remove(this.classes.open),g.classList.add(this.classes.close),E.setAttribute("d",this.classes.arrowClose))}),D.appendChild(C)}g.appendChild(O);for(const C of f.options)g.appendChild(this.option(C)),d.appendChild(g)}f instanceof u&&d.appendChild(this.option(f))}this.content.list.appendChild(d)}option(l){if(l.placeholder){const f=document.createElement("div");return f.classList.add(this.classes.option),f.classList.add(this.classes.hide),f}const d=document.createElement("div");return d.dataset.id=l.id,d.classList.add(this.classes.option),d.setAttribute("role","option"),l.class&&l.class.split(" ").forEach(f=>{d.classList.add(f)}),l.style&&(d.style.cssText=l.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?d.innerHTML=this.highlightText(l.html!==""?l.html:l.text,this.content.search.input.value,this.classes.searchHighlighter):l.html!==""?d.innerHTML=l.html:d.textContent=l.text,this.settings.showOptionTooltips&&d.textContent&&d.setAttribute("title",d.textContent),l.display||d.classList.add(this.classes.hide),l.disabled&&d.classList.add(this.classes.disabled),l.selected&&this.settings.hideSelected&&d.classList.add(this.classes.hide),l.selected?(d.classList.add(this.classes.selected),d.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",d.id)):(d.classList.remove(this.classes.selected),d.setAttribute("aria-selected","false")),d.addEventListener("click",f=>{f.preventDefault(),f.stopPropagation();const g=this.store.getSelected(),O=f.currentTarget,T=String(O.dataset.id);if(l.disabled||l.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=g.length&&!l.selected||this.settings.isMultiple&&this.settings.minSelected>=g.length&&l.selected)return;let D=!1;const C=this.store.getSelectedOptions();let A=[];this.settings.isMultiple&&(l.selected?A=C.filter(E=>E.id!==T):A=C.concat(l)),this.settings.isMultiple||(l.selected?A=[]:A=[l]),this.callbacks.beforeChange||(D=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(A,C)===!1?D=!1:D=!0),D&&(this.store.getOptionByID(T)||this.callbacks.addOption(l),this.callbacks.setSelected(A.map(E=>E.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(A))}),d}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(l,d,f){let g=l;const O=new RegExp("(?![^<]*>)("+d.trim()+")(?![^<]*>[^<>]*</)","i");if(!l.match(O))return l;const T=l.match(O).index,D=T+l.match(O)[0].toString().length,C=l.substring(T,D);return g=g.replace(O,`<mark class="${f}">${C}</mark>`),g}moveContentAbove(){const l=this.main.main.offsetHeight,d=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const f=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(l+d-1)+"px 0px 0px 0px",this.content.main.style.top=f.top+f.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=f.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=f.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const l=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=l.top+l.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=l.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=l.width+"px")}ensureElementInView(l,d){const f=l.scrollTop+l.offsetTop,g=f+l.clientHeight,O=d.offsetTop,T=O+d.clientHeight;O<f?l.scrollTop-=f-O:T>g&&(l.scrollTop+=T-g)}putContent(){const l=this.main.main.offsetHeight,d=this.main.main.getBoundingClientRect(),f=this.content.main.offsetHeight;return window.innerHeight-(d.top+l)<=f&&d.top>f?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const l=this.store.getSelectedOptions(),d=l&&l.length>0,f=this.settings.isMultiple,g=this.settings.allowDeselect,O=this.main.deselect.main,T=this.classes.hide;g&&!(f&&!d)?O.classList.remove(T):O.classList.add(T)}}class y{constructor(l){this.listen=!1,this.observer=null,this.select=l,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(l){this.listen=l,l&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),l||this.observer&&this.observer.disconnect()}valueChange(l){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(l){if(!this.listen)return;let d=!1,f=!1,g=!1;for(const O of l){if(O.target===this.select&&(O.attributeName==="disabled"&&(f=!0),O.attributeName==="class"&&(d=!0),O.type==="childList")){for(const T of O.addedNodes)if(T.nodeName==="OPTION"&&T.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}g=!0}(O.target.nodeName==="OPTGROUP"||O.target.nodeName==="OPTION")&&(g=!0)}d&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),f&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),g&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let l=[];const d=this.select.childNodes;for(const f of d)f.nodeName==="OPTGROUP"&&l.push(this.getDataFromOptgroup(f)),f.nodeName==="OPTION"&&l.push(this.getDataFromOption(f));return l}getDataFromOptgroup(l){let d={id:l.id,label:l.label,selectAll:l.dataset?l.dataset.selectall==="true":!1,selectAllText:l.dataset?l.dataset.selectalltext:"Select all",closable:l.dataset?l.dataset.closable:"off",options:[]};const f=l.childNodes;for(const g of f)g.nodeName==="OPTION"&&d.options.push(this.getDataFromOption(g));return d}getDataFromOption(l){return{id:l.id,value:l.value,text:l.text,html:l.dataset&&l.dataset.html?l.dataset.html:"",selected:l.selected,display:l.style.display!=="none",disabled:l.disabled,mandatory:l.dataset?l.dataset.mandatory==="true":!1,placeholder:l.dataset.placeholder==="true",class:l.className,style:l.style.cssText,data:l.dataset}}getSelectedOptions(){let l=[];const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const g=f.childNodes;for(const O of g)if(O.nodeName==="OPTION"){const T=O;T.selected&&l.push(this.getDataFromOption(T))}}if(f.nodeName==="OPTION"){const g=f;g.selected&&l.push(this.getDataFromOption(g))}}return l}getSelectedValues(){return this.getSelectedOptions().map(l=>l.value)}setSelected(l){this.changeListen(!1);const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const O=f.childNodes;for(const T of O)if(T.nodeName==="OPTION"){const D=T;D.selected=l.includes(D.id)}}if(f.nodeName==="OPTION"){const g=f;g.selected=l.includes(g.id)}}this.changeListen(!0)}setSelectedByValue(l){this.changeListen(!1);const d=this.select.childNodes;for(const f of d){if(f.nodeName==="OPTGROUP"){const O=f.childNodes;for(const T of O)if(T.nodeName==="OPTION"){const D=T;D.selected=l.includes(D.value)}}if(f.nodeName==="OPTION"){const g=f;g.selected=l.includes(g.value)}}this.changeListen(!0)}updateSelect(l,d,f){this.changeListen(!1),l&&(this.select.dataset.id=l),d&&(this.select.style.cssText=d),f&&(this.select.className="",f.forEach(g=>{g.trim()!==""&&this.select.classList.add(g.trim())})),this.changeListen(!0)}updateOptions(l){this.changeListen(!1),this.select.innerHTML="";for(const d of l)d instanceof c&&this.select.appendChild(this.createOptgroup(d)),d instanceof u&&this.select.appendChild(this.createOption(d));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(l){const d=document.createElement("optgroup");if(d.id=l.id,d.label=l.label,l.selectAll&&(d.dataset.selectAll="true"),l.closable!=="off"&&(d.dataset.closable=l.closable),l.options)for(const f of l.options)d.appendChild(this.createOption(f));return d}createOption(l){const d=document.createElement("option");return d.id=l.id,d.value=l.value,d.textContent=l.text,l.html!==""&&d.setAttribute("data-html",l.html),l.selected&&(d.selected=l.selected),l.disabled&&(d.disabled=!0),l.display||(d.style.display="none"),l.placeholder&&d.setAttribute("data-placeholder","true"),l.mandatory&&d.setAttribute("data-mandatory","true"),l.class&&l.class.split(" ").forEach(f=>{d.classList.add(f)}),l.data&&typeof l.data=="object"&&Object.keys(l.data).forEach(f=>{d.setAttribute("data-"+a(f),l.data[f])}),d}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class L{constructor(l){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,l||(l={}),this.id="ss-"+i(),this.style=l.style||"",this.class=l.class||[],this.disabled=l.disabled!==void 0?l.disabled:!1,this.alwaysOpen=l.alwaysOpen!==void 0?l.alwaysOpen:!1,this.showSearch=l.showSearch!==void 0?l.showSearch:!0,this.focusSearch=l.focusSearch!==void 0?l.focusSearch:!0,this.ariaLabel=l.ariaLabel||"Combobox",this.searchPlaceholder=l.searchPlaceholder||"Search",this.searchText=l.searchText||"No Results",this.searchingText=l.searchingText||"Searching...",this.searchHighlight=l.searchHighlight!==void 0?l.searchHighlight:!1,this.closeOnSelect=l.closeOnSelect!==void 0?l.closeOnSelect:!0,this.contentLocation=l.contentLocation||document.body,this.contentPosition=l.contentPosition||"absolute",this.openPosition=l.openPosition||"auto",this.placeholderText=l.placeholderText!==void 0?l.placeholderText:"Select Value",this.allowDeselect=l.allowDeselect!==void 0?l.allowDeselect:!1,this.hideSelected=l.hideSelected!==void 0?l.hideSelected:!1,this.keepOrder=l.keepOrder!==void 0?l.keepOrder:!1,this.showOptionTooltips=l.showOptionTooltips!==void 0?l.showOptionTooltips:!1,this.minSelected=l.minSelected||0,this.maxSelected=l.maxSelected||1e3,this.timeoutDelay=l.timeoutDelay||200,this.maxValuesShown=l.maxValuesShown||20,this.maxValuesMessage=l.maxValuesMessage||"{number} selected",this.addableText=l.addableText||'Press "Enter" to add {value}'}}class b{constructor(l){var d;if(this.events={search:void 0,searchFilter:(D,C)=>D.text.toLowerCase().indexOf(C.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=o(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=D=>{this.settings.isOpen&&D.target&&!s(D.target,this.settings.id)&&this.close(D.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof l.select=="string"?document.querySelector(l.select):l.select,!this.selectEl){l.events&&l.events.error&&l.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){l.events&&l.events.error&&l.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new L(l.settings),this.cssClasses=new e(l.cssClasses);const f=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const D in l.events)l.events.hasOwnProperty(D)&&(f.indexOf(D)!==-1?this.events[D]=o(l.events[D],100):this.events[D]=l.events[D]);this.settings.disabled=!((d=l.settings)===null||d===void 0)&&d.disabled?l.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new y(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=D=>{this.setSelected(D.map(C=>C.id))},this.select.onClassChange=D=>{this.settings.class=D,this.render.updateClassStyles()},this.select.onDisabledChange=D=>{D?this.disable():this.enable()},this.select.onOptionsChange=D=>{this.setData(D)},this.store=new h(this.settings.isMultiple?"multiple":"single",l.data?l.data:this.select.getData()),l.data&&this.select.updateOptions(this.store.getData());const g={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new v(this.settings,this.cssClasses,this.store,g),this.render.renderValues(),this.render.renderOptions(this.store.getData());const O=this.selectEl.getAttribute("aria-label"),T=this.selectEl.getAttribute("aria-labelledby");O?this.render.main.main.setAttribute("aria-label",O):T&&this.render.main.main.setAttribute("aria-labelledby",T),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(l){const d=this.store.getSelected(),f=this.store.validateDataArray(l);if(f){this.events.error&&this.events.error(f);return}this.store.setData(l);const g=this.store.getData();this.select.updateOptions(g),this.render.renderValues(),this.render.renderOptions(g),this.events.afterChange&&!r(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let l=this.store.getSelectedOptions();return this.settings.keepOrder&&(l=this.store.selectedOrderOptions(l)),l.map(d=>d.value)}setSelected(l,d=!0){const f=this.store.getSelected(),g=this.store.getDataOptions();l=Array.isArray(l)?l:[l];const O=[];for(const D of l){if(g.find(C=>C.id==D)){O.push(D);continue}for(const C of g.filter(A=>A.value==D))O.push(C.id)}this.store.setSelectedBy("id",O);const T=this.store.getData();this.select.updateOptions(T),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(T),d&&this.events.afterChange&&!r(f,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(l){const d=this.store.getSelected();this.store.getDataOptions().some(g=>{var O;return g.value===((O=l.value)!==null&&O!==void 0?O:l.text)})||this.store.addOption(l);const f=this.store.getData();this.select.updateOptions(f),this.render.renderValues(),this.render.renderOptions(f),this.events.afterChange&&!r(d,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(l=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(l),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(l){if(this.render.content.search.input.value!==l&&(this.render.content.search.input.value=l),!this.events.search){this.render.renderOptions(l===""?this.store.getData():this.store.search(l,this.events.searchFilter));return}this.render.renderSearching();const d=this.events.search(l,this.store.getSelectedOptions());if(d instanceof Promise){d.then(f=>{this.render.renderOptions(this.store.partialToFullData(f))}).catch(f=>{this.render.renderError(typeof f=="string"?f:f.message)});return}else Array.isArray(d)?this.render.renderOptions(this.store.partialToFullData(d)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}return b})})(Ha);var bp=Ha.exports;const yp=xl(bp);function mi(t,n){t.split(/\s+/).forEach(e=>{n(e)})}class wp{constructor(){this._events={}}on(n,e){mi(n,i=>{const s=this._events[i]||[];s.push(e),this._events[i]=s})}off(n,e){var i=arguments.length;if(i===0){this._events={};return}mi(n,s=>{if(i===1){delete this._events[s];return}const o=this._events[s];o!==void 0&&(o.splice(o.indexOf(e),1),this._events[s]=o)})}trigger(n,...e){var i=this;mi(n,s=>{const o=i._events[s];o!==void 0&&o.forEach(r=>{r.apply(i,e)})})}}function _p(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(n,e){t.plugins[n]={name:n,fn:e}}initializePlugins(n){var e,i;const s=this,o=[];if(Array.isArray(n))n.forEach(r=>{typeof r=="string"?o.push(r):(s.plugins.settings[r.name]=r.options,o.push(r.name))});else if(n)for(e in n)n.hasOwnProperty(e)&&(s.plugins.settings[e]=n[e],o.push(e));for(;i=o.shift();)s.require(i)}loadPlugin(n){var e=this,i=e.plugins,s=t.plugins[n];if(!t.plugins.hasOwnProperty(n))throw new Error('Unable to find "'+n+'" plugin');i.requested[n]=!0,i.loaded[n]=s.fn.apply(e,[e.plugins.settings[n]||{}]),i.names.push(n)}require(n){var e=this,i=e.plugins;if(!e.plugins.loaded.hasOwnProperty(n)){if(i.requested[n])throw new Error('Plugin has circular dependency ("'+n+'")');e.loadPlugin(n)}return i.loaded[n]}}}const jn=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":Cp(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),ja=t=>{if(!Op(t))return t.join("");let n="",e=0;const i=()=>{e>1&&(n+="{"+e+"}")};return t.forEach((s,o)=>{if(s===t[o-1]){e++;return}i(),n+=s,e=1}),i(),n},Ba=t=>{let n=Array.from(t);return jn(n)},Op=t=>new Set(t).size!==t.length,Ft=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),Cp=t=>t.reduce((n,e)=>Math.max(n,xp(e)),0),xp=t=>Array.from(t).length,Va=t=>{if(t.length===1)return[[t]];let n=[];const e=t.substring(1);return Va(e).forEach(function(s){let o=s.slice(0);o[0]=t.charAt(0)+o[0],n.push(o),o=s.slice(0),o.unshift(t.charAt(0)),n.push(o)}),n},Sp=[[0,65535]],Ep="[̀-ͯ·ʾʼ]";let xn,qa;const Ap=3,xs={},Lr={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in Lr){let n=Lr[t]||"";for(let e=0;e<n.length;e++){let i=n.substring(e,e+1);xs[i]=t}}const Dp=new RegExp(Object.keys(xs).join("|")+"|"+Ep,"gu"),Lp=t=>{xn===void 0&&(xn=Ip(Sp))},Tr=(t,n="NFKD")=>t.normalize(n),Sn=t=>Array.from(t).reduce((n,e)=>n+Tp(e),""),Tp=t=>(t=Tr(t).toLowerCase().replace(Dp,n=>xs[n]||""),Tr(t,"NFC"));function*kp(t){for(const[n,e]of t)for(let i=n;i<=e;i++){let s=String.fromCharCode(i),o=Sn(s);o!=s.toLowerCase()&&(o.length>Ap||o.length!=0&&(yield{folded:o,composed:s,code_point:i}))}}const Mp=t=>{const n={},e=(i,s)=>{const o=n[i]||new Set,r=new RegExp("^"+Ba(o)+"$","iu");s.match(r)||(o.add(Ft(s)),n[i]=o)};for(let i of kp(t))e(i.folded,i.folded),e(i.folded,i.composed);return n},Ip=t=>{const n=Mp(t),e={};let i=[];for(let o in n){let r=n[o];r&&(e[o]=Ba(r)),o.length>1&&i.push(Ft(o))}i.sort((o,r)=>r.length-o.length);const s=jn(i);return qa=new RegExp("^"+s,"u"),e},Fp=(t,n=1)=>{let e=0;return t=t.map(i=>(xn[i]&&(e+=i.length),xn[i]||i)),e>=n?ja(t):""},Pp=(t,n=1)=>(n=Math.max(n,t.length-1),jn(Va(t).map(e=>Fp(e,n)))),kr=(t,n=!0)=>{let e=t.length>1?1:0;return jn(t.map(i=>{let s=[];const o=n?i.length():i.length()-1;for(let r=0;r<o;r++)s.push(Pp(i.substrs[r]||"",e));return ja(s)}))},Np=(t,n)=>{for(const e of n){if(e.start!=t.start||e.end!=t.end||e.substrs.join("")!==t.substrs.join(""))continue;let i=t.parts;const s=r=>{for(const a of i){if(a.start===r.start&&a.substr===r.substr)return!1;if(!(r.length==1||a.length==1)&&(r.start<a.start&&r.end>a.start||a.start<r.start&&a.end>r.start))return!0}return!1};if(!(e.parts.filter(s).length>0))return!0}return!1};class En{constructor(){qe(this,"parts");qe(this,"substrs");qe(this,"start");qe(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(n){n&&(this.parts.push(n),this.substrs.push(n.substr),this.start=Math.min(n.start,this.start),this.end=Math.max(n.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(n,e){let i=new En,s=JSON.parse(JSON.stringify(this.parts)),o=s.pop();for(const c of s)i.add(c);let r=e.substr.substring(0,n-o.start),a=r.length;return i.add({start:o.start,end:o.start+a,length:a,substr:r}),i}}const Rp=t=>{Lp(),t=Sn(t);let n="",e=[new En];for(let i=0;i<t.length;i++){let o=t.substring(i).match(qa);const r=t.substring(i,i+1),a=o?o[0]:null;let c=[],u=new Set;for(const h of e){const v=h.last();if(!v||v.length==1||v.end<=i)if(a){const y=a.length;h.add({start:i,end:i+y,length:y,substr:a}),u.add("1")}else h.add({start:i,end:i+1,length:1,substr:r}),u.add("2");else if(a){let y=h.clone(i,v);const L=a.length;y.add({start:i,end:i+L,length:L,substr:a}),c.push(y)}else u.add("3")}if(c.length>0){c=c.sort((h,v)=>h.length()-v.length());for(let h of c)Np(h,e)||e.push(h);continue}if(i>0&&u.size==1&&!u.has("3")){n+=kr(e,!1);let h=new En;const v=e[0];v&&h.add(v.last()),e=[h]}}return n+=kr(e,!0),n},$p=(t,n)=>{if(t)return t[n]},Hp=(t,n)=>{if(t){for(var e,i=n.split(".");(e=i.shift())&&(t=t[e]););return t}},vi=(t,n,e)=>{var i,s;return!t||(t=t+"",n.regex==null)||(s=t.search(n.regex),s===-1)?0:(i=n.string.length/t.length,s===0&&(i+=.5),i*e)},bi=(t,n)=>{var e=t[n];if(typeof e=="function")return e;e&&!Array.isArray(e)&&(t[n]=[e])},sn=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},jp=(t,n)=>typeof t=="number"&&typeof n=="number"?t>n?1:t<n?-1:0:(t=Sn(t+"").toLowerCase(),n=Sn(n+"").toLowerCase(),t>n?1:n>t?-1:0);class Bp{constructor(n,e){qe(this,"items");qe(this,"settings");this.items=n,this.settings=e||{diacritics:!0}}tokenize(n,e,i){if(!n||!n.length)return[];const s=[],o=n.split(/\s+/);var r;return i&&(r=new RegExp("^("+Object.keys(i).map(Ft).join("|")+"):(.*)$")),o.forEach(a=>{let c,u=null,h=null;r&&(c=a.match(r))&&(u=c[1],a=c[2]),a.length>0&&(this.settings.diacritics?h=Rp(a)||null:h=Ft(a),h&&e&&(h="\\b"+h)),s.push({string:a,regex:h?new RegExp(h,"iu"):null,field:u})}),s}getScoreFunction(n,e){var i=this.prepareSearch(n,e);return this._getScoreFunction(i)}_getScoreFunction(n){const e=n.tokens,i=e.length;if(!i)return function(){return 0};const s=n.options.fields,o=n.weights,r=s.length,a=n.getAttrFn;if(!r)return function(){return 1};const c=function(){return r===1?function(u,h){const v=s[0].field;return vi(a(h,v),u,o[v]||1)}:function(u,h){var v=0;if(u.field){const y=a(h,u.field);!u.regex&&y?v+=1/r:v+=vi(y,u,1)}else sn(o,(y,L)=>{v+=vi(a(h,L),u,y)});return v/r}}();return i===1?function(u){return c(e[0],u)}:n.options.conjunction==="and"?function(u){var h,v=0;for(let y of e){if(h=c(y,u),h<=0)return 0;v+=h}return v/i}:function(u){var h=0;return sn(e,v=>{h+=c(v,u)}),h/i}}getSortFunction(n,e){var i=this.prepareSearch(n,e);return this._getSortFunction(i)}_getSortFunction(n){var e,i=[];const s=this,o=n.options,r=!n.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof r=="function")return r.bind(this);const a=function(u,h){return u==="$score"?h.score:n.getAttrFn(s.items[h.id],u)};if(r)for(let u of r)(n.query||u.field!=="$score")&&i.push(u);if(n.query){e=!0;for(let u of i)if(u.field==="$score"){e=!1;break}e&&i.unshift({field:"$score",direction:"desc"})}else i=i.filter(u=>u.field!=="$score");return i.length?function(u,h){var v,y;for(let L of i)if(y=L.field,v=(L.direction==="desc"?-1:1)*jp(a(y,u),a(y,h)),v)return v;return 0}:null}prepareSearch(n,e){const i={};var s=Object.assign({},e);if(bi(s,"sort"),bi(s,"sort_empty"),s.fields){bi(s,"fields");const o=[];s.fields.forEach(r=>{typeof r=="string"&&(r={field:r,weight:1}),o.push(r),i[r.field]="weight"in r?r.weight:1}),s.fields=o}return{options:s,query:n.toLowerCase().trim(),tokens:this.tokenize(n,s.respect_word_boundaries,i),total:0,items:[],weights:i,getAttrFn:s.nesting?Hp:$p}}search(n,e){var i=this,s,o;o=this.prepareSearch(n,e),e=o.options,n=o.query;const r=e.score||i._getScoreFunction(o);n.length?sn(i.items,(c,u)=>{s=r(c),(e.filter===!1||s>0)&&o.items.push({score:s,id:u})}):sn(i.items,(c,u)=>{o.items.push({score:1,id:u})});const a=i._getSortFunction(o);return a&&o.items.sort(a),o.total=o.items.length,typeof e.limit=="number"&&(o.items=o.items.slice(0,e.limit)),o}}const _e=t=>typeof t>"u"||t===null?null:hn(t),hn=t=>typeof t=="boolean"?t?"1":"0":t+"",yi=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Vp=(t,n)=>n>0?window.setTimeout(t,n):(t.call(null),null),qp=(t,n)=>{var e;return function(i,s){var o=this;e&&(o.loading=Math.max(o.loading-1,0),clearTimeout(e)),e=setTimeout(function(){e=null,o.loadedSearches[i]=!0,t.call(o,i,s)},n)}},Mr=(t,n,e)=>{var i,s=t.trigger,o={};t.trigger=function(){var r=arguments[0];if(n.indexOf(r)!==-1)o[r]=arguments;else return s.apply(t,arguments)},e.apply(t,[]),t.trigger=s;for(i of n)i in o&&s.apply(t,o[i])},Up=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),G=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},oe=(t,n,e,i)=>{t.addEventListener(n,e,i)},Ke=(t,n)=>{if(!n||!n[t])return!1;var e=(n.altKey?1:0)+(n.ctrlKey?1:0)+(n.shiftKey?1:0)+(n.metaKey?1:0);return e===1},wi=(t,n)=>{const e=t.getAttribute("id");return e||(t.setAttribute("id",n),n)},Ir=t=>t.replace(/[\\"']/g,"\\$&"),Ye=(t,n)=>{n&&t.append(n)},ne=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Te=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ua(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Ua=t=>typeof t=="string"&&t.indexOf("<")>-1,zp=t=>t.replace(/['"\\]/g,"\\$&"),_i=(t,n)=>{var e=document.createEvent("HTMLEvents");e.initEvent(n,!0,!1),t.dispatchEvent(e)},rn=(t,n)=>{Object.assign(t.style,n)},ge=(t,...n)=>{var e=za(n);t=Ka(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},$e=(t,...n)=>{var e=za(n);t=Ka(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},za=t=>{var n=[];return ne(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Ka=t=>(Array.isArray(t)||(t=[t]),t),Oi=(t,n,e)=>{if(!(e&&!e.contains(t)))for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Fr=(t,n=0)=>n>0?t[t.length-1]:t[0],Kp=t=>Object.keys(t).length===0,Pr=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e},Y=(t,n)=>{ne(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},Gi=(t,n)=>{t.parentNode&&t.parentNode.replaceChild(n,t)},Yp=(t,n)=>{if(n===null)return;if(typeof n=="string"){if(!n.length)return;n=new RegExp(n,"i")}const e=o=>{var r=o.data.match(n);if(r&&o.data.length>0){var a=document.createElement("span");a.className="highlight";var c=o.splitText(r.index);c.splitText(r[0].length);var u=c.cloneNode(!0);return a.appendChild(u),Gi(c,a),1}return 0},i=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(r=>{s(r)})},s=o=>o.nodeType===3?e(o):(i(o),0);s(t)},Wp=t=>{var n=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(n,function(e){var i=e.parentNode;i.replaceChild(e.firstChild,e),i.normalize()})},Jp=65,Gp=13,Qp=27,Xp=37,Zp=38,eg=39,tg=40,Nr=8,ng=46,Rr=9,ig=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),on=ig?"metaKey":"ctrlKey",$r={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function Hr(t,n){var e=Object.assign({},$r,n),i=e.dataAttr,s=e.labelField,o=e.valueField,r=e.disabledField,a=e.optgroupField,c=e.optgroupLabelField,u=e.optgroupValueField,h=t.tagName.toLowerCase(),v=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!v&&!e.allowEmptyOption){let _=t.querySelector('option[value=""]');_&&(v=_.textContent)}var y={placeholder:v,options:[],optgroups:[],items:[],maxItems:null},L=()=>{var _,l=y.options,d={},f=1;let g=0;var O=C=>{var A=Object.assign({},C.dataset),E=i&&A[i];return typeof E=="string"&&E.length&&(A=Object.assign(A,JSON.parse(E))),A},T=(C,A)=>{var E=_e(C.value);if(E!=null&&!(!E&&!e.allowEmptyOption)){if(d.hasOwnProperty(E)){if(A){var I=d[E][a];I?Array.isArray(I)?I.push(A):d[E][a]=[I,A]:d[E][a]=A}}else{var M=O(C);M[s]=M[s]||C.textContent,M[o]=M[o]||E,M[r]=M[r]||C.disabled,M[a]=M[a]||A,M.$option=C,M.$order=M.$order||++g,d[E]=M,l.push(M)}C.selected&&y.items.push(E)}},D=C=>{var A,E;E=O(C),E[c]=E[c]||C.getAttribute("label")||"",E[u]=E[u]||f++,E[r]=E[r]||C.disabled,E.$order=E.$order||++g,y.optgroups.push(E),A=E[u],ne(C.children,I=>{T(I,A)})};y.maxItems=t.hasAttribute("multiple")?null:1,ne(t.children,C=>{_=C.tagName.toLowerCase(),_==="optgroup"?D(C):_==="option"&&T(C)})},b=()=>{const _=t.getAttribute(i);if(_)y.options=JSON.parse(_),ne(y.options,d=>{y.items.push(d[o])});else{var l=t.value.trim()||"";if(!e.allowEmptyOption&&!l.length)return;const d=l.split(e.delimiter);ne(d,f=>{const g={};g[s]=f,g[o]=f,y.options.push(g)}),y.items=d}};return h==="select"?L():b(),Object.assign({},$r,y,n)}var jr=0;class ce extends _p(wp){constructor(n,e){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,jr++;var i,s=Te(n);if(s.tomselect)throw new Error("Tom Select already initialized on this element");s.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(s,null);i=o.getPropertyValue("direction");const r=Hr(s,e);this.settings=r,this.input=s,this.tabIndex=s.tabIndex||0,this.is_select_tag=s.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(i),this.inputId=wi(s,"tomselect-"+jr),this.isRequired=s.required,this.sifter=new Bp(this.options,{diacritics:r.diacritics}),r.mode=r.mode||(r.maxItems===1?"single":"multi"),typeof r.hideSelected!="boolean"&&(r.hideSelected=r.mode==="multi"),typeof r.hidePlaceholder!="boolean"&&(r.hidePlaceholder=r.mode!=="multi");var a=r.createFilter;typeof a!="function"&&(typeof a=="string"&&(a=new RegExp(a)),a instanceof RegExp?r.createFilter=l=>a.test(l):r.createFilter=l=>this.settings.duplicates||!this.options[l]),this.initializePlugins(r.plugins),this.setupCallbacks(),this.setupTemplates();const c=Te("<div>"),u=Te("<div>"),h=this._render("dropdown"),v=Te('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",L=r.mode;var b;if(ge(c,r.wrapperClass,y,L),ge(u,r.controlClass),Ye(c,u),ge(h,r.dropdownClass,L),r.copyClassesToDropdown&&ge(h,y),ge(v,r.dropdownContentClass),Ye(h,v),Te(r.dropdownParent||c).appendChild(h),Ua(r.controlInput)){b=Te(r.controlInput);var _=["autocorrect","autocapitalize","autocomplete","spellcheck"];ne(_,l=>{s.getAttribute(l)&&Y(b,{[l]:s.getAttribute(l)})}),b.tabIndex=-1,u.appendChild(b),this.focus_node=b}else r.controlInput?(b=Te(r.controlInput),this.focus_node=b):(b=Te("<input/>"),this.focus_node=u);this.wrapper=c,this.dropdown=h,this.dropdown_content=v,this.control=u,this.control_input=b,this.setup()}setup(){const n=this,e=n.settings,i=n.control_input,s=n.dropdown,o=n.dropdown_content,r=n.wrapper,a=n.control,c=n.input,u=n.focus_node,h={passive:!0},v=n.inputId+"-ts-dropdown";Y(o,{id:v}),Y(u,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":v});const y=wi(u,n.inputId+"-ts-control"),L="label[for='"+zp(n.inputId)+"']",b=document.querySelector(L),_=n.focus.bind(n);if(b){oe(b,"click",_),Y(b,{for:y});const f=wi(b,n.inputId+"-ts-label");Y(u,{"aria-labelledby":f}),Y(o,{"aria-labelledby":f})}if(r.style.width=c.style.width,n.plugins.names.length){const f="plugin-"+n.plugins.names.join(" plugin-");ge([r,s],f)}(e.maxItems===null||e.maxItems>1)&&n.is_select_tag&&Y(c,{multiple:"multiple"}),e.placeholder&&Y(i,{placeholder:e.placeholder}),!e.splitOn&&e.delimiter&&(e.splitOn=new RegExp("\\s*"+Ft(e.delimiter)+"+\\s*")),e.load&&e.loadThrottle&&(e.load=qp(e.load,e.loadThrottle)),oe(s,"mousemove",()=>{n.ignoreHover=!1}),oe(s,"mouseenter",f=>{var g=Oi(f.target,"[data-selectable]",s);g&&n.onOptionHover(f,g)},{capture:!0}),oe(s,"click",f=>{const g=Oi(f.target,"[data-selectable]");g&&(n.onOptionSelect(f,g),G(f,!0))}),oe(a,"click",f=>{var g=Oi(f.target,"[data-ts-item]",a);if(g&&n.onItemSelect(f,g)){G(f,!0);return}i.value==""&&(n.onClick(),G(f,!0))}),oe(u,"keydown",f=>n.onKeyDown(f)),oe(i,"keypress",f=>n.onKeyPress(f)),oe(i,"input",f=>n.onInput(f)),oe(u,"blur",f=>n.onBlur(f)),oe(u,"focus",f=>n.onFocus(f)),oe(i,"paste",f=>n.onPaste(f));const l=f=>{const g=f.composedPath()[0];if(!r.contains(g)&&!s.contains(g)){n.isFocused&&n.blur(),n.inputState();return}g==i&&n.isOpen?f.stopPropagation():G(f,!0)},d=()=>{n.isOpen&&n.positionDropdown()};oe(document,"mousedown",l),oe(window,"scroll",d,h),oe(window,"resize",d,h),this._destroy=()=>{document.removeEventListener("mousedown",l),window.removeEventListener("scroll",d),window.removeEventListener("resize",d),b&&b.removeEventListener("click",_)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",n.wrapper),n.sync(!1),e.items=[],delete e.optgroups,delete e.options,oe(c,"invalid",()=>{n.isValid&&(n.isValid=!1,n.isInvalid=!0,n.refreshState())}),n.updateOriginalInput(),n.refreshItems(),n.close(!1),n.inputState(),n.isSetup=!0,c.disabled?n.disable():c.readOnly?n.setReadOnly(!0):n.enable(),n.on("change",this.onChange),ge(c,"tomselected","ts-hidden-accessible"),n.trigger("initialize"),e.preload===!0&&n.preload()}setupOptions(n=[],e=[]){this.addOptions(n),ne(e,i=>{this.registerOptionGroup(i)})}setupTemplates(){var n=this,e=n.settings.labelField,i=n.settings.optgroupLabelField,s={optgroup:o=>{let r=document.createElement("div");return r.className="optgroup",r.appendChild(o.options),r},optgroup_header:(o,r)=>'<div class="optgroup-header">'+r(o[i])+"</div>",option:(o,r)=>"<div>"+r(o[e])+"</div>",item:(o,r)=>"<div>"+r(o[e])+"</div>",option_create:(o,r)=>'<div class="create">Add <strong>'+r(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};n.settings.render=Object.assign({},s,n.settings.render)}setupCallbacks(){var n,e,i={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(n in i)e=this.settings[i[n]],e&&this.on(n,e)}sync(n=!0){const e=this,i=n?Hr(e.input,{delimiter:e.settings.delimiter}):e.settings;e.setupOptions(i.options,i.optgroups),e.setValue(i.items||[],!0),e.lastQuery=null}onClick(){var n=this;if(n.activeItems.length>0){n.clearActiveItems(),n.focus();return}n.isFocused&&n.isOpen?n.blur():n.focus()}onMouseDown(){}onChange(){_i(this.input,"input"),_i(this.input,"change")}onPaste(n){var e=this;if(e.isInputHidden||e.isLocked){G(n);return}e.settings.splitOn&&setTimeout(()=>{var i=e.inputValue();if(i.match(e.settings.splitOn)){var s=i.trim().split(e.settings.splitOn);ne(s,o=>{_e(o)&&(this.options[o]?e.addItem(o):e.createItem(o))})}},0)}onKeyPress(n){var e=this;if(e.isLocked){G(n);return}var i=String.fromCharCode(n.keyCode||n.which);if(e.settings.create&&e.settings.mode==="multi"&&i===e.settings.delimiter){e.createItem(),G(n);return}}onKeyDown(n){var e=this;if(e.ignoreHover=!0,e.isLocked){n.keyCode!==Rr&&G(n);return}switch(n.keyCode){case Jp:if(Ke(on,n)&&e.control_input.value==""){G(n),e.selectAll();return}break;case Qp:e.isOpen&&(G(n,!0),e.close()),e.clearActiveItems();return;case tg:if(!e.isOpen&&e.hasOptions)e.open();else if(e.activeOption){let i=e.getAdjacent(e.activeOption,1);i&&e.setActiveOption(i)}G(n);return;case Zp:if(e.activeOption){let i=e.getAdjacent(e.activeOption,-1);i&&e.setActiveOption(i)}G(n);return;case Gp:e.canSelect(e.activeOption)?(e.onOptionSelect(n,e.activeOption),G(n)):(e.settings.create&&e.createItem()||document.activeElement==e.control_input&&e.isOpen)&&G(n);return;case Xp:e.advanceSelection(-1,n);return;case eg:e.advanceSelection(1,n);return;case Rr:e.settings.selectOnTab&&(e.canSelect(e.activeOption)&&(e.onOptionSelect(n,e.activeOption),G(n)),e.settings.create&&e.createItem()&&G(n));return;case Nr:case ng:e.deleteSelection(n);return}e.isInputHidden&&!Ke(on,n)&&G(n)}onInput(n){if(this.isLocked)return;const e=this.inputValue();if(this.lastValue!==e){if(this.lastValue=e,e==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Vp(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const n=this.lastValue;this.settings.shouldLoad.call(this,n)&&this.load(n),this.refreshOptions(),this.trigger("type",n)}onOptionHover(n,e){this.ignoreHover||this.setActiveOption(e,!1)}onFocus(n){var e=this,i=e.isFocused;if(e.isDisabled||e.isReadOnly){e.blur(),G(n);return}e.ignoreFocus||(e.isFocused=!0,e.settings.preload==="focus"&&e.preload(),i||e.trigger("focus"),e.activeItems.length||(e.inputState(),e.refreshOptions(!!e.settings.openOnFocus)),e.refreshState())}onBlur(n){if(document.hasFocus()!==!1){var e=this;if(e.isFocused){e.isFocused=!1,e.ignoreFocus=!1;var i=()=>{e.close(),e.setActiveItem(),e.setCaret(e.items.length),e.trigger("blur")};e.settings.create&&e.settings.createOnBlur?e.createItem(null,i):i()}}}onOptionSelect(n,e){var i,s=this;e.parentElement&&e.parentElement.matches("[data-disabled]")||(e.classList.contains("create")?s.createItem(null,()=>{s.settings.closeAfterSelect&&s.close()}):(i=e.dataset.value,typeof i<"u"&&(s.lastQuery=null,s.addItem(i),s.settings.closeAfterSelect&&s.close(),!s.settings.hideSelected&&n.type&&/click/.test(n.type)&&s.setActiveOption(e))))}canSelect(n){return!!(this.isOpen&&n&&this.dropdown_content.contains(n))}onItemSelect(n,e){var i=this;return!i.isLocked&&i.settings.mode==="multi"?(G(n),i.setActiveItem(e,n),!0):!1}canLoad(n){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(n))}load(n){const e=this;if(!e.canLoad(n))return;ge(e.wrapper,e.settings.loadingClass),e.loading++;const i=e.loadCallback.bind(e);e.settings.load.call(e,n,i)}loadCallback(n,e){const i=this;i.loading=Math.max(i.loading-1,0),i.lastQuery=null,i.clearActiveOption(),i.setupOptions(n,e),i.refreshOptions(i.isFocused&&!i.isInputHidden),i.loading||$e(i.wrapper,i.settings.loadingClass),i.trigger("load",n,e)}preload(){var n=this.wrapper.classList;n.contains("preloaded")||(n.add("preloaded"),this.load(""))}setTextboxValue(n=""){var e=this.control_input,i=e.value!==n;i&&(e.value=n,_i(e,"update"),this.lastValue=n)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(n,e){var i=e?[]:["change"];Mr(this,i,()=>{this.clear(e),this.addItems(n,e)})}setMaxItems(n){n===0&&(n=null),this.settings.maxItems=n,this.refreshState()}setActiveItem(n,e){var i=this,s,o,r,a,c,u;if(i.settings.mode!=="single"){if(!n){i.clearActiveItems(),i.isFocused&&i.inputState();return}if(s=e&&e.type.toLowerCase(),s==="click"&&Ke("shiftKey",e)&&i.activeItems.length){for(u=i.getLastActive(),r=Array.prototype.indexOf.call(i.control.children,u),a=Array.prototype.indexOf.call(i.control.children,n),r>a&&(c=r,r=a,a=c),o=r;o<=a;o++)n=i.control.children[o],i.activeItems.indexOf(n)===-1&&i.setActiveItemClass(n);G(e)}else s==="click"&&Ke(on,e)||s==="keydown"&&Ke("shiftKey",e)?n.classList.contains("active")?i.removeActiveItem(n):i.setActiveItemClass(n):(i.clearActiveItems(),i.setActiveItemClass(n));i.inputState(),i.isFocused||i.focus()}}setActiveItemClass(n){const e=this,i=e.control.querySelector(".last-active");i&&$e(i,"last-active"),ge(n,"active last-active"),e.trigger("item_select",n),e.activeItems.indexOf(n)==-1&&e.activeItems.push(n)}removeActiveItem(n){var e=this.activeItems.indexOf(n);this.activeItems.splice(e,1),$e(n,"active")}clearActiveItems(){$e(this.activeItems,"active"),this.activeItems=[]}setActiveOption(n,e=!0){n!==this.activeOption&&(this.clearActiveOption(),n&&(this.activeOption=n,Y(this.focus_node,{"aria-activedescendant":n.getAttribute("id")}),Y(n,{"aria-selected":"true"}),ge(n,"active"),e&&this.scrollToOption(n)))}scrollToOption(n,e){if(!n)return;const i=this.dropdown_content,s=i.clientHeight,o=i.scrollTop||0,r=n.offsetHeight,a=n.getBoundingClientRect().top-i.getBoundingClientRect().top+o;a+r>s+o?this.scroll(a-s+r,e):a<o&&this.scroll(a,e)}scroll(n,e){const i=this.dropdown_content;e&&(i.style.scrollBehavior=e),i.scrollTop=n,i.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&($e(this.activeOption,"active"),Y(this.activeOption,{"aria-selected":null})),this.activeOption=null,Y(this.focus_node,{"aria-activedescendant":null})}selectAll(){const n=this;if(n.settings.mode==="single")return;const e=n.controlChildren();e.length&&(n.inputState(),n.close(),n.activeItems=e,ne(e,i=>{n.setActiveItemClass(i)}))}inputState(){var n=this;n.control.contains(n.control_input)&&(Y(n.control_input,{placeholder:n.settings.placeholder}),n.activeItems.length>0||!n.isFocused&&n.settings.hidePlaceholder&&n.items.length>0?(n.setTextboxValue(),n.isInputHidden=!0):(n.settings.hidePlaceholder&&n.items.length>0&&Y(n.control_input,{placeholder:""}),n.isInputHidden=!1),n.wrapper.classList.toggle("input-hidden",n.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var n=this;n.isDisabled||n.isReadOnly||(n.ignoreFocus=!0,n.control_input.offsetWidth?n.control_input.focus():n.focus_node.focus(),setTimeout(()=>{n.ignoreFocus=!1,n.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(n){return this.sifter.getScoreFunction(n,this.getSearchOptions())}getSearchOptions(){var n=this.settings,e=n.sortField;return typeof n.sortField=="string"&&(e=[{field:n.sortField}]),{fields:n.searchField,conjunction:n.searchConjunction,sort:e,nesting:n.nesting}}search(n){var e,i,s=this,o=this.getSearchOptions();if(s.settings.score&&(i=s.settings.score.call(s,n),typeof i!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return n!==s.lastQuery?(s.lastQuery=n,e=s.sifter.search(n,Object.assign(o,{score:i})),s.currentResults=e):e=Object.assign({},s.currentResults),s.settings.hideSelected&&(e.items=e.items.filter(r=>{let a=_e(r.id);return!(a&&s.items.indexOf(a)!==-1)})),e}refreshOptions(n=!0){var e,i,s,o,r,a,c,u,h,v;const y={},L=[];var b=this,_=b.inputValue();const l=_===b.lastQuery||_==""&&b.lastQuery==null;var d=b.search(_),f=null,g=b.settings.shouldOpen||!1,O=b.dropdown_content;l&&(f=b.activeOption,f&&(h=f.closest("[data-group]"))),o=d.items.length,typeof b.settings.maxOptions=="number"&&(o=Math.min(o,b.settings.maxOptions)),o>0&&(g=!0);const T=(C,A)=>{let E=y[C];if(E!==void 0){let M=L[E];if(M!==void 0)return[E,M.fragment]}let I=document.createDocumentFragment();return E=L.length,L.push({fragment:I,order:A,optgroup:C}),[E,I]};for(e=0;e<o;e++){let C=d.items[e];if(!C)continue;let A=C.id,E=b.options[A];if(E===void 0)continue;let I=hn(A),M=b.getOption(I,!0);for(b.settings.hideSelected||M.classList.toggle("selected",b.items.includes(I)),r=E[b.settings.optgroupField]||"",a=Array.isArray(r)?r:[r],i=0,s=a&&a.length;i<s;i++){r=a[i];let U=E.$order,z=b.optgroups[r];z===void 0?r="":U=z.$order;const[Ee,Ae]=T(r,U);i>0&&(M=M.cloneNode(!0),Y(M,{id:E.$id+"-clone-"+i,"aria-selected":null}),M.classList.add("ts-cloned"),$e(M,"active"),b.activeOption&&b.activeOption.dataset.value==A&&h&&h.dataset.group===r.toString()&&(f=M)),Ae.appendChild(M),r!=""&&(y[r]=Ee)}}b.settings.lockOptgroupOrder&&L.sort((C,A)=>C.order-A.order),c=document.createDocumentFragment(),ne(L,C=>{let A=C.fragment,E=C.optgroup;if(!A||!A.children.length)return;let I=b.optgroups[E];if(I!==void 0){let M=document.createDocumentFragment(),U=b.render("optgroup_header",I);Ye(M,U),Ye(M,A);let z=b.render("optgroup",{group:I,options:M});Ye(c,z)}else Ye(c,A)}),O.innerHTML="",Ye(O,c),b.settings.highlight&&(Wp(O),d.query.length&&d.tokens.length&&ne(d.tokens,C=>{Yp(O,C.regex)}));var D=C=>{let A=b.render(C,{input:_});return A&&(g=!0,O.insertBefore(A,O.firstChild)),A};if(b.loading?D("loading"):b.settings.shouldLoad.call(b,_)?d.items.length===0&&D("no_results"):D("not_loading"),u=b.canCreate(_),u&&(v=D("option_create")),b.hasOptions=d.items.length>0||u,g){if(d.items.length>0){if(!f&&b.settings.mode==="single"&&b.items[0]!=null&&(f=b.getOption(b.items[0])),!O.contains(f)){let C=0;v&&!b.settings.addPrecedence&&(C=1),f=b.selectable()[C]}}else v&&(f=v);n&&!b.isOpen&&(b.open(),b.scrollToOption(f,"auto")),b.setActiveOption(f)}else b.clearActiveOption(),n&&b.isOpen&&b.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(n,e=!1){const i=this;if(Array.isArray(n))return i.addOptions(n,e),!1;const s=_e(n[i.settings.valueField]);return s===null||i.options.hasOwnProperty(s)?!1:(n.$order=n.$order||++i.order,n.$id=i.inputId+"-opt-"+n.$order,i.options[s]=n,i.lastQuery=null,e&&(i.userOptions[s]=e,i.trigger("option_add",s,n)),s)}addOptions(n,e=!1){ne(n,i=>{this.addOption(i,e)})}registerOption(n){return this.addOption(n)}registerOptionGroup(n){var e=_e(n[this.settings.optgroupValueField]);return e===null?!1:(n.$order=n.$order||++this.order,this.optgroups[e]=n,e)}addOptionGroup(n,e){var i;e[this.settings.optgroupValueField]=n,(i=this.registerOptionGroup(e))&&this.trigger("optgroup_add",i,e)}removeOptionGroup(n){this.optgroups.hasOwnProperty(n)&&(delete this.optgroups[n],this.clearCache(),this.trigger("optgroup_remove",n))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(n,e){const i=this;var s,o;const r=_e(n),a=_e(e[i.settings.valueField]);if(r===null)return;const c=i.options[r];if(c==null)return;if(typeof a!="string")throw new Error("Value must be set in option data");const u=i.getOption(r),h=i.getItem(r);if(e.$order=e.$order||c.$order,delete i.options[r],i.uncacheValue(a),i.options[a]=e,u){if(i.dropdown_content.contains(u)){const v=i._render("option",e);Gi(u,v),i.activeOption===u&&i.setActiveOption(v)}u.remove()}h&&(o=i.items.indexOf(r),o!==-1&&i.items.splice(o,1,a),s=i._render("item",e),h.classList.contains("active")&&ge(s,"active"),Gi(h,s)),i.lastQuery=null}removeOption(n,e){const i=this;n=hn(n),i.uncacheValue(n),delete i.userOptions[n],delete i.options[n],i.lastQuery=null,i.trigger("option_remove",n),i.removeItem(n,e)}clearOptions(n){const e=(n||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const i={};ne(this.options,(s,o)=>{e(s,o)&&(i[o]=s)}),this.options=this.sifter.items=i,this.lastQuery=null,this.trigger("option_clear")}clearFilter(n,e){return this.items.indexOf(e)>=0}getOption(n,e=!1){const i=_e(n);if(i===null)return null;const s=this.options[i];if(s!=null){if(s.$div)return s.$div;if(e)return this._render("option",s)}return null}getAdjacent(n,e,i="option"){var s=this,o;if(!n)return null;i=="item"?o=s.controlChildren():o=s.dropdown_content.querySelectorAll("[data-selectable]");for(let r=0;r<o.length;r++)if(o[r]==n)return e>0?o[r+1]:o[r-1];return null}getItem(n){if(typeof n=="object")return n;var e=_e(n);return e!==null?this.control.querySelector(`[data-value="${Ir(e)}"]`):null}addItems(n,e){var i=this,s=Array.isArray(n)?n:[n];s=s.filter(r=>i.items.indexOf(r)===-1);const o=s[s.length-1];s.forEach(r=>{i.isPending=r!==o,i.addItem(r,e)})}addItem(n,e){var i=e?[]:["change","dropdown_close"];Mr(this,i,()=>{var s,o;const r=this,a=r.settings.mode,c=_e(n);if(!(c&&r.items.indexOf(c)!==-1&&(a==="single"&&r.close(),a==="single"||!r.settings.duplicates))&&!(c===null||!r.options.hasOwnProperty(c))&&(a==="single"&&r.clear(e),!(a==="multi"&&r.isFull()))){if(s=r._render("item",r.options[c]),r.control.contains(s)&&(s=s.cloneNode(!0)),o=r.isFull(),r.items.splice(r.caretPos,0,c),r.insertAtCaret(s),r.isSetup){if(!r.isPending&&r.settings.hideSelected){let u=r.getOption(c),h=r.getAdjacent(u,1);h&&r.setActiveOption(h)}!r.isPending&&!r.settings.closeAfterSelect&&r.refreshOptions(r.isFocused&&a!=="single"),r.settings.closeAfterSelect!=!1&&r.isFull()?r.close():r.isPending||r.positionDropdown(),r.trigger("item_add",c,s),r.isPending||r.updateOriginalInput({silent:e})}(!r.isPending||!o&&r.isFull())&&(r.inputState(),r.refreshState())}})}removeItem(n=null,e){const i=this;if(n=i.getItem(n),!n)return;var s,o;const r=n.dataset.value;s=Pr(n),n.remove(),n.classList.contains("active")&&(o=i.activeItems.indexOf(n),i.activeItems.splice(o,1),$e(n,"active")),i.items.splice(s,1),i.lastQuery=null,!i.settings.persist&&i.userOptions.hasOwnProperty(r)&&i.removeOption(r,e),s<i.caretPos&&i.setCaret(i.caretPos-1),i.updateOriginalInput({silent:e}),i.refreshState(),i.positionDropdown(),i.trigger("item_remove",r,n)}createItem(n=null,e=()=>{}){arguments.length===3&&(e=arguments[2]),typeof e!="function"&&(e=()=>{});var i=this,s=i.caretPos,o;if(n=n||i.inputValue(),!i.canCreate(n))return e(),!1;i.lock();var r=!1,a=c=>{if(i.unlock(),!c||typeof c!="object")return e();var u=_e(c[i.settings.valueField]);if(typeof u!="string")return e();i.setTextboxValue(),i.addOption(c,!0),i.setCaret(s),i.addItem(u),e(c),r=!0};return typeof i.settings.create=="function"?o=i.settings.create.call(this,n,a):o={[i.settings.labelField]:n,[i.settings.valueField]:n},r||a(o),!0}refreshItems(){var n=this;n.lastQuery=null,n.isSetup&&n.addItems(n.items),n.updateOriginalInput(),n.refreshState()}refreshState(){const n=this;n.refreshValidityState();const e=n.isFull(),i=n.isLocked;n.wrapper.classList.toggle("rtl",n.rtl);const s=n.wrapper.classList;s.toggle("focus",n.isFocused),s.toggle("disabled",n.isDisabled),s.toggle("readonly",n.isReadOnly),s.toggle("required",n.isRequired),s.toggle("invalid",!n.isValid),s.toggle("locked",i),s.toggle("full",e),s.toggle("input-active",n.isFocused&&!n.isInputHidden),s.toggle("dropdown-active",n.isOpen),s.toggle("has-options",Kp(n.options)),s.toggle("has-items",n.items.length>0)}refreshValidityState(){var n=this;n.input.validity&&(n.isValid=n.input.validity.valid,n.isInvalid=!n.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(n={}){const e=this;var i,s;const o=e.input.querySelector('option[value=""]');if(e.is_select_tag){let c=function(u,h,v){return u||(u=Te('<option value="'+yi(h)+'">'+yi(v)+"</option>")),u!=o&&e.input.append(u),r.push(u),(u!=o||a>0)&&(u.selected=!0),u};const r=[],a=e.input.querySelectorAll("option:checked").length;e.input.querySelectorAll("option:checked").forEach(u=>{u.selected=!1}),e.items.length==0&&e.settings.mode=="single"?c(o,"",""):e.items.forEach(u=>{if(i=e.options[u],s=i[e.settings.labelField]||"",r.includes(i.$option)){const h=e.input.querySelector(`option[value="${Ir(u)}"]:not(:checked)`);c(h,u,s)}else i.$option=c(i.$option,u,s)})}else e.input.value=e.getValue();e.isSetup&&(n.silent||e.trigger("change",e.getValue()))}open(){var n=this;n.isLocked||n.isOpen||n.settings.mode==="multi"&&n.isFull()||(n.isOpen=!0,Y(n.focus_node,{"aria-expanded":"true"}),n.refreshState(),rn(n.dropdown,{visibility:"hidden",display:"block"}),n.positionDropdown(),rn(n.dropdown,{visibility:"visible",display:"block"}),n.focus(),n.trigger("dropdown_open",n.dropdown))}close(n=!0){var e=this,i=e.isOpen;n&&(e.setTextboxValue(),e.settings.mode==="single"&&e.items.length&&e.inputState()),e.isOpen=!1,Y(e.focus_node,{"aria-expanded":"false"}),rn(e.dropdown,{display:"none"}),e.settings.hideSelected&&e.clearActiveOption(),e.refreshState(),i&&e.trigger("dropdown_close",e.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var n=this.control,e=n.getBoundingClientRect(),i=n.offsetHeight+e.top+window.scrollY,s=e.left+window.scrollX;rn(this.dropdown,{width:e.width+"px",top:i+"px",left:s+"px"})}}clear(n){var e=this;if(e.items.length){var i=e.controlChildren();ne(i,s=>{e.removeItem(s,!0)}),e.inputState(),n||e.updateOriginalInput(),e.trigger("clear")}}insertAtCaret(n){const e=this,i=e.caretPos,s=e.control;s.insertBefore(n,s.children[i]||null),e.setCaret(i+1)}deleteSelection(n){var e,i,s,o,r=this;e=n&&n.keyCode===Nr?-1:1,i=Up(r.control_input);const a=[];if(r.activeItems.length)o=Fr(r.activeItems,e),s=Pr(o),e>0&&s++,ne(r.activeItems,c=>a.push(c));else if((r.isFocused||r.settings.mode==="single")&&r.items.length){const c=r.controlChildren();let u;e<0&&i.start===0&&i.length===0?u=c[r.caretPos-1]:e>0&&i.start===r.inputValue().length&&(u=c[r.caretPos]),u!==void 0&&a.push(u)}if(!r.shouldDelete(a,n))return!1;for(G(n,!0),typeof s<"u"&&r.setCaret(s);a.length;)r.removeItem(a.pop());return r.inputState(),r.positionDropdown(),r.refreshOptions(!1),!0}shouldDelete(n,e){const i=n.map(s=>s.dataset.value);return!(!i.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(i,e)===!1)}advanceSelection(n,e){var i,s,o=this;o.rtl&&(n*=-1),!o.inputValue().length&&(Ke(on,e)||Ke("shiftKey",e)?(i=o.getLastActive(n),i?i.classList.contains("active")?s=o.getAdjacent(i,n,"item"):s=i:n>0?s=o.control_input.nextElementSibling:s=o.control_input.previousElementSibling,s&&(s.classList.contains("active")&&o.removeActiveItem(i),o.setActiveItemClass(s))):o.moveCaret(n))}moveCaret(n){}getLastActive(n){let e=this.control.querySelector(".last-active");if(e)return e;var i=this.control.querySelectorAll(".active");if(i)return Fr(i,n)}setCaret(n){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(n=this.isReadOnly||this.isDisabled){this.isLocked=n,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(n){this.focus_node.tabIndex=n?-1:this.tabIndex,this.isDisabled=n,this.input.disabled=n,this.control_input.disabled=n,this.setLocked()}setReadOnly(n){this.isReadOnly=n,this.input.readOnly=n,this.control_input.readOnly=n,this.setLocked()}destroy(){var n=this,e=n.revertSettings;n.trigger("destroy"),n.off(),n.wrapper.remove(),n.dropdown.remove(),n.input.innerHTML=e.innerHTML,n.input.tabIndex=e.tabIndex,$e(n.input,"tomselected","ts-hidden-accessible"),n._destroy(),delete n.input.tomselect}render(n,e){var i,s;const o=this;if(typeof this.settings.render[n]!="function"||(s=o.settings.render[n].call(this,e,yi),!s))return null;if(s=Te(s),n==="option"||n==="option_create"?e[o.settings.disabledField]?Y(s,{"aria-disabled":"true"}):Y(s,{"data-selectable":""}):n==="optgroup"&&(i=e.group[o.settings.optgroupValueField],Y(s,{"data-group":i}),e.group[o.settings.disabledField]&&Y(s,{"data-disabled":""})),n==="option"||n==="item"){const r=hn(e[o.settings.valueField]);Y(s,{"data-value":r}),n==="item"?(ge(s,o.settings.itemClass),Y(s,{"data-ts-item":""})):(ge(s,o.settings.optionClass),Y(s,{role:"option",id:e.$id}),e.$div=s,o.options[r]=e)}return s}_render(n,e){const i=this.render(n,e);if(i==null)throw"HTMLElement expected";return i}clearCache(){ne(this.options,n=>{n.$div&&(n.$div.remove(),delete n.$div)})}uncacheValue(n){const e=this.getOption(n);e&&e.remove()}canCreate(n){return this.settings.create&&n.length>0&&this.settings.createFilter.call(this,n)}hook(n,e,i){var s=this,o=s[e];s[e]=function(){var r,a;return n==="after"&&(r=o.apply(s,arguments)),a=i.apply(s,arguments),n==="instead"?a:(n==="before"&&(r=o.apply(s,arguments)),r)}}}const sg=(t,n,e,i)=>{t.addEventListener(n,e,i)};function rg(){sg(this.input,"change",()=>{this.sync()})}const og=t=>typeof t>"u"||t===null?null:ag(t),ag=t=>typeof t=="boolean"?t?"1":"0":t+"",Br=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},lg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(cg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},cg=t=>typeof t=="string"&&t.indexOf("<")>-1;function ug(t){var n=this,e=n.onOptionSelect;n.settings.hideSelected=!1;const i=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var s=function(a,c){c?(a.checked=!0,i.uncheckedClassNames&&a.classList.remove(...i.uncheckedClassNames),i.checkedClassNames&&a.classList.add(...i.checkedClassNames)):(a.checked=!1,i.checkedClassNames&&a.classList.remove(...i.checkedClassNames),i.uncheckedClassNames&&a.classList.add(...i.uncheckedClassNames))},o=function(a){setTimeout(()=>{var c=a.querySelector("input."+i.className);c instanceof HTMLInputElement&&s(c,a.classList.contains("selected"))},1)};n.hook("after","setupTemplates",()=>{var r=n.settings.render.option;n.settings.render.option=(a,c)=>{var u=lg(r.call(n,a,c)),h=document.createElement("input");i.className&&h.classList.add(i.className),h.addEventListener("click",function(y){Br(y)}),h.type="checkbox";const v=og(a[n.settings.valueField]);return s(h,!!(v&&n.items.indexOf(v)>-1)),u.prepend(h),u}}),n.on("item_remove",r=>{var a=n.getOption(r);a&&(a.classList.remove("selected"),o(a))}),n.on("item_add",r=>{var a=n.getOption(r);a&&o(a)}),n.hook("instead","onOptionSelect",(r,a)=>{if(a.classList.contains("selected")){a.classList.remove("selected"),n.removeItem(a.dataset.value),n.refreshOptions(),Br(r,!0);return}e.call(n,r,a),o(a)})}const dg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(fg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},fg=t=>typeof t=="string"&&t.indexOf("<")>-1;function hg(t){const n=this,e=Object.assign({className:"clear-button",title:"Clear All",html:i=>`<div class="${i.className}" title="${i.title}">&#10799;</div>`},t);n.on("initialize",()=>{var i=dg(e.html(e));i.addEventListener("click",s=>{n.isLocked||(n.clear(),n.settings.mode==="single"&&n.settings.allowEmptyOption&&n.addItem(""),s.preventDefault(),s.stopPropagation())}),n.control.appendChild(i)})}const pg=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},at=(t,n,e,i)=>{t.addEventListener(n,e,i)},gg=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},mg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(vg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},vg=t=>typeof t=="string"&&t.indexOf("<")>-1,bg=(t,n)=>{gg(n,(e,i)=>{e==null?t.removeAttribute(i):t.setAttribute(i,""+e)})},yg=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t.nextSibling)},wg=(t,n)=>{var e;(e=t.parentNode)==null||e.insertBefore(n,t)},_g=(t,n)=>{do{var e;if(n=(e=n)==null?void 0:e.previousElementSibling,t==n)return!0}while(n&&n.previousElementSibling);return!1};function Og(){var t=this;if(t.settings.mode!=="multi")return;var n=t.lock,e=t.unlock;let i=!0,s;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(r,a)=>{const c=mg(o.call(t,r,a));bg(c,{draggable:"true"});const u=_=>{i||pg(_),_.stopPropagation()},h=_=>{s=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},v=_=>{_.preventDefault(),c.classList.add("ts-drag-over"),L(c,s)},y=()=>{c.classList.remove("ts-drag-over")},L=(_,l)=>{l!==void 0&&(_g(l,c)?yg(_,l):wg(_,l))},b=()=>{var _;document.querySelectorAll(".ts-drag-over").forEach(d=>d.classList.remove("ts-drag-over")),(_=s)==null||_.classList.remove("ts-dragging"),s=void 0;var l=[];t.control.querySelectorAll("[data-value]").forEach(d=>{if(d.dataset.value){let f=d.dataset.value;f&&l.push(f)}}),t.setValue(l)};return at(c,"mousedown",u),at(c,"dragstart",h),at(c,"dragenter",v),at(c,"dragover",v),at(c,"dragleave",y),at(c,"dragend",b),c}}),t.hook("instead","lock",()=>(i=!1,n.call(t))),t.hook("instead","unlock",()=>(i=!0,e.call(t)))}const Cg=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},xg=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Sg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Sg=t=>typeof t=="string"&&t.indexOf("<")>-1;function Eg(t){const n=this,e=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:i=>'<div class="'+i.headerClass+'"><div class="'+i.titleRowClass+'"><span class="'+i.labelClass+'">'+i.title+'</span><a class="'+i.closeClass+'">&times;</a></div></div>'},t);n.on("initialize",()=>{var i=xg(e.html(e)),s=i.querySelector("."+e.closeClass);s&&s.addEventListener("click",o=>{Cg(o,!0),n.close()}),n.dropdown.insertBefore(i,n.dropdown.firstChild)})}const Ag=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Dg=(t,...n)=>{var e=Lg(n);t=Tg(t),t.map(i=>{e.map(s=>{i.classList.remove(s)})})},Lg=t=>{var n=[];return Ag(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Tg=t=>(Array.isArray(t)||(t=[t]),t),kg=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Mg(){var t=this;t.hook("instead","setCaret",n=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?n=t.items.length:(n=Math.max(0,Math.min(t.items.length,n)),n!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((e,i)=>{i<n?t.control_input.insertAdjacentElement("beforebegin",e):t.control.appendChild(e)})),t.caretPos=n}),t.hook("instead","moveCaret",n=>{if(!t.isFocused)return;const e=t.getLastActive(n);if(e){const i=kg(e);t.setCaret(n>0?i+1:i),t.setActiveItem(),Dg(e,"last-active")}else t.setCaret(t.caretPos+n)})}const Ig=27,Fg=9,Pg=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},Ng=(t,n,e,i)=>{t.addEventListener(n,e,i)},Rg=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},Vr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if($g(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},$g=t=>typeof t=="string"&&t.indexOf("<")>-1,Hg=(t,...n)=>{var e=jg(n);t=Bg(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},jg=t=>{var n=[];return Rg(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},Bg=t=>(Array.isArray(t)||(t=[t]),t);function Vg(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,Hg(t.control_input,"dropdown-input");const n=Vr('<div class="dropdown-input-wrap">');n.append(t.control_input),t.dropdown.insertBefore(n,t.dropdown.firstChild);const e=Vr('<input class="items-placeholder" tabindex="-1" />');e.placeholder=t.settings.placeholder||"",t.control.append(e)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",e=>{switch(e.keyCode){case Ig:t.isOpen&&(Pg(e,!0),t.close()),t.clearActiveItems();return;case Fg:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,e)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const n=t.onBlur;t.hook("instead","onBlur",e=>{if(!(e&&e.relatedTarget==t.control_input))return n.call(t)}),Ng(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const an=(t,n,e,i)=>{t.addEventListener(n,e,i)};function qg(){var t=this;t.on("initialize",()=>{var n=document.createElement("span"),e=t.control_input;n.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(n);var i=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of i)n.style[o]=e.style[o];var s=()=>{n.textContent=e.value,e.style.width=n.clientWidth+"px"};s(),t.on("update item_add item_remove",s),an(e,"input",s),an(e,"keyup",s),an(e,"blur",s),an(e,"update",s)})}function Ug(){var t=this,n=t.deleteSelection;this.hook("instead","deleteSelection",e=>t.activeItems.length?n.call(t,e):!1)}function zg(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const qr=37,Kg=39,Yg=(t,n,e)=>{for(;t&&t.matches;){if(t.matches(n))return t;t=t.parentNode}},Wg=(t,n)=>{if(!t)return-1;n=n||t.nodeName;for(var e=0;t=t.previousElementSibling;)t.matches(n)&&e++;return e};function Jg(){var t=this,n=t.onKeyDown;t.hook("instead","onKeyDown",e=>{var i,s,o,r;if(!t.isOpen||!(e.keyCode===qr||e.keyCode===Kg))return n.call(t,e);t.ignoreHover=!0,r=Yg(t.activeOption,"[data-group]"),i=Wg(t.activeOption,"[data-selectable]"),r&&(e.keyCode===qr?r=r.previousSibling:r=r.nextSibling,r&&(o=r.querySelectorAll("[data-selectable]"),s=o[Math.min(o.length-1,i)],s&&t.setActiveOption(s)))})}const Gg=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Ur=(t,n=!1)=>{t&&(t.preventDefault(),n&&t.stopPropagation())},zr=(t,n,e,i)=>{t.addEventListener(n,e,i)},Kr=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Qg(t)){var n=document.createElement("template");return n.innerHTML=t.trim(),n.content.firstChild}return document.querySelector(t)},Qg=t=>typeof t=="string"&&t.indexOf("<")>-1;function Xg(t){const n=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var e=this;if(n.append){var i='<a href="javascript:void(0)" class="'+n.className+'" tabindex="-1" title="'+Gg(n.title)+'">'+n.label+"</a>";e.hook("after","setupTemplates",()=>{var s=e.settings.render.item;e.settings.render.item=(o,r)=>{var a=Kr(s.call(e,o,r)),c=Kr(i);return a.appendChild(c),zr(c,"mousedown",u=>{Ur(u,!0)}),zr(c,"click",u=>{e.isLocked||(Ur(u,!0),!e.isLocked&&e.shouldDelete([a],u)&&(e.removeItem(a),e.refreshOptions(!1),e.inputState()))}),a}})}}function Zg(t){const n=this,e=Object.assign({text:i=>i[n.settings.labelField]},t);n.on("item_remove",function(i){if(n.isFocused&&n.control_input.value.trim()===""){var s=n.options[i];s&&n.setTextboxValue(e.text.call(n,s))}})}const em=(t,n)=>{if(Array.isArray(t))t.forEach(n);else for(var e in t)t.hasOwnProperty(e)&&n(t[e],e)},tm=(t,...n)=>{var e=nm(n);t=im(t),t.map(i=>{e.map(s=>{i.classList.add(s)})})},nm=t=>{var n=[];return em(t,e=>{typeof e=="string"&&(e=e.trim().split(/[\t\n\f\r\s]/)),Array.isArray(e)&&(n=n.concat(e))}),n.filter(Boolean)},im=t=>(Array.isArray(t)||(t=[t]),t);function sm(){const t=this,n=t.canLoad,e=t.clearActiveOption,i=t.loadCallback;var s={},o,r=!1,a,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var y=t.selectable(),L=Array.from(y).indexOf(t.activeOption);if(L>=y.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const u=v=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(v in s&&s[v]),h=(v,y)=>t.items.indexOf(y)>=0||c.indexOf(y)>=0;t.setNextUrl=(v,y)=>{s[v]=y},t.getUrl=v=>{if(v in s){const y=s[v];return s[v]=!1,y}return t.clearPagination(),t.settings.firstUrl.call(t,v)},t.clearPagination=()=>{s={}},t.hook("instead","clearActiveOption",()=>{if(!r)return e.call(t)}),t.hook("instead","canLoad",v=>v in s?u(v):n.call(t,v)),t.hook("instead","loadCallback",(v,y)=>{if(!r)t.clearOptions(h);else if(a){const L=v[0];L!==void 0&&(a.dataset.value=L[t.settings.valueField])}i.call(t,v,y),r=!1}),t.hook("after","refreshOptions",()=>{const v=t.lastValue;var y;u(v)?(y=t.render("loading_more",{query:v}),y&&(y.setAttribute("data-selectable",""),a=y)):v in s&&!o.querySelector(".no-results")&&(y=t.render("no_more_results",{query:v})),y&&(tm(y,t.settings.optionClass),o.append(y))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&u(t.lastValue)&&(r||(r=!0,t.load.call(t,t.lastValue)))})})}ce.define("change_listener",rg);ce.define("checkbox_options",ug);ce.define("clear_button",hg);ce.define("drag_drop",Og);ce.define("dropdown_header",Eg);ce.define("caret_position",Mg);ce.define("dropdown_input",Vg);ce.define("input_autogrow",qg);ce.define("no_backspace_delete",Ug);ce.define("no_active_items",zg);ce.define("optgroup_columns",Jg);ce.define("remove_button",Xg);ce.define("restore_on_backspace",Zg);ce.define("virtual_scroll",sm);window.SlimSelect=yp;window.TomSelect=ce;window.Alpine=Da;Da.start();
