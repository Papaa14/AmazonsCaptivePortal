$(location).attr("href").split("/").pop();$(function(){$(".custom-scroll").length&&($(".custom-scroll").niceScroll(),$(".custom-scroll-horizontal").niceScroll())});$(document).ready(function(){$(document).on("change",".file-validate",function(){let t=$(this)[0],e=file_size,a=file_types;if($(".file-error").text(""),t.files.length>0){let o=t.files[0],l=o.size/1024,i=o.name.split(".").pop().toLowerCase();if(a.split(",").includes(i)){if(l>e)return $(this).next().text(size_err),t.value="",!1}else return $(this).next().text(type_err),t.value="",!1}return!0})});function r(){var t=document.querySelectorAll(".needs-validation");Array.prototype.forEach.call(t,function(e){e.addEventListener("submit",function(a){var n=e.querySelector('button[type="submit"], input[type="submit"]');n&&(n.disabled=!0),e.checkValidity()===!1&&(a.preventDefault(),a.stopPropagation(),n&&(n.disabled=!1)),e.classList.add("was-validated")},!1)})}$(document).ready(function(){$(".datatable").length>0&&new simpleDatatables.DataTable(".datatable"),f(),v(),g()});$(document).ready(function(){$(".needs-validation").length>0&&r(),$(".pc-dt-simple").length>0&&$($(".pc-dt-simple")).each(function(t,e){var a=$(e).attr("id");new simpleDatatables.DataTable("#"+a)}),f(),v(),g()});function g(){$("#pc-daterangepicker-1").length>0&&document.querySelector("#pc-daterangepicker-1").flatpickr({mode:"range"})}function f(){$(".select2").length>0&&$($(".select2")).each(function(t,e){var a=$(e).attr("id");new Choices("#"+a,{removeItemButton:!0})})}function d(t,e){var a=document.getElementById("liveToast");new bootstrap.Toast(a).show(),$("#liveToast").addClass("bg-danger"),$("#liveToast .toast-body").html(e)}$(document).on("click",'a[data-ajax-popup="true"], button[data-ajax-popup="true"], div[data-ajax-popup="true"]',function(){var t={},e=$(this).data("title"),a=$(this).data("bs-original-title"),n=$(this).data("original-title"),o=e??a,o=o??n;$("#commonModal .modal-dialog").removeClass("modal-sm modal-md modal-lg modal-xl modal-xxl");var l=$(this).data("size")==""?"md":$(this).data("size"),i=$(this).data("url");$("#commonModal .modal-title").html(o),$("#commonModal .modal-dialog").addClass("modal-"+l),$("#vc_name_hidden").length>0&&(t.vc_name=$("#vc_name_hidden").val()),$("#warehouse_name_hidden").length>0&&(t.warehouse_name=$("#warehouse_name_hidden").val()),$("#discount_hidden").length>0&&(t.discount=$("#discount_hidden").val()),$("#quotation_id").length>0&&(t.quotation_id=$("#quotation_id").val()),$.ajax({url:i,data:t,success:function(s){$("#commonModal .body").html(s),$("#commonModal").modal("show"),u(),c(),r(),h()},error:function(s){s=s.responseJSON,d("Error",s.error)}})});$(document).on("click",'a[data-offcanvas="true"], button[data-offcanvas="true"], div[data-offcanvas="true"]',function(){console.log("Offcanvas trigger clicked");var t={},e=$(this).data("title"),a=$(this).data("bs-original-title"),n=$(this).data("original-title"),o=e!==void 0?e:a;o=o!==void 0?o:n;var l=$(this).data("url");$("#offcanvasEndLabel").html(o),$.ajax({url:l,data:t,success:function(i){$("#offcanvasEnd .offcanvas-body").html(i),$("#offcanvasEnd").offcanvas("show"),u(),c(),r(),h()},error:function(i){i=i.responseJSON,d("Error",i.error)}})});$(document).on("click",'a[data-offcanvas="true"], button[data-offcanvas="true"], div[data-offcanvas="true"]',function(){console.log("Offcanvas trigger clicked");var t={},e=$(this).data("title"),a=$(this).data("bs-original-title"),n=$(this).data("original-title"),o=e!==void 0?e:a;o=o!==void 0?o:n;var l=$(this).data("url");$("#offcanvasEndLabel").html(o),$.ajax({url:l,data:t,success:function(i){$("#offcanvasEnd .offcanvas-body").html(i),$("#offcanvasEnd").offcanvas("show"),u(),c(),r(),h()},error:function(i){i=i.responseJSON,d("Error",i.error)}})});function c(){f()}function u(){var t=0,e=0,a=0;e=$("#check-list input[type=checkbox]").length,t=$("#check-list input[type=checkbox]:checked").length,a=parseInt(t/e*100,10),isNaN(a)&&(a=0),$(".custom-label").text(a+"%"),$("#taskProgress").css("width",a+"%"),$("#taskProgress").removeClass("bg-warning"),$("#taskProgress").removeClass("bg-primary"),$("#taskProgress").removeClass("bg-success"),$("#taskProgress").removeClass("bg-danger"),a<=15?$("#taskProgress").addClass("bg-danger"):a>15&&a<=33?$("#taskProgress").addClass("bg-warning"):a>33&&a<=70?$("#taskProgress").addClass("bg-primary"):$("#taskProgress").addClass("bg-success")}function h(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="tags"]').length>0&&$('[data-toggle="tags"]').tagsinput({tagClass:"badge badge-primary"});var t=$(".scrollbar-inner");t.length&&t.scrollbar().scrollLock();var e=$(".custom-input-file");e.length&&e.each(function(){var a=$(this);a.on("change",function(n){(function(o,l,i){var s,m=o.next("label"),b=m.html();l&&l.files.length>1?s=(l.getAttribute("data-multiple-caption")||"").replace("{count}",l.files.length):i.target.value&&(s=i.target.value.split("\\").pop()),s?m.find("span").html(s):m.html(b)})(a,this,n)}),a.on("focus",function(){(function(n){n.addClass("has-focus")})(a)}).on("blur",function(){(function(n){n.removeClass("has-focus")})(a)})}),$(".jscolor").length&&jscolor.installByClassName("jscolor"),v(),$(document).on("change","input[type=file]",function(){var a=$(this).attr("data-filename"),n=$(this).val().split("\\").pop();$("."+a).html(n)})}function v(){$(".summernote-simple").length&&($(".summernote-simple").summernote({placeholder:"Write Here… ",tabsize:2,minHeight:200,maxHeight:250,toolbar:[["style",["style"]],["font",["bold","italic","underline","strikethrough"]],["list",["ul","ol","paragraph"]],["insert",["link","unlink"]]],height:250}),$(".dropdown-toggle").dropdown()),$(".summernote-simple-2").length&&$(".summernote-simple-2").summernote({placeholder:"Write Here… ",dialogsInBody:!0,minHeight:200,maxHeight:250,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear","strikethrough"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]]]})}$(document).on("click",".bs-pass-para",function(){var t=$(this).closest("form");Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Are you sure?",text:"This action can not be undone. Do you want to continue?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(a=>{a.isConfirmed?t.submit():(a.dismiss,Swal.DismissReason.cancel)})});$(document).on("click",".bs-pass-para-pos",function(){Swal.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}).fire({title:"Are you sure?",text:"This action can not be undone. Do you want to continue?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes",cancelButtonText:"No",reverseButtons:!0}).then(e=>{e.isConfirmed?document.getElementById($(this).data("confirm-yes")).submit():(e.dismiss,Swal.DismissReason.cancel)})});$(document).on("click",".local_calender .fc-daygrid-event, .fc-timegrid-event",function(t){t.preventDefault(),$(this);var e=$(".fc-event-title").html(),a=$(this).data("bs-original-title"),n=e??a,o="md",l=$(this).attr("href");$("#commonModal .modal-title").html(n),$("#commonModal .modal-dialog").removeClass("modal-sm modal-md modal-lg modal-xl modal-xxl"),$("#commonModal .modal-dialog").addClass("modal-"+o),$.ajax({url:l,success:function(i){$("#commonModal .body").html(i),$("#commonModal").modal("show"),c()},error:function(i){i=i.responseJSON,toastrs("Error",i.error,"error")}})});function p(){jQuery("div.quantity:not(.buttons_added), td.quantity:not(.buttons_added)").each(function(t,e){var a=jQuery(e);a.addClass("buttons_added"),a.children().first().before('<input type="button" value="-" class="minus" />'),a.children().last().after('<input type="button" value="+" class="plus" />')})}String.prototype.getDecimals||(String.prototype.getDecimals=function(){var t=this,e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}),jQuery(document).ready(function(){p()}),jQuery(document).on("updated_wc_div",function(){p()}),jQuery(document).on("click",".plus, .minus",function(){var t=jQuery(this).closest(".quantity").find('input[name="quantity"], input[name="quantity[]"]'),e=parseFloat(t.val()),a=parseFloat(t.attr("max")),n=parseFloat(t.attr("min")),o=t.attr("step");e&&e!==""&&e!=="NaN"||(e=0),a!==""&&a!=="NaN"||(a=""),n!==""&&n!=="NaN"||(n=0),o!=="any"&&o!==""&&o!==void 0&&parseFloat(o)!=="NaN"||(o=1),jQuery(this).is(".plus")?a&&e>=a?t.val(a):t.val((e+parseFloat(o)).toFixed(o.getDecimals())):n&&e<=n?t.val(n):e>0&&t.val((e-parseFloat(o)).toFixed(o.getDecimals())),t.trigger("change")});$(document).on("click",'input[name="quantity"], input[name="quantity[]"]',function(t){$.inArray(t.keyCode,[46,8,9,27,13,190])!==-1||t.keyCode==65&&t.ctrlKey===!0||t.keyCode>=35&&t.keyCode<=39||(t.shiftKey||t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105)&&t.preventDefault()});$(document).on("click",'a[data-ajax-popup-over="true"], button[data-ajax-popup-over="true"], div[data-ajax-popup-over="true"]',function(){var t=$(this).attr("data-validate"),e="";t&&(e=$(t).val());var a=$(this).data("title");$("#commonModalOver .modal-dialog").removeClass("modal-sm modal-md modal-lg modal-xl modal-xxl");var n=$(this).data("size")==""?"md":$(this).data("size"),o=$(this).data("url");$("#commonModalOver .modal-title").html(a),$("#commonModalOver .modal-dialog").addClass("modal-"+n),$.ajax({url:o+"?id="+e,success:function(l){$("#commonModalOver .modal-body").html(l),$("#commonModalOver").modal("show"),u()},error:function(l){l=l.responseJSON,d("Error",l.error)}})});$(document).ready(function(){t();function t(){$(".js-searchBox").length&&$(".js-searchBox").each(function(e){$(this).parent().find(".formTextbox").length===0&&$(this).searchBox({elementWidth:"250"})})}});
